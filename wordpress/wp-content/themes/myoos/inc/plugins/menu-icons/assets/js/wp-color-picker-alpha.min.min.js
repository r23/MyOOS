(function(g){var f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==";var e='<button type="button" class="button wp-color-result" aria-expanded="false"><span class="wp-color-result-text"></span></button>',d='<div class="wp-picker-holder" />',i='<div class="wp-picker-container" />',j='<input type="button" class="button button-small button-clear hidden" />',b="<label></label>",c='<span class="screen-reader-text"></span>',h='<button type="button" class="button button-confirm" />',a='<div style="fill: #3EF400; width: 25px; height: 25px; margin-top: -1px;"><svg viewBox="0 0 28 28" preserveAspectRatio="xMidYMid meet" shapeRendering="geometricPrecision"><g><path d="M19.203 9.21a.677.677 0 0 0-.98 0l-5.71 5.9-2.85-2.95a.675.675 0 0 0-.98 0l-1.48 1.523a.737.737 0 0 0 0 1.015l4.82 4.979a.677.677 0 0 0 .98 0l7.68-7.927a.737.737 0 0 0 0-1.015l-1.48-1.525z" fillRule="evenodd" /></g></svg></div>';Color.fn.toString=function(){if(this._alpha<1){return this.toCSS("rgba",this._alpha).replace(/\s+/g,"")}var l=parseInt(this._color,10).toString(16);if(this.error){return""}if(l.length<6){for(var k=6-l.length-1;k>=0;k--){l="0"+l}}return"#"+l};g.widget("wp.wpColorPicker",g.wp.wpColorPicker,{_create:function(){if(!g.support.iris){return}var k=this,l=k.element;g.extend(k.options,l.data());if(k.options.type==="hue"){return k._createHueOnly()}k.close=g.proxy(k.close,k);k.initialValue=l.val();l.addClass("wp-color-picker");if(!l.parent("label").length){l.wrap(b);k.wrappingLabelText=g(c).insertBefore(l).text(wpColorPickerL10n.defaultLabel)}k.wrappingLabel=l.parent();k.wrappingLabel.wrap(i);k.wrap=k.wrappingLabel.parent();k.toggler=g(e).insertBefore(k.wrappingLabel).css({backgroundColor:k.initialValue}).attr("title",wpColorPickerL10n.pick).addClass("et-wp-color-result-updated");if(typeof wpmi_l10n!=="undefined"){k.toggler.attr("data-legacy_title",wpmi_l10n.legacy_pick).attr("data-current",wpmi_l10n.legacy_current)}k.toggler.find(".wp-color-result-text").text(wpColorPickerL10n.pick);k.pickerContainer=g(d).insertAfter(k.wrappingLabel);k.button=g(j);k.close_button=g(h).html(a);if(k.options.diviColorpicker){l.after(k.close_button)}if(k.options.defaultColor){k.button.addClass("wp-picker-default").val(wpColorPickerL10n.defaultString).attr("aria-label",wpColorPickerL10n.defaultAriaLabel)}else{k.button.addClass("wp-picker-clear").val(wpColorPickerL10n.clear).attr("aria-label",wpColorPickerL10n.clearAriaLabel)}k.wrappingLabel.wrap('<span class="wp-picker-input-wrap hidden" />').after(k.button);k.inputWrapper=l.closest(".wp-picker-input-wrap");k.toggler.css({height:"24px",margin:"0 6px 6px 0",padding:"0 0 0 30px","font-size":"11px"});l.iris({target:k.pickerContainer,hide:k.options.hide,width:k.options.width,height:k.options.height,mode:k.options.mode,palettes:k.options.palettes,diviColorpicker:k.options.diviColorpicker,change:function(m,n){if(k.options.alpha){k.toggler.css({"background-image":"url("+f+")",position:"relative"});if(k.toggler.find("span.color-alpha").length==0){k.toggler.append('<span class="color-alpha" />')}k.toggler.find("span.color-alpha").css({width:"100%",height:"100%",position:"absolute",top:0,left:0,"border-top-left-radius":"3px","border-bottom-left-radius":"3px",background:n.color.toString()})}else{k.toggler.css({backgroundColor:n.color.toString()})}if(g.isFunction(k.options.change)){k.options.change.call(this,m,n)}}});l.val(k.initialValue);k._addListeners();if(!k.options.hide){k.toggler.click()}},_addListeners:function(){var k=this;k.wrap.on("click.wpcolorpicker",function(l){l.stopPropagation();return false});k.toggler.click(function(){if(k.toggler.hasClass("wp-picker-open")){k.close()}else{k.open()}});k.element.on("change",function(l){if(g(this).val()===""||k.element.hasClass("iris-error")){if(k.options.alpha){k.toggler.find("span.color-alpha").css("backgroundColor","")}else{k.toggler.css("backgroundColor","")}if(g.isFunction(k.options.clear)){k.options.clear.call(this,l)}}});k.button.on("click",function(l){if(g(this).hasClass("wp-picker-clear")){k.element.val("");if(k.options.alpha){k.toggler.find("span.color-alpha").css("backgroundColor","")}else{k.toggler.css("backgroundColor","")}if(g.isFunction(k.options.clear)){k.options.clear.call(this,l)}}else{if(g(this).hasClass("wp-picker-default")){k.element.val(k.options.defaultColor).change()}}});k.close_button.click(function(l){l.preventDefault();k.close()})},});g.widget("a8c.iris",g.a8c.iris,{_create:function(){this._super();this.options.alpha=this.element.data("alpha")||false;if(!this.element.is(":input")){this.options.alpha=false}if(typeof this.options.alpha!=="undefined"&&this.options.alpha){var r=this,m=r.element,n='<div class="iris-strip iris-slider iris-alpha-slider"><div class="iris-slider-offset iris-slider-offset-alpha"></div></div>',l=g(n).appendTo(r.picker.find(".iris-picker-inner")),s=l.find(".iris-slider-offset-alpha"),q={aContainer:l,aSlider:s};r.options.defaultWidth=m.width();if(r._color._alpha<1||r._color.toString().indexOf("rgb")!=1){m.width(parseInt(r.options.defaultWidth+100))}g.each(q,function(u,t){r.controls[u]=t});r.controls.square.css({"margin-right":"0"});var p=(r.picker.width()-r.controls.square.width()-20),o=p/6,k=(p/2)-o;g.each(["aContainer","strip"],function(u,t){r.controls[t].width(k).css({"margin-left":o+"px"})});r._initControls()}},_initControls:function(){this._super();if(this.options.alpha){var l=this,k=l.controls;k.aSlider.slider({orientation:"vertical",min:0,max:100,step:1,value:parseInt(l._color._alpha*100),slide:function(m,n){l._color._alpha=parseFloat(n.value/100);l._change.apply(l,arguments)}})}},_change:function(){this._super();var s=this,l=s.element;if(this.options.alpha){var r=s.controls,m=parseInt(s._color._alpha*100),n=s._color.toRgb(),q=["rgb("+n.r+","+n.g+","+n.b+") 0%","rgba("+n.r+","+n.g+","+n.b+", 0) 100%"],t=s.options.defaultWidth,p=s.picker.closest(".wp-picker-container").find(".wp-color-result");r.aContainer.css({background:"linear-gradient(to bottom, "+q.join(", ")+"), url("+f+")"});if(p.hasClass("wp-picker-open")){r.aSlider.slider("value",m);if(s._color._alpha<1){var k=r.strip.attr("style").replace(/rgba\(([0-9]+,)(\s+)?([0-9]+,)(\s+)?([0-9]+)(,(\s+)?[0-9\.]+)\)/g,"rgb($1$3$5)");r.strip.attr("style",k);l.width(parseInt(t+100))}else{l.width(t)}}}var o=l.data("reset-alpha")||false;if(o){s.picker.find(".iris-palette-container").on("click.palette",".iris-palette",function(){s._color._alpha=1;s.active="external";s._change()})}},_addInputListeners:function(l){var k=this,m=700,n=function(p){var o=new Color(l.val()),q=l.val();l.removeClass("iris-error");if(o.error){if(q!==""){l.addClass("iris-error")}}else{if(o.toString()!==k._color.toString()){if(!(p.type==="keyup"&&q.match(/^[0-9a-fA-F]{3}$/))){k._setOption("color",o.toString())}}}};l.on("change",n).on("keyup",k._debounce(n,m));if(k.options.hide){l.one("focus",function(){k.show()})}},_dimensions:function(t){var y=this,l=y.options,v=y.controls,x=v.square,m=y.picker.find(".iris-strip"),q="77.5%",o="12%",n=20,u=l.border?l.width-n:l.width,s,p=g.isArray(l.palettes)?l.palettes.length:y._palettes.length,r,w,k;if(t){x.css("width","");m.css("width","");y.picker.css({width:"",height:""})}q=u*(parseFloat(q)/100);o=u*(parseFloat(o)/100);s=l.border?q+n:q;if(l.diviColorpicker){x.width(l.width).height(l.height);s=l.height}else{x.width(q).height(q)}m.height(q).width(o);y.picker.css({width:l.width,height:s});if(!l.palettes){return y.picker.css("paddingBottom","")}r=q*2/100;k=q-((p-1)*r);w=k/p;y.picker.find(".iris-palette").each(function(z){var A=z===0?0:r;g(this).css({width:w,height:w,marginLeft:A})});y.picker.css("paddingBottom",w+r);m.height(w+r+q)}})}(jQuery));