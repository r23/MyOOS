!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t){e.exports=wp.i18n},function(e,t){e.exports=lodash},function(e,t){e.exports=wp.element},function(e,t){e.exports=wp.components},function(e,t){e.exports=wp.data},function(e,t){e.exports=wp.compose},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var c=a.apply(null,r);c&&e.push(c)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var i in r)n.call(r,i)&&r[i]&&e.push(i);else e.push(r.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=jQuery},function(e,t){e.exports=rankMathAnalyzer},function(e,t){e.exports=wp.hooks},function(e,t){e.exports=wp.apiFetch},function(e,t){e.exports=React},function(e,t,n){"use strict";function r(e){return function(){return e}}var a=function(){};a.thatReturns=r,a.thatReturnsFalse=r(!1),a.thatReturnsTrue=r(!0),a.thatReturnsNull=r(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=i(n(11)),o=i(n(14)),c=i(n(17));function i(e){return e&&e.__esModule?e:{default:e}}var l=void 0;function s(e,t){var n,c,i,u,m,p,f,h,d=[],y={};for(p=0;p<e.length;p++)if("string"!==(m=e[p]).type){if(!t.hasOwnProperty(m.value)||void 0===t[m.value])throw new Error("Invalid interpolation, missing component node: `"+m.value+"`");if("object"!==r(t[m.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+m.value+"`","\n> "+l);if("componentClose"===m.type)throw new Error("Missing opening component token: `"+m.value+"`");if("componentOpen"===m.type){n=t[m.value],i=p;break}d.push(t[m.value])}else d.push(m.value);return n&&(u=function(e,t){var n,r,a=t[e],o=0;for(r=e+1;r<t.length;r++)if((n=t[r]).value===a.value){if("componentOpen"===n.type){o++;continue}if("componentClose"===n.type){if(0===o)return r;o--}}throw new Error("Missing closing component token `"+a.value+"`")}(i,e),f=s(e.slice(i+1,u),t),c=a.default.cloneElement(n,{},f),d.push(c),u<e.length-1&&(h=s(e.slice(u+1),t),d=d.concat(h))),1===d.length?d[0]:(d.forEach((function(e,t){e&&(y["interpolation-child-"+t]=e)})),(0,o.default)(y))}t.default=function(e){var t=e.mixedString,n=e.components,a=e.throwErrors;if(l=t,!n)return t;if("object"!==(void 0===n?"undefined":r(n))){if(a)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var o=(0,c.default)(t);try{return s(o,n)}catch(e){if(a)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},function(e,t,n){"use strict";var r=n(11),a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=n(12),c=n(15),i=n(16),l="function"==typeof Symbol&&Symbol.iterator;function s(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function u(e,t,n,r){var o,i=typeof e;if("undefined"!==i&&"boolean"!==i||(e=null),null===e||"string"===i||"number"===i||"object"===i&&e.$$typeof===a)return n(r,e,""===t?"."+s(e,0):t),1;var m=0,p=""===t?".":t+":";if(Array.isArray(e))for(var f=0;f<e.length;f++)m+=u(o=e[f],p+s(o,f),n,r);else{var h=function(e){var t=e&&(l&&e[l]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(h){0;for(var d,y=h.call(e),b=0;!(d=y.next()).done;)m+=u(o=d.value,p+s(o,b++),n,r)}else if("object"===i){0;var w=""+e;c(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===w?"object with keys {"+Object.keys(e).join(", ")+"}":w,"")}}return m}var m=/\/+/g;function p(e){return(""+e).replace(m,"$&/")}var f,h,d=y,y=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},b=function(e){var t=this;c(e instanceof t,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)};function w(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function k(e,t,n){var a,c,i=e.result,l=e.keyPrefix,s=e.func,u=e.context,m=s.call(u,t,e.count++);Array.isArray(m)?v(m,i,n,o.thatReturnsArgument):null!=m&&(r.isValidElement(m)&&(a=m,c=l+(!m.key||t&&t.key===m.key?"":p(m.key)+"/")+n,m=r.cloneElement(a,{key:c},void 0!==a.props?a.props.children:void 0)),i.push(m))}function v(e,t,n,r,a){var o="";null!=n&&(o=p(n)+"/");var c=w.getPooled(t,o,r,a);!function(e,t,n){null==e||u(e,"",t,n)}(e,k,c),w.release(c)}w.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f=function(e,t,n,r){var a=this;if(a.instancePool.length){var o=a.instancePool.pop();return a.call(o,e,t,n,r),o}return new a(e,t,n,r)},(h=w).instancePool=[],h.getPooled=f||d,h.poolSize||(h.poolSize=10),h.release=b;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return i(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(r.isValidElement(e))return i(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;c(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)v(e[n],t,n,o.thatReturnsArgument);return t}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a,o,c,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,a,o,c,i],u=0;(l=new Error(t.replace(/%s/g,(function(){return s[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";var r=n(12);e.exports=r},function(e,t,n){"use strict";function r(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(r)}},function(e,t,n){"use strict";n.r(t);var r=n(7),a=n.n(r),o=n(0),c=n(9),i=n(3),l=n(2),s=n(1),u=n(6),m=n.n(u),p=n(5),f=n(4),h=n(10),d=n.n(h);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(c,e);var t,n,r,a=v(c);function c(){var e;return b(this,c),(e=a.apply(this,arguments)).state={score:0},e.setState=e.setState.bind(_(e)),e}return t=c,(n=[{key:"render",value:function(){var e=this;return setTimeout((function(){e.setState({score:e.props.score})}),1e3),wp.element.createElement("div",{className:"rank-math-ca-score"},wp.element.createElement("div",{className:"score-text"},Object(o.__)("Score:","rank-math")," ",this.state.score,wp.element.createElement("span",null," / ",Object(o.__)("100","rank-math"))),wp.element.createElement("div",{className:"score-wrapper"},wp.element.createElement("span",{className:"score-dot",style:{left:(Object(s.inRange)(this.state.score,0,5)?5:this.state.score)+"%"}})))}}])&&w(t.prototype,n),r&&w(t,r),c}(l.Component),E=Object(p.compose)(Object(f.withSelect)((function(e){var t=Object.values(e("rank-math").getContentAIScore());return{score:Object(s.round)(Object(s.sum)(t)/t.length)}})))(j),S=n(8),C=function(e){return 100<e?"bad-fk dark":80<e?"good-fk":50<e?"ok-fk":"bad-fk"};function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var a=M(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(c,e);var t,n,r,a=T(c);function c(){var e;return P(this,c),(e=a.apply(this,arguments)).state={activeTab:""},e.setState=e.setState.bind(I(e)),e}return t=c,n=[{key:"render",value:function(){return wp.element.createElement("div",{className:"rank-math-ca-recommendations"},this.getRecommendations(this.props.recommendations))}},{key:"getRecommendations",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[];return Object(s.forEach)(e,(function(e,a){if("total"!==a){var c=Object(s.isUndefined)(e.total)?e:e.total,i=t.getPostStats(a),l=m()(a,{"has-children":!Object(s.isUndefined)(e.total),show:a===t.state.activeTab}),u=t.getScore(a,i,c,n);r.push(wp.element.createElement("div",{className:l+" "+C(u),onClick:function(){return t.setState({activeTab:t.state.activeTab!==a?a:""})},role:"presentation"},wp.element.createElement("h4",null,n?a:Object(s.startCase)(a)),n&&wp.element.createElement("span",null,i," / ",c),!n&&wp.element.createElement(React.Fragment,null,wp.element.createElement("strong",null,i),wp.element.createElement("span",{className:"desc"},Object(o.__)("Use around","rank-math")," ",c)),Object(s.isObject)(e)&&t.getRecommendations(e,!0)))}})),n?wp.element.createElement("div",{className:"submenu"},r):r}},{key:"getPostStats",value:function(e){return Object(s.has)(this.props.postStats,e)?this.props.postStats[e]:0}},{key:"getScore",value:function(e,t,n,r){var a=t===n?100:t/n*100;if(r)return a>100&&a<=125?100:a;var o=a>80?100:t/n*80;return a>125&&"wordCount"!==e&&(o=0),this.props.updateAiScore(e,o),a>100&&"wordCount"===e||a>100&&a<=125?100:a}}],n&&R(t.prototype,n),r&&R(t,r),c}(l.Component),D=Object(p.compose)(Object(f.withSelect)((function(e,t){var n=1518,r=12,a=2,o=5,c=3,i=0,l=0,s=0,u=8,m=19;if(t.hasCredits){n=t.researcher.getResearch("wordCount")(t.content),r=rankMathEditor.assessor.analyzer.defaultAnalyses.contentHasAssets.getImages(t.researcher.paper,t.content),a=rankMathEditor.assessor.analyzer.defaultAnalyses.contentHasAssets.getVideos(S.Helpers.cleanText(t.content)),o=(t.content.match(/<h2\b[^>]*>(.*?)<\/h2>/g)||[]).length,c=(t.content.match(/<h3\b[^>]*>(.*?)<\/h3>/g)||[]).length,i=(t.content.match(/<h4\b[^>]*>(.*?)<\/h4>/g)||[]).length,l=(t.content.match(/<h5\b[^>]*>(.*?)<\/h5>/g)||[]).length,s=(t.content.match(/<h6\b[^>]*>(.*?)<\/h6>/g)||[]).length;var p=t.researcher.getResearch("getLinkStats")(t.content);u=p.internalTotal,m=p.externalTotal}return{postStats:{wordCount:n,images:r,videos:a,mediaCount:r+a,h2:o,h3:c,h4:i,h5:l,h6:s,headingCount:o+c+i+l+s,internal:u,external:m,linkCount:u+m}}})))(B);function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}var F=["tabId","onClick","children","selected"];function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var a=H(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var J=function(e){var t=e.tabId,n=e.onClick,r=e.children,a=e.selected,o=Q(e,F);return wp.element.createElement(i.Button,$({role:"tab",tabIndex:a?null:-1,"aria-selected":a,id:t,onClick:n},o),r)},G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(o,e);var t,n,r,a=L(o);function o(){var e;U(this,o),(e=a.apply(this,arguments)).handleClick=function(t){var n=e.props.onSelect,r=void 0===n?s.noop:n;e.setState({selected:t}),r(t)},e.onNavigate=function(e,t){t.click()};var t=e.props,n=t.tabs,r=t.initialTabName;return e.state={selected:r||(n.length>0?n[0].name:null)},e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.state.selected,n=this.props,r=n.activeClass,a=void 0===r?"is-active":r,o=n.className,c=n.instanceId,l=n.orientation,u=void 0===l?"horizontal":l,p=n.tabs,f=Object(s.find)(p,{name:t}),h=c+"-"+f.name,d=p.slice(4);return wp.element.createElement("div",{className:o},wp.element.createElement(i.NavigableMenu,{role:"tablist",orientation:u,onNavigate:this.onNavigate,className:"components-tab-panel__tabs "+t},p.slice(0,4).map((function(n){return wp.element.createElement(J,{className:m()("components-tab-panel__tabs-item",n.className,q({},a,n.name===t)),tabId:c+"-"+n.name,"aria-controls":c+"-"+n.name+"-view",selected:n.name===t,key:n.name,onClick:Object(s.partial)(e.handleClick,n.name)},n.title)})),d.map((function(n){return wp.element.createElement(J,{className:m()("components-tab-panel__tabs-item",n.className,q({},a,n.name===t)),tabId:c+"-"+n.name,"aria-controls":c+"-"+n.name+"-view",selected:n.name===t,key:n.name,onClick:Object(s.partial)(e.handleClick,n.name)},n.title)}))),f&&wp.element.createElement("div",{"aria-labelledby":h,role:"tabpanel",id:h+"-view",className:"components-tab-panel__tab-content"},this.props.children(f)))}}])&&W(t.prototype,n),r&&W(t,r),o}(l.Component),Y=Object(p.withInstanceId)(G);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},te(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var a=oe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ae(e)}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(c,e);var t,n,r,a=ne(c);function c(){var e;return Z(this,c),(e=a.apply(this,arguments)).state={type:"content",selected:""},e.setState=e.setState.bind(ae(e)),e.initializeClipboard(e.setState),e}return t=c,n=[{key:"initializeClipboard",value:function(e){"function"==typeof ClipboardJS&&new ClipboardJS(".rank-math-tooltip strong",{text:function(e){return e.getAttribute("data-key")}}).on("success",(function(){setTimeout((function(){e({selected:""})}),3e3)}))}},{key:"render",value:function(){var e=this;return wp.element.createElement(l.Fragment,null,wp.element.createElement(i.PanelBody,{initialOpen:!0},wp.element.createElement(i.SelectControl,{label:Object(o.__)("Use Keyword in","rank-math"),value:this.state.type,options:[{value:"content",label:Object(o.__)("Content","rank-math")},{value:"heading",label:Object(o.__)("Headings","rank-math")},{value:"title",label:Object(o.__)("SEO Title","rank-math")},{value:"description",label:Object(o.__)("SEO Description","rank-math")}],onChange:function(t){e.setState({type:t})}}),wp.element.createElement("a",{href:"https://rankmath.com/kb/how-to-use-content-ai/?utm_source=Plugin&utm_medium=Sidebar%20Keywords%20KB%20Icon&utm_campaign=WP#keywords",rel:"noreferrer",target:"_blank",className:"rank-math-help-icon",title:Object(o.__)("Know more about Keywords.","rank-math")},"﹖"),wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{className:"components-form-token-field__help"},Object(o.__)("Click on any keyword to copy it.","rank-math")),wp.element.createElement("br",null),Object(s.includes)(["title","description"],this.state.type)&&wp.element.createElement("span",{className:"components-form-token-field__help"},Object(o.__)("Please use only one or two keywords from here.","rank-math")),wp.element.createElement("ul",null,this.getKeywords())),this.getRelatedKeywords()))}},{key:"getRelatedKeywords",value:function(){var e=this;if("content"!==this.state.type||Object(s.isEmpty)(this.props.caData.data.related_keywords))return!1;var t=[];return Object(s.forEach)(this.props.caData.data.related_keywords,(function(n){t.push(wp.element.createElement("li",{className:"rank-math-tooltip show",onClick:function(){return e.setState({selected:n})},role:"presentation"},wp.element.createElement("strong",{"data-key":n},n),e.getTooltipContent({keyword:n},!0)))})),wp.element.createElement("div",{className:"rank-math-related-keywords"},wp.element.createElement("h3",null,Object(o.__)("Related Keywords","rank-math")),wp.element.createElement("ul",null,t))}},{key:"getKeywords",value:function(){var e=this;if(Object(s.isEmpty)(this.props.caData.data.keywords))return wp.element.createElement("h3",{className:"no-data"},Object(o.__)("There are no recommended Keywords for this researched keyword.","rank-math"));var t=[];return this.contentAiScore={},Object(s.forEach)(this.props.caData.data.keywords,(function(n,r){Object(s.isEmpty)(n)||(e.contentAiScore[r]={},Object(s.forEach)(n,(function(n){var a=e.props.hasCredits?e.getCount(n.keyword,r):n.count,o=C(e.getScore(n.keyword,a,n.average,r)),c=m()("rank-math-tooltip",{show:e.state.type===r});t.push(wp.element.createElement("li",{className:c+" "+o,onClick:function(){return e.setState({selected:n.keyword})},role:"presentation"},wp.element.createElement("strong",{"data-key":n.keyword},n.keyword,wp.element.createElement("span",null,a," / ",n.average)),e.getTooltipContent(n)))})))})),this.updateContentAiScore(),t}},{key:"updateContentAiScore",value:function(){var e=0,t=0;Object(s.forEach)(this.contentAiScore,(function(n,r){var a=Object.values(n),o=Object(s.sum)(a);"title"!==r&&"description"!==r||100!==Object(s.max)(a)||(o=100*a.length),e+=o,t+=a.length})),e/=t,Object(s.isNaN)(e)||this.props.updateAiScore("keywords",e)}},{key:"getScore",value:function(e,t,n,r){var a=t/n*100;return this.contentAiScore[r][e]=a>100?0:a>80?100:a,a}},{key:"getTooltipContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.props.hasCredits)return this.state.selected===e.keyword?wp.element.createElement("span",{className:"rank-math-tooltip-data"},Object(o.__)("Copied","rank-math")):e.competition||e.cpc||e.search_volume?wp.element.createElement("span",{className:"rank-math-tooltip-data"},wp.element.createElement("span",null,Object(o.__)("Ad Competition:","rank-math")," ",Object(s.round)(100*e.competition)),wp.element.createElement("span",null,Object(o.__)("CPC:","rank-math")," $",Object(s.round)(e.cpc,2)),wp.element.createElement("span",null,Object(o.__)("Volume:","rank-math")," ",Object(s.round)(e.search_volume))):wp.element.createElement("span",{className:"rank-math-tooltip-data"},t?Object(o.__)("Click to copy keyword","rank-math"):Object(o.__)("No data available","rank-math"))}},{key:"getCount",value:function(e,t){var n=this.props.caData.content;if("heading"===t){e=e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&");var r=new RegExp("<h[2-6][^>]*>.*?"+e+".*?</h[2-6]>","g"),a=n.match(r);return Object(s.isNull)(a)?0:a.length}return"title"===t&&(n=this.props.caData.title),"description"===t&&(n=this.props.caData.description),S.Helpers.cleanTagsOnly(n).split(e).length-1}}],n&&ee(t.prototype,n),r&&ee(t,r),c}(l.Component),ie=Object(p.compose)(Object(f.withDispatch)((function(e){return{toggleEditor:function(){e("rank-math").toggleSnippetEditor(!0)}}})))(ce),le=function(){return!(Object(s.isNil)(window.wp)||Object(s.isNil)(wp.data)||Object(s.isNil)(wp.data.select("core/editor"))||!window.document.body.classList.contains("block-editor-page")||!Object(s.isFunction)(wp.data.select("core/editor").getEditedPostAttribute))};function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pe(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var a=ye(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){if(t&&("object"===se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return de(e)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(c,e);var t,n,r,a=fe(c);function c(){var e;return ue(this,c),(e=a.apply(this,arguments)).state={iconClass:"rm-icon-copy",selected:""},e.setState=e.setState.bind(de(e)),e.initializeClipboard(e.setState),e}return t=c,(n=[{key:"initializeClipboard",value:function(e){var t=this;"function"==typeof ClipboardJS&&new ClipboardJS(".rank-math-copy-questions, .rank-math-questions-item h3",{text:function(e){if(!Object(s.isNull)(e.getAttribute("data-key")))return e.getAttribute("data-key");if(!le())return document.getElementById("rank-math-ca-questions-data").innerHTML;var n=[];return Object(s.forEach)(t.props.caData.data.related_questions,(function(e){n.push({id:Object(s.uniqueId)("faq-question-"),title:e,content:"",visible:!0})})),"\x3c!-- wp:rank-math/faq-block "+JSON.stringify({questions:n})+' --\x3e<div class="wp-block-rank-math-faq-block"></div>\x3c!-- /wp:rank-math/faq-block --\x3e'}}).on("success",(function(){setTimeout((function(){e({iconClass:"rm-icon-copy"})}),3e3)}))}},{key:"render",value:function(){var e=this,t=[];return Object(s.isEmpty)(this.props.caData.data.related_questions)?wp.element.createElement("h3",{className:"no-data"},Object(o.__)("There are no recommended Questions for this researched keyword.","rank-math")):(Object(s.forEach)(this.props.caData.data.related_questions,(function(n){t.push(wp.element.createElement("div",{className:"rank-math-questions-item"},wp.element.createElement("h3",{className:"rank-math-tooltip","data-key":n,onClick:function(){return e.setState({selected:n})},role:"presentation"},n,e.getTooltipContent(n))))})),wp.element.createElement(l.Fragment,null,wp.element.createElement(i.PanelBody,{initialOpen:!0},wp.element.createElement("div",{className:"rank-math-section-heading"},wp.element.createElement("h2",null,Object(o.__)("Related Questions","rank-math"),wp.element.createElement("a",{href:"https://rankmath.com/kb/how-to-use-content-ai/?utm_source=Plugin&utm_medium=Sidebar%20Questions%20KB%20Icon&utm_campaign=WP",rel:"noreferrer",target:"_blank",className:"rank-math-help-icon",title:Object(o.__)("Know more about Questions.","rank-math")},"﹖")),wp.element.createElement(i.Button,{onClick:function(){e.setState({iconClass:"rm-icon-tick"})},className:"rank-math-copy-questions button-secondary rank-math-tooltip left"},wp.element.createElement("i",{className:"rm-icon "+this.state.iconClass}),wp.element.createElement("span",null,Object(o.__)("Copy this data as a FAQ Block.","rank-math")))),wp.element.createElement("span",{className:"components-form-token-field__help"},Object(o.__)("Click on any question to copy it.","rank-math")),wp.element.createElement("div",{id:"rank-math-ca-questions-data"},t))))}},{key:"getTooltipContent",value:function(e){return this.state.selected===e&&wp.element.createElement("span",{className:"rank-math-tooltip-data"},Object(o.__)("Copied","rank-math"))}}])&&me(t.prototype,n),r&&me(t,r),c}(l.Component),we=be,ke=function(e){var t=[];return Object(s.isEmpty)(e.caData.data.links)?wp.element.createElement("h3",{className:"no-data"},Object(o.__)("There are no recommended Links for this researched keyword.","rank-math")):(Object(s.forEach)(e.caData.data.links,(function(e){return t.push(wp.element.createElement("li",null,wp.element.createElement("a",{href:e,rel:"noreferrer",target:"_blank"},e)))})),wp.element.createElement(l.Fragment,null,wp.element.createElement(i.PanelBody,{initialOpen:!0},wp.element.createElement("div",{className:"rank-math-section-heading"},wp.element.createElement("h2",null,Object(o.__)("Related External Links","rank-math"),wp.element.createElement("a",{href:"https://rankmath.com/kb/how-to-use-content-ai/?utm_source=Plugin&utm_medium=Sidebar%20Links%20KB%20Icon&utm_campaign=WP#links",rel:"noreferrer",target:"_blank",className:"rank-math-help-icon",title:Object(o.__)("Know more about Links.","rank-math")},"﹖")),wp.element.createElement("p",null,Object(o.__)("Use some of these external links in the content area. It is recommended to add","rank-math")," ",wp.element.createElement("a",{href:"https://rankmath.com/kb/about-and-mentions-schema/",rel:"noreferrer",target:"_blank"},Object(o.__)("about or mention Schema.","rank-math")))),wp.element.createElement("ul",null,t))))},ve=function(e){"social"===e&&Object(f.dispatch)("rank-math").toggleSnippetEditor(!0)},ge=function(e){return wp.element.createElement(Y,{className:"rank-math-contentai-tabs",activeClass:"is-active",tabs:[{name:"keywords",title:wp.element.createElement(l.Fragment,null,wp.element.createElement("span",null,Object(o.__)("Keywords","rank-math"))),view:ie,className:"rank-math-keywords-tab"},{name:"questions",title:wp.element.createElement(l.Fragment,null,wp.element.createElement("span",null,Object(o.__)("Questions","rank-math"))),view:we,className:"rank-math-questions-tab"},{name:"links",title:wp.element.createElement(l.Fragment,null,wp.element.createElement("span",null,Object(o.__)("Links","rank-math"))),view:ke,className:"rank-math-recommended-links-tab"}],onSelect:ve,data:e},(function(t){return wp.element.createElement("div",{className:"rank-math-contentai-tab-content-"+t.name},Object(l.createElement)(t.view,e))}))},_e=n(13),Oe=n.n(_e),je=function(e){var t=e.tags,n=e.components,r=e.children;return n=n||{},!1===Object(s.isUndefined)(t)&&(t=t.split(",")).forEach((function(e){var t=e;n[e]=wp.element.createElement(t,null)})),Oe()({mixedString:r,components:n})};function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ne(e,t)}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var a=Te(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Re(this,n)}}function Re(e,t){if(t&&("object"===Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xe(e)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(u,e);var t,n,r,c=Pe(u);function u(){var e;return Se(this,u),(e=c.apply(this,arguments)).state={keyword:e.props.keyword,showResearch:e.props.keyword!==rankMath.ca_keyword.keyword,country:e.props.country,credits:1,creditsValue:rankMath.ca_credits,loading:!1,loadingCredits:!1},e.setState=e.setState.bind(xe(e)),e}return t=u,(n=[{key:"componentDidMount",value:function(){!this.state.creditsValue&&rankMath.isUserRegistered&&this.updateCredits()}},{key:"updateCredits",value:function(){var e=this;this.setState({loadingCredits:!0}),d()({method:"POST",path:"divi"===rankMath.currentEditor?"/wp-json/rankmath/v1/ca/getCredits":"/rankmath/v1/ca/getCredits"}).catch((function(t){e.setState({loadingCredits:!1}),alert(t.message)})).then((function(t){e.setState({creditsValue:t}),e.setState({loadingCredits:!1})}))}},{key:"render",value:function(){var e=rankMath.isUserRegistered&&Object(s.isNumber)(this.state.credits),t=m()("rank-math-content-ai-data",{loading:this.state.loading,blurred:!e});return(!e&&Object(s.isEmpty)(this.props.data)||"show_dummy_data"===this.props.data)&&(this.props.data=this.getDummyData()),wp.element.createElement(l.Fragment,null,wp.element.createElement(i.PanelBody,{className:"rank-math-content-ai-wrapper",initialOpen:!0},wp.element.createElement(React.Fragment,null,this.getHeader(),!rankMath.isUserRegistered&&this.connectAccountNotice(),rankMath.isUserRegistered&&!e&&this.creditsNotice(e),e&&this.keywordField(),wp.element.createElement("div",{className:t},wp.element.createElement("span",{className:"loader-text"},Object(o.__)("AI is taking longer than expected, please hold on…","rank-math")),Object(s.isString)(this.props.data)&&wp.element.createElement("h3",{className:"no-data"},this.props.data),!Object(s.isEmpty)(this.props.data)&&!Object(s.isString)(this.props.data)&&wp.element.createElement("div",null,wp.element.createElement("h3",{className:"rank-math-ca-section-title"},Object(o.__)("Content AI","rank-math"),wp.element.createElement("span",null,Object(o.__)("New!","rank-math")),wp.element.createElement("a",{href:"https://rankmath.com/kb/how-to-use-content-ai/?utm_source=Plugin&utm_medium=Sidebar%20KB%20Icon&utm_campaign=WP",rel:"noreferrer",target:"_blank",className:"rank-math-help-icon",title:Object(o.__)("Content AI Knowledge Base.","rank-math")},"﹖")),wp.element.createElement(E,null),wp.element.createElement(D,{recommendations:this.props.data.recommendations,hasCredits:e,content:this.props.content,researcher:this.props.researcher,updateAiScore:this.props.updateAiScore}),wp.element.createElement(ge,{caData:this.props,updateAiScore:this.props.updateAiScore,hasCredits:e}))))))}},{key:"getDummyData",value:function(){return{keywords:{content:{"rank math":{keyword:"rank math",average:17,count:12},"rank math vs yoast seo":{keyword:"rank math vs yoast seo",average:1,count:1},"what is rank math":{keyword:"what is rank math",average:1,count:1},"rank math schema":{keyword:"rank math schema",average:1,count:1},"rank math configuration":{keyword:"rank math configuration",average:1,count:1},"rank math pro version":{keyword:"rank math pro version",average:1,count:2},"rank math comparison":{keyword:"rank math comparison",average:1,count:1},"rank math for seo":{keyword:"rank math for seo",average:1,count:1},"seo by rank math":{keyword:"seo by rank math",average:1,count:0}}},related_keywords:["rank math plugin","rank math pricing","rank math vs yoast","rank math review","rank math premium","how to use rank math","rank math training","rank math woocommerce","wordpress seo plugin"],recommendations:{wordCount:1829,linkCount:{total:16},headingCount:{total:9},mediaCount:{total:18}}}}},{key:"getHeader",value:function(){var e=this;return wp.element.createElement("div",{className:"rank-math-ca-top-section"},wp.element.createElement(i.Button,{onClick:function(){return a()(".rank-math-general-tab").trigger("click")}},wp.element.createElement("i",{className:"dashicons dashicons-arrow-left-alt"}),Object(o.__)("Back","rank-math")),wp.element.createElement(i.SelectControl,{value:this.state.country,onChange:function(t){return e.setState({country:t,showResearch:!0})},options:rankMath.countries}))}},{key:"keywordField",value:function(){var e=this,t=m()("rank-math-tooltip update-credits",{loading:this.state.loadingCredits});return wp.element.createElement("div",{className:"rank-math-ca-keywords-wrapper"},wp.element.createElement("div",{className:"rank-math-ca-credits-wrapper"},wp.element.createElement(i.TextControl,{label:Object(o.__)("Focus Keyword","rank-math"),value:this.state.keyword,onChange:function(t){return e.setState({keyword:t,showResearch:!0})},help:wp.element.createElement(React.Fragment,null,Object(o.__)("Upgrade to buy more credits from ","rank-math"),wp.element.createElement("a",{href:"https://rankmath.com/pricing/?utm_source=Plugin&utm_medium=Sidebar%20Upgrade%20Text&utm_campaign=WP",rel:"noreferrer",target:"_blank",title:Object(o.__)("Content AI Pricing.","rank-math")},Object(o.__)("here.","rank-math"))),placeholder:Object(o.__)("Suggested length 2-3 Words","rank-math")}),!this.state.showResearch&&!this.state.loading&&!Object(s.isEmpty)(this.props.data)&&wp.element.createElement(i.Button,{className:"rank-math-ca-force-update rank-math-tooltip left",onClick:function(){return e.props.researchKeyword(e.state,e.setState,!0)}},wp.element.createElement("i",{className:"dashicons dashicons-image-rotate"}),wp.element.createElement("span",null,Object(o.__)("Refresh will use one new credit.","rank-math"))),wp.element.createElement("div",{className:"rank-math-ca-credits"},wp.element.createElement(i.Button,{className:t,onClick:function(){return e.updateCredits()}},wp.element.createElement("i",{className:"dashicons dashicons-image-rotate"}),wp.element.createElement("span",null,Object(o.__)("Click to refresh the available credits.","rank-math"))),wp.element.createElement("span",null,Object(o.__)("Credits","rank-math")),wp.element.createElement("a",{href:"https://rankmath.com/kb/how-to-use-content-ai/?utm_source=Plugin&utm_medium=Sidebar%20Credits%20Tooltip%20Icon&utm_campaign=WP#credits-usage",rel:"noreferrer",target:"_blank",className:"rank-math-help-icon",title:Object(o.__)("Know more about credits.","rank-math")},"﹖"),wp.element.createElement("strong",null,this.state.creditsValue))),this.state.showResearch&&wp.element.createElement(i.Button,{className:"is-primary",onClick:function(){return e.props.researchKeyword(e.state,e.setState)},title:Object(o.__)("One credit will be used.","rank-math"),disabled:!this.state.keyword},Object(o.__)("Research","rank-math")))}},{key:"connectAccountNotice",value:function(){return wp.element.createElement("div",{className:"rank-math-ca-warning"},wp.element.createElement("h3",null,Object(o.__)("Content AI","rank-math")),wp.element.createElement("p",null,Object(o.__)("Please connect your account to use this feature.","rank-math")),wp.element.createElement(i.Button,{href:rankMath.connectSiteUrl,className:"is-primary"},Object(o.__)("Connect Now","rank-math")))}},{key:"creditsNotice",value:function(){return wp.element.createElement("div",{className:"rank-math-ca-warning"},wp.element.createElement("h3",null,Object(o.__)("Content AI","rank-math")),"site_limit_reached"===this.state.credits&&wp.element.createElement("p",null,wp.element.createElement(je,{components:{link1:wp.element.createElement("a",{href:"https://rankmath.com/my-account/?utm_source=Plugin&utm_medium=Sidebar%20No%20Credits&utm_campaign=WP",target:"_blank",rel:"noopener noreferrer"}),link2:wp.element.createElement("a",{href:"https://rankmath.com/pricing/?utm_source=Plugin&utm_medium=Sidebar%20No%20Credits&utm_campaign=WP",target:"_blank",rel:"noopener noreferrer"})}},Object(o.__)("All credits assigned to this site are used. Please add more credits from {{link1}}My Account{{/link1}} Page or {{link2}}upgrade your plan{{/link2}}.","rank-math"))),"account_limit_reached"===this.state.credits&&wp.element.createElement(React.Fragment,null,wp.element.createElement("p",null,Object(o.__)("You don't have any credits left.","rank-math")),wp.element.createElement(i.Button,{href:"https://rankmath.com/pricing/?utm_source=Plugin&utm_medium=Sidebar%20No%20Credits&utm_campaign=WP",target:"_blank",rel:"noreferrer",className:"is-primary"},Object(o.__)("Get More Credits","rank-math"))))}}])&&Ce(t.prototype,n),r&&Ce(t,r),u}(l.Component),Ie=Object(p.compose)(Object(f.withSelect)((function(e){var t=rankMathEditor.assessor.analyzer.researcher;return{data:e("rank-math").getKeywordsData(),keyword:Object(s.get)(rankMath.ca_keyword,"keyword",e("rank-math").getKeywords().split(",")[0]),country:Object(s.get)(rankMath.ca_keyword,"country",rankMath.contentAiCountry),researcher:t,content:t.paper.getTextLower(),title:t.paper.getTitle().toLowerCase(),description:t.paper.getDescription().toLowerCase(),score:e("rank-math").getContentAIScore()}})),Object(f.withDispatch)((function(e,t){return{researchKeyword:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.force_update=r,t.objectID=rankMath.objectID,t.objectType=rankMath.objectType,n({showResearch:!1,loading:!0}),d()({method:"POST",path:"divi"===rankMath.currentEditor?"/wp-json/rankmath/v1/ca/researchKeyword":"/rankmath/v1/ca/researchKeyword",data:t}).catch((function(e){n({loading:!1,showResearch:!0}),alert(e.message)})).then((function(t){n({loading:!1}),e("rank-math").updateKeywordsData(t.data),Object(s.isNull)(t.credits)||Object(s.isUndefined)(t.credits)||n({credits:t.credits,creditsValue:Object(s.isNumber)(t.credits)?t.credits:0})}))},updateAiScore:function(n,r){var a=t.score;a[n]=Object(s.round)(r,2),e("rank-math").updateAIScore(a)}}})))(Ae),Me=function(){return wp.element.createElement(i.Button,{className:"button-secondary rank-math-content-ai",onClick:function(){return a()(".rank-math-content-ai-tab").trigger("click")}},wp.element.createElement("i",{className:"rm-icon rm-icon-target"}),Object(o.__)("Content AI","rank-math"))};Object(c.addFilter)("rankMath.analytics.contentAI","rank-math",(function(){return Me})),Object(c.addAction)("rank_math_loaded","rank-math",(function(){Object(c.addFilter)("rank_math_sidebar_tabs","rank-math",(function(e){return e.push({name:"contentAI",title:wp.element.createElement(l.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-target"}),wp.element.createElement("span",null,Object(o.__)("Content AI","rank-math"))),view:Ie,className:"rank-math-content-ai-tab hidden"}),e}));var e=document.getElementById("cmb2-metabox-rank_math_metabox_content_ai");e&&setTimeout((function(){Object(l.render)(Object(l.createElement)(Ie),e)}),1e3)}))}]);