{"version":3,"file":"./build/edit-site/index.min.js","mappings":"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","sources":["webpack://wp/./node_modules/autosize/dist/autosize.js","webpack://wp/./node_modules/classnames/index.js","webpack://wp/./node_modules/computed-style/dist/computedStyle.commonjs.js","webpack://wp/./node_modules/downloadjs/download.js","webpack://wp/./node_modules/line-height/lib/line-height.js","webpack://wp/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://wp/./node_modules/prop-types/index.js","webpack://wp/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://wp/./node_modules/react-autosize-textarea/lib/TextareaAutosize.js","webpack://wp/./node_modules/react-autosize-textarea/lib/index.js","webpack://wp/external window \"React\"","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/external window [\"wp\",\"element\"]","webpack://wp/external window [\"wp\",\"blocks\"]","webpack://wp/external window [\"wp\",\"blockLibrary\"]","webpack://wp/external window [\"wp\",\"data\"]","webpack://wp/external window [\"wp\",\"coreData\"]","webpack://wp/external window [\"wp\",\"editor\"]","webpack://wp/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://wp/external window [\"wp\",\"components\"]","webpack://wp/external window [\"wp\",\"i18n\"]","webpack://wp/external window [\"wp\",\"primitives\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/check.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/star-filled.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/star-empty.js","webpack://wp/external window [\"wp\",\"viewport\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/close-small.js","webpack://wp/external window [\"wp\",\"deprecated\"]","webpack://wp/external window [\"wp\",\"preferences\"]","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/actions.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/selectors.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/reducer.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/constants.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/index.js","webpack://wp/external window [\"wp\",\"plugins\"]","webpack://wp/./packages/interface/build-module/components/complementary-area-context/@wordpress/interface/src/components/complementary-area-context/index.js","webpack://wp/./packages/interface/build-module/components/complementary-area-toggle/@wordpress/interface/src/components/complementary-area-toggle/index.js","webpack://wp/./packages/interface/build-module/components/complementary-area-header/@wordpress/interface/src/components/complementary-area-header/index.js","webpack://wp/./packages/interface/build-module/components/action-item/@wordpress/interface/src/components/action-item/index.js","webpack://wp/./packages/interface/build-module/components/complementary-area-more-menu-item/@wordpress/interface/src/components/complementary-area-more-menu-item/index.js","webpack://wp/./packages/interface/build-module/components/pinned-items/@wordpress/interface/src/components/pinned-items/index.js","webpack://wp/./packages/interface/build-module/components/complementary-area/@wordpress/interface/src/components/complementary-area/index.js","webpack://wp/external window [\"wp\",\"compose\"]","webpack://wp/./packages/interface/build-module/components/navigable-region/@wordpress/interface/src/components/navigable-region/index.js","webpack://wp/./packages/interface/build-module/components/interface-skeleton/@wordpress/interface/src/components/interface-skeleton/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/more-vertical.js","webpack://wp/./packages/interface/build-module/components/more-menu-dropdown/@wordpress/interface/src/components/more-menu-dropdown/index.js","webpack://wp/./packages/interface/build-module/components/preferences-modal/@wordpress/interface/src/components/preferences-modal/index.js","webpack://wp/./packages/icons/build-module/icon/@wordpress/icons/src/icon/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/chevron-left.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/chevron-right.js","webpack://wp/./packages/interface/build-module/components/preferences-modal-tabs/@wordpress/interface/src/components/preferences-modal-tabs/index.js","webpack://wp/./packages/interface/build-module/components/preferences-modal-section/@wordpress/interface/src/components/preferences-modal-section/index.js","webpack://wp/./packages/interface/build-module/components/preferences-modal-base-option/@wordpress/interface/src/components/preferences-modal-base-option/index.js","webpack://wp/external window [\"wp\",\"url\"]","webpack://wp/external window [\"wp\",\"hooks\"]","webpack://wp/external window [\"wp\",\"mediaUtils\"]","webpack://wp/./packages/edit-site/build-module/hooks/@wordpress/edit-site/src/hooks/components.js","webpack://wp/external window [\"wp\",\"blockEditor\"]","webpack://wp/./packages/edit-site/build-module/utils/@wordpress/edit-site/src/utils/history.js","webpack://wp/./packages/edit-site/build-module/components/routes/@wordpress/edit-site/src/components/routes/index.js","webpack://wp/./packages/edit-site/build-module/components/routes/@wordpress/edit-site/src/components/routes/link.js","webpack://wp/./packages/edit-site/build-module/hooks/@wordpress/edit-site/src/hooks/template-part-edit.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/constants.js","webpack://wp/./packages/edit-site/build-module/components/navigation-sidebar/navigation-panel/@wordpress/edit-site/src/components/navigation-sidebar/navigation-panel/constants.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/reducer.js","webpack://wp/external window [\"wp\",\"apiFetch\"]","webpack://wp/external window [\"wp\",\"notices\"]","webpack://wp/external window [\"wp\",\"a11y\"]","webpack://wp/./packages/edit-site/build-module/utils/@wordpress/edit-site/src/utils/is-template-revertable.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/actions.js","webpack://wp/external window \"lodash\"","webpack://wp/./node_modules/rememo/es/rememo.js","webpack://wp/./packages/edit-site/build-module/components/navigation-sidebar/navigation-panel/@wordpress/edit-site/src/components/navigation-sidebar/navigation-panel/template-hierarchy.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/selectors.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/index.js","webpack://wp/external window [\"wp\",\"keyboardShortcuts\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/plus.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/list-view.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/chevron-up-down.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/external.js","webpack://wp/external window [\"wp\",\"keycodes\"]","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcut-help-modal/@wordpress/edit-site/src/components/keyboard-shortcut-help-modal/config.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcut-help-modal/@wordpress/edit-site/src/components/keyboard-shortcut-help-modal/shortcut.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcut-help-modal/@wordpress/edit-site/src/components/keyboard-shortcut-help-modal/dynamic-shortcut.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcut-help-modal/@wordpress/edit-site/src/components/keyboard-shortcut-help-modal/index.js","webpack://wp/./packages/edit-site/build-module/components/preferences-modal/@wordpress/edit-site/src/components/preferences-modal/enable-feature.js","webpack://wp/./packages/edit-site/build-module/components/preferences-modal/@wordpress/edit-site/src/components/preferences-modal/index.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/tools-more-menu-group/@wordpress/edit-site/src/components/header-edit-mode/tools-more-menu-group/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/download.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/more-menu/@wordpress/edit-site/src/components/header-edit-mode/more-menu/site-export.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/more-menu/@wordpress/edit-site/src/components/header-edit-mode/more-menu/welcome-guide-menu-item.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/more-menu/@wordpress/edit-site/src/components/header-edit-mode/more-menu/copy-content-menu-item.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/mode-switcher/@wordpress/edit-site/src/components/header-edit-mode/mode-switcher/index.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/more-menu/@wordpress/edit-site/src/components/header-edit-mode/more-menu/index.js","webpack://wp/./packages/edit-site/build-module/components/save-button/@wordpress/edit-site/src/components/save-button/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/undo.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/redo.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/undo-redo/@wordpress/edit-site/src/components/header-edit-mode/undo-redo/undo.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/undo-redo/@wordpress/edit-site/src/components/header-edit-mode/undo-redo/redo.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/chevron-down.js","webpack://wp/external window [\"wp\",\"htmlEntities\"]","webpack://wp/./packages/edit-site/build-module/components/template-details/@wordpress/edit-site/src/components/template-details/template-areas.js","webpack://wp/./packages/edit-site/build-module/components/template-details/@wordpress/edit-site/src/components/template-details/edit-template-title.js","webpack://wp/./packages/edit-site/build-module/components/template-details/@wordpress/edit-site/src/components/template-details/template-part-area-selector.js","webpack://wp/./packages/edit-site/build-module/components/template-details/@wordpress/edit-site/src/components/template-details/index.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/document-actions/@wordpress/edit-site/src/components/header-edit-mode/document-actions/index.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/@wordpress/edit-site/src/components/header-edit-mode/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/drawer-left.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/drawer-right.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/@wordpress/edit-site/src/components/sidebar-edit-mode/default-sidebar.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/styles.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/icon-with-current-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/navigation-button.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/typography.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/color.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/layout.js","webpack://wp/./packages/edit-site/node_modules/colord/index.mjs","webpack://wp/./packages/edit-site/node_modules/colord/plugins/a11y.mjs","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/typography-utils.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/utils.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/context.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/hooks.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/border-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/color-utils.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/position-center.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/stretch-wide.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/dimensions-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/typography-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/context-menu.js","webpack://wp/external window [\"wp\",\"styleEngine\"]","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/use-global-styles-output.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/preview.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-root.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/header.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-block-list.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-block.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/subtitle.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-typography.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/typography-preview.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-typography-element.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/shuffle.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/color-indicator-wrapper.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/palette.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-colors.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/color-palette-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/gradients-palette-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-color-palette.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-background-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-text-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-link-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-heading-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-button-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-layout.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/global-styles-provider.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-style-variations.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/ui.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/@wordpress/edit-site/src/components/sidebar-edit-mode/global-styles-sidebar.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/navigation.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/navigation-menu-sidebar/@wordpress/edit-site/src/components/sidebar-edit-mode/navigation-menu-sidebar/navigation-menu.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/navigation-menu-sidebar/@wordpress/edit-site/src/components/sidebar-edit-mode/navigation-menu-sidebar/navigation-inspector.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/navigation-menu-sidebar/@wordpress/edit-site/src/components/sidebar-edit-mode/navigation-menu-sidebar/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/@wordpress/edit-site/src/components/sidebar-edit-mode/constants.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/settings-header/@wordpress/edit-site/src/components/sidebar-edit-mode/settings-header/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/template-card/@wordpress/edit-site/src/components/sidebar-edit-mode/template-card/template-actions.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/template-card/@wordpress/edit-site/src/components/sidebar-edit-mode/template-card/template-areas.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/template-card/@wordpress/edit-site/src/components/sidebar-edit-mode/template-card/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/@wordpress/edit-site/src/components/sidebar-edit-mode/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/home.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/symbol-filled.js","webpack://wp/./packages/edit-site/build-module/components/navigation-sidebar/navigation-panel/@wordpress/edit-site/src/components/navigation-sidebar/navigation-panel/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/wordpress.js","webpack://wp/./packages/edit-site/build-module/components/navigation-sidebar/navigation-toggle/@wordpress/edit-site/src/components/navigation-sidebar/navigation-toggle/index.js","webpack://wp/./packages/edit-site/build-module/components/navigation-sidebar/@wordpress/edit-site/src/components/navigation-sidebar/index.js","webpack://wp/external window [\"wp\",\"reusableBlocks\"]","webpack://wp/./packages/edit-site/build-module/components/template-part-converter/@wordpress/edit-site/src/components/template-part-converter/convert-to-regular.js","webpack://wp/./packages/edit-site/build-module/components/create-template-part-modal/@wordpress/edit-site/src/components/create-template-part-modal/index.js","webpack://wp/./packages/edit-site/build-module/components/template-part-converter/@wordpress/edit-site/src/components/template-part-converter/convert-to-template-part.js","webpack://wp/./packages/edit-site/build-module/components/template-part-converter/@wordpress/edit-site/src/components/template-part-converter/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/pencil.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/edit.js","webpack://wp/./packages/edit-site/build-module/components/navigate-to-link/@wordpress/edit-site/src/components/navigate-to-link/index.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/block-inspector-button.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/arrow-left.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/back-button.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/resize-handle.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/resizable-editor.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/index.js","webpack://wp/./packages/edit-site/build-module/components/code-editor/@wordpress/edit-site/src/components/code-editor/code-editor-text-area.js","webpack://wp/./packages/edit-site/build-module/components/code-editor/@wordpress/edit-site/src/components/code-editor/index.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcuts/@wordpress/edit-site/src/components/keyboard-shortcuts/index.js","webpack://wp/./packages/edit-site/build-module/components/url-query-controller/@wordpress/edit-site/src/components/url-query-controller/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/close.js","webpack://wp/./packages/edit-site/build-module/components/secondary-sidebar/@wordpress/edit-site/src/components/secondary-sidebar/inserter-sidebar.js","webpack://wp/./packages/edit-site/build-module/components/secondary-sidebar/@wordpress/edit-site/src/components/secondary-sidebar/list-view-sidebar.js","webpack://wp/./packages/edit-site/build-module/components/error-boundary/@wordpress/edit-site/src/components/error-boundary/warning.js","webpack://wp/./packages/edit-site/build-module/components/error-boundary/@wordpress/edit-site/src/components/error-boundary/index.js","webpack://wp/./packages/edit-site/build-module/components/welcome-guide/@wordpress/edit-site/src/components/welcome-guide/image.js","webpack://wp/./packages/edit-site/build-module/components/welcome-guide/@wordpress/edit-site/src/components/welcome-guide/editor.js","webpack://wp/./packages/edit-site/build-module/components/welcome-guide/@wordpress/edit-site/src/components/welcome-guide/styles.js","webpack://wp/./packages/edit-site/build-module/components/welcome-guide/@wordpress/edit-site/src/components/welcome-guide/index.js","webpack://wp/./packages/edit-site/build-module/components/editor/@wordpress/edit-site/src/components/editor/global-styles-renderer.js","webpack://wp/./packages/edit-site/build-module/components/routes/@wordpress/edit-site/src/components/routes/use-title.js","webpack://wp/./packages/edit-site/build-module/components/editor/@wordpress/edit-site/src/components/editor/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/post.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/page.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/archive.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/search.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/not-found.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/list.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/category.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/post-author.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/block-meta.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/post-date.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/tag.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/media.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/template-actions-loading-screen.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/utils.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/add-custom-template-modal.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/add-custom-generic-template-modal.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/new-template.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/new-template-part.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/index.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/header.js","webpack://wp/./packages/edit-site/build-module/components/list/actions/@wordpress/edit-site/src/components/list/actions/rename-menu-item.js","webpack://wp/./packages/edit-site/build-module/components/list/actions/@wordpress/edit-site/src/components/list/actions/index.js","webpack://wp/./packages/edit-site/build-module/utils/@wordpress/edit-site/src/utils/is-template-removable.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/plugins.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/comment-author-avatar.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/globe.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/added-by.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/table.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/index.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/use-register-shortcuts.js","webpack://wp/./packages/edit-site/build-module/utils/@wordpress/edit-site/src/utils/get-is-list-page.js","webpack://wp/./packages/edit-site/build-module/components/app/@wordpress/edit-site/src/components/app/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar-edit-mode/plugin-sidebar/@wordpress/edit-site/src/components/sidebar-edit-mode/plugin-sidebar/index.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/plugin-sidebar-more-menu-item/@wordpress/edit-site/src/components/header-edit-mode/plugin-sidebar-more-menu-item/index.js","webpack://wp/./packages/edit-site/build-module/components/header-edit-mode/plugin-more-menu-item/@wordpress/edit-site/src/components/header-edit-mode/plugin-more-menu-item/index.js","webpack://wp/./packages/edit-site/build-module/@wordpress/edit-site/src/index.js"],"sourcesContent":["/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// This code has been refactored for 140 bytes\n// You can see the original here: https://github.com/twolfson/computedStyle/blob/04cd1da2e30fa45844f95f5cb1ac898e9b9ef050/lib/computedStyle.js\nvar computedStyle = function (el, prop, getComputedStyle) {\n  getComputedStyle = window.getComputedStyle;\n\n  // In one fell swoop\n  return (\n    // If we have getComputedStyle\n    getComputedStyle ?\n      // Query it\n      // TODO: From CSS-Query notes, we might need (node, null) for FF\n      getComputedStyle(el) :\n\n    // Otherwise, we are in IE and use currentStyle\n      el.currentStyle\n  )[\n    // Switch to camelCase for CSSOM\n    // DEV: Grabbed from jQuery\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/css.js#L191-L194\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/core.js#L593-L597\n    prop.replace(/-(\\w)/gi, function (word, letter) {\n      return letter.toUpperCase();\n    })\n  ];\n};\n\nmodule.exports = computedStyle;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","// Load in dependencies\nvar computedStyle = require('computed-style');\n\n/**\n * Calculate the `line-height` of a given node\n * @param {HTMLElement} node Element to calculate line height of. Must be in the DOM.\n * @returns {Number} `line-height` of the element in pixels\n */\nfunction lineHeight(node) {\n  // Grab the line-height via style\n  var lnHeightStr = computedStyle(node, 'line-height');\n  var lnHeight = parseFloat(lnHeightStr, 10);\n\n  // If the lineHeight did not contain a unit (i.e. it was numeric), convert it to ems (e.g. '2.3' === '2.3em')\n  if (lnHeightStr === lnHeight + '') {\n    // Save the old lineHeight style and update the em unit to the element\n    var _lnHeightStyle = node.style.lineHeight;\n    node.style.lineHeight = lnHeightStr + 'em';\n\n    // Calculate the em based height\n    lnHeightStr = computedStyle(node, 'line-height');\n    lnHeight = parseFloat(lnHeightStr, 10);\n\n    // Revert the lineHeight style\n    if (_lnHeightStyle) {\n      node.style.lineHeight = _lnHeightStyle;\n    } else {\n      delete node.style.lineHeight;\n    }\n  }\n\n  // If the lineHeight is in `pt`, convert it to pixels (4px for 3pt)\n  // DEV: `em` units are converted to `pt` in IE6\n  // Conversion ratio from https://developer.mozilla.org/en-US/docs/Web/CSS/length\n  if (lnHeightStr.indexOf('pt') !== -1) {\n    lnHeight *= 4;\n    lnHeight /= 3;\n  // Otherwise, if the lineHeight is in `mm`, convert it to pixels (96px for 25.4mm)\n  } else if (lnHeightStr.indexOf('mm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 25.4;\n  // Otherwise, if the lineHeight is in `cm`, convert it to pixels (96px for 2.54cm)\n  } else if (lnHeightStr.indexOf('cm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 2.54;\n  // Otherwise, if the lineHeight is in `in`, convert it to pixels (96px for 1in)\n  } else if (lnHeightStr.indexOf('in') !== -1) {\n    lnHeight *= 96;\n  // Otherwise, if the lineHeight is in `pc`, convert it to pixels (12pt for 1pc)\n  } else if (lnHeightStr.indexOf('pc') !== -1) {\n    lnHeight *= 16;\n  }\n\n  // Continue our computation\n  lnHeight = Math.round(lnHeight);\n\n  // If the line-height is \"normal\", calculate by font-size\n  if (lnHeightStr === 'normal') {\n    // Create a temporary node\n    var nodeName = node.nodeName;\n    var _node = document.createElement(nodeName);\n    _node.innerHTML = '&nbsp;';\n\n    // If we have a text area, reset it to only 1 row\n    // https://github.com/twolfson/line-height/issues/4\n    if (nodeName.toUpperCase() === 'TEXTAREA') {\n      _node.setAttribute('rows', '1');\n    }\n\n    // Set the font-size of the element\n    var fontSizeStr = computedStyle(node, 'font-size');\n    _node.style.fontSize = fontSizeStr;\n\n    // Remove default padding/border which can affect offset height\n    // https://github.com/twolfson/line-height/issues/4\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight\n    _node.style.padding = '0px';\n    _node.style.border = '0px';\n\n    // Append it to the body\n    var body = document.body;\n    body.appendChild(_node);\n\n    // Assume the line height of the element is the height\n    var height = _node.offsetHeight;\n    lnHeight = height;\n\n    // Remove our child from the DOM\n    body.removeChild(_node);\n  }\n\n  // Return the calculated height\n  return lnHeight;\n}\n\n// Export lineHeight\nmodule.exports = lineHeight;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nexports.__esModule = true;\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar autosize = require(\"autosize\");\nvar _getLineHeight = require(\"line-height\");\nvar getLineHeight = _getLineHeight;\nvar RESIZED = \"autosize:resized\";\n/**\n * A light replacement for built-in textarea component\n * which automaticaly adjusts its height to match the content\n */\nvar TextareaAutosizeClass = /** @class */ (function (_super) {\n    __extends(TextareaAutosizeClass, _super);\n    function TextareaAutosizeClass() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            lineHeight: null\n        };\n        _this.textarea = null;\n        _this.onResize = function (e) {\n            if (_this.props.onResize) {\n                _this.props.onResize(e);\n            }\n        };\n        _this.updateLineHeight = function () {\n            if (_this.textarea) {\n                _this.setState({\n                    lineHeight: getLineHeight(_this.textarea)\n                });\n            }\n        };\n        _this.onChange = function (e) {\n            var onChange = _this.props.onChange;\n            _this.currentValue = e.currentTarget.value;\n            onChange && onChange(e);\n        };\n        return _this;\n    }\n    TextareaAutosizeClass.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, maxRows = _a.maxRows, async = _a.async;\n        if (typeof maxRows === \"number\") {\n            this.updateLineHeight();\n        }\n        if (typeof maxRows === \"number\" || async) {\n            /*\n              the defer is needed to:\n                - force \"autosize\" to activate the scrollbar when this.props.maxRows is passed\n                - support StyledComponents (see #71)\n            */\n            setTimeout(function () { return _this.textarea && autosize(_this.textarea); });\n        }\n        else {\n            this.textarea && autosize(this.textarea);\n        }\n        if (this.textarea) {\n            this.textarea.addEventListener(RESIZED, this.onResize);\n        }\n    };\n    TextareaAutosizeClass.prototype.componentWillUnmount = function () {\n        if (this.textarea) {\n            this.textarea.removeEventListener(RESIZED, this.onResize);\n            autosize.destroy(this.textarea);\n        }\n    };\n    TextareaAutosizeClass.prototype.render = function () {\n        var _this = this;\n        var _a = this, _b = _a.props, onResize = _b.onResize, maxRows = _b.maxRows, onChange = _b.onChange, style = _b.style, innerRef = _b.innerRef, children = _b.children, props = __rest(_b, [\"onResize\", \"maxRows\", \"onChange\", \"style\", \"innerRef\", \"children\"]), lineHeight = _a.state.lineHeight;\n        var maxHeight = maxRows && lineHeight ? lineHeight * maxRows : null;\n        return (React.createElement(\"textarea\", __assign({}, props, { onChange: this.onChange, style: maxHeight ? __assign({}, style, { maxHeight: maxHeight }) : style, ref: function (element) {\n                _this.textarea = element;\n                if (typeof _this.props.innerRef === 'function') {\n                    _this.props.innerRef(element);\n                }\n                else if (_this.props.innerRef) {\n                    _this.props.innerRef.current = element;\n                }\n            } }), children));\n    };\n    TextareaAutosizeClass.prototype.componentDidUpdate = function () {\n        this.textarea && autosize.update(this.textarea);\n    };\n    TextareaAutosizeClass.defaultProps = {\n        rows: 1,\n        async: false\n    };\n    TextareaAutosizeClass.propTypes = {\n        rows: PropTypes.number,\n        maxRows: PropTypes.number,\n        onResize: PropTypes.func,\n        innerRef: PropTypes.any,\n        async: PropTypes.bool\n    };\n    return TextareaAutosizeClass;\n}(React.Component));\nexports.TextareaAutosize = React.forwardRef(function (props, ref) {\n    return React.createElement(TextareaAutosizeClass, __assign({}, props, { innerRef: ref }));\n});\n","\"use strict\";\nexports.__esModule = true;\nvar TextareaAutosize_1 = require(\"./TextareaAutosize\");\nexports[\"default\"] = TextareaAutosize_1.TextareaAutosize;\n","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockLibrary\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"editor\"];","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst check = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z\" />\n\t</SVG>\n);\n\nexport default check;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starFilled = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z\" />\n\t</SVG>\n);\n\nexport default starFilled;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starEmpty = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default starEmpty;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"viewport\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst closeSmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\n\t</SVG>\n);\n\nexport default closeSmall;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"deprecated\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"preferences\"];","/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Set a default complementary area.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n *\n * @return {Object} Action object.\n */\nexport const setDefaultComplementaryArea = ( scope, area ) => ( {\n\ttype: 'SET_DEFAULT_COMPLEMENTARY_AREA',\n\tscope,\n\tarea,\n} );\n\n/**\n * Enable the complementary area.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n */\nexport const enableComplementaryArea =\n\t( scope, area ) =>\n\t( { registry, dispatch } ) => {\n\t\t// Return early if there's no area.\n\t\tif ( ! area ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isComplementaryAreaVisible = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'isComplementaryAreaVisible' );\n\n\t\tif ( ! isComplementaryAreaVisible ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( scope, 'isComplementaryAreaVisible', true );\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'ENABLE_COMPLEMENTARY_AREA',\n\t\t\tscope,\n\t\t\tarea,\n\t\t} );\n\t};\n\n/**\n * Disable the complementary area.\n *\n * @param {string} scope Complementary area scope.\n */\nexport const disableComplementaryArea =\n\t( scope ) =>\n\t( { registry } ) => {\n\t\tconst isComplementaryAreaVisible = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'isComplementaryAreaVisible' );\n\n\t\tif ( isComplementaryAreaVisible ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( scope, 'isComplementaryAreaVisible', false );\n\t\t}\n\t};\n\n/**\n * Pins an item.\n *\n * @param {string} scope Item scope.\n * @param {string} item  Item identifier.\n *\n * @return {Object} Action object.\n */\nexport const pinItem =\n\t( scope, item ) =>\n\t( { registry } ) => {\n\t\t// Return early if there's no item.\n\t\tif ( ! item ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst pinnedItems = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'pinnedItems' );\n\n\t\t// The item is already pinned, there's nothing to do.\n\t\tif ( pinnedItems?.[ item ] === true ) {\n\t\t\treturn;\n\t\t}\n\n\t\tregistry.dispatch( preferencesStore ).set( scope, 'pinnedItems', {\n\t\t\t...pinnedItems,\n\t\t\t[ item ]: true,\n\t\t} );\n\t};\n\n/**\n * Unpins an item.\n *\n * @param {string} scope Item scope.\n * @param {string} item  Item identifier.\n */\nexport const unpinItem =\n\t( scope, item ) =>\n\t( { registry } ) => {\n\t\t// Return early if there's no item.\n\t\tif ( ! item ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst pinnedItems = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'pinnedItems' );\n\n\t\tregistry.dispatch( preferencesStore ).set( scope, 'pinnedItems', {\n\t\t\t...pinnedItems,\n\t\t\t[ item ]: false,\n\t\t} );\n\t};\n\n/**\n * Returns an action object used in signalling that a feature should be toggled.\n *\n * @param {string} scope       The feature scope (e.g. core/edit-post).\n * @param {string} featureName The feature name.\n */\nexport function toggleFeature( scope, featureName ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).toggleFeature`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).toggle`,\n\t\t} );\n\n\t\tregistry.dispatch( preferencesStore ).toggle( scope, featureName );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a feature should be set to\n * a true or false value\n *\n * @param {string}  scope       The feature scope (e.g. core/edit-post).\n * @param {string}  featureName The feature name.\n * @param {boolean} value       The value to set.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureValue( scope, featureName, value ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).setFeatureValue`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).set`,\n\t\t} );\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( scope, featureName, !! value );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that defaults should be set for features.\n *\n * @param {string}                  scope    The feature scope (e.g. core/edit-post).\n * @param {Object<string, boolean>} defaults A key/value map of feature names to values.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureDefaults( scope, defaults ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).setFeatureDefaults`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).setDefaults`,\n\t\t} );\n\n\t\tregistry.dispatch( preferencesStore ).setDefaults( scope, defaults );\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { createRegistrySelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Returns the complementary area that is active in a given scope.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Item scope.\n *\n * @return {string | null | undefined} The complementary area that is active in the given scope.\n */\nexport const getActiveComplementaryArea = createRegistrySelector(\n\t( select ) => ( state, scope ) => {\n\t\tconst isComplementaryAreaVisible = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'isComplementaryAreaVisible'\n\t\t);\n\n\t\t// Return `undefined` to indicate that the user has never toggled\n\t\t// visibility, this is the vanilla default. Other code relies on this\n\t\t// nuance in the return value.\n\t\tif ( isComplementaryAreaVisible === undefined ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Return `null` to indicate the user hid the complementary area.\n\t\tif ( ! isComplementaryAreaVisible ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn state?.complementaryAreas?.[ scope ];\n\t}\n);\n\n/**\n * Returns a boolean indicating if an item is pinned or not.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Scope.\n * @param {string} item  Item to check.\n *\n * @return {boolean} True if the item is pinned and false otherwise.\n */\nexport const isItemPinned = createRegistrySelector(\n\t( select ) => ( state, scope, item ) => {\n\t\tconst pinnedItems = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'pinnedItems'\n\t\t);\n\t\treturn pinnedItems?.[ item ] ?? true;\n\t}\n);\n\n/**\n * Returns a boolean indicating whether a feature is active for a particular\n * scope.\n *\n * @param {Object} state       The store state.\n * @param {string} scope       The scope of the feature (e.g. core/edit-post).\n * @param {string} featureName The name of the feature.\n *\n * @return {boolean} Is the feature enabled?\n */\nexport const isFeatureActive = createRegistrySelector(\n\t( select ) => ( state, scope, featureName ) => {\n\t\tdeprecated(\n\t\t\t`select( 'core/interface' ).isFeatureActive( scope, featureName )`,\n\t\t\t{\n\t\t\t\tsince: '6.0',\n\t\t\t\talternative: `select( 'core/preferences' ).get( scope, featureName )`,\n\t\t\t}\n\t\t);\n\n\t\treturn !! select( preferencesStore ).get( scope, featureName );\n\t}\n);\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\nexport function complementaryAreas( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_DEFAULT_COMPLEMENTARY_AREA': {\n\t\t\tconst { scope, area } = action;\n\n\t\t\t// If there's already an area, don't overwrite it.\n\t\t\tif ( state[ scope ] ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: area,\n\t\t\t};\n\t\t}\n\t\tcase 'ENABLE_COMPLEMENTARY_AREA': {\n\t\t\tconst { scope, area } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: area,\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tcomplementaryAreas,\n} );\n","/**\n * The identifier for the data store.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/interface';\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport * as actions from './actions';\nimport * as selectors from './selectors';\nimport reducer from './reducer';\nimport { STORE_NAME } from './constants';\n\n/**\n * Store definition for the interface namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, {\n\treducer,\n\tactions,\n\tselectors,\n} );\n\n// Once we build a more generic persistence plugin that works across types of stores\n// we'd be able to replace this with a register call.\nregister( store );\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"plugins\"];","/**\n * WordPress dependencies\n */\nimport { withPluginContext } from '@wordpress/plugins';\n\nexport default withPluginContext( ( context, ownProps ) => {\n\treturn {\n\t\ticon: ownProps.icon || context.icon,\n\t\tidentifier:\n\t\t\townProps.identifier || `${ context.name }/${ ownProps.name }`,\n\t};\n} );\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as interfaceStore } from '../../store';\nimport complementaryAreaContext from '../complementary-area-context';\n\nfunction ComplementaryAreaToggle( {\n\tas = Button,\n\tscope,\n\tidentifier,\n\ticon,\n\tselectedIcon,\n\tname,\n\t...props\n} ) {\n\tconst ComponentToUse = as;\n\tconst isSelected = useSelect(\n\t\t( select ) =>\n\t\t\tselect( interfaceStore ).getActiveComplementaryArea( scope ) ===\n\t\t\tidentifier,\n\t\t[ identifier ]\n\t);\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\treturn (\n\t\t<ComponentToUse\n\t\t\ticon={ selectedIcon && isSelected ? selectedIcon : icon }\n\t\t\tonClick={ () => {\n\t\t\t\tif ( isSelected ) {\n\t\t\t\t\tdisableComplementaryArea( scope );\n\t\t\t\t} else {\n\t\t\t\t\tenableComplementaryArea( scope, identifier );\n\t\t\t\t}\n\t\t\t} }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n\nexport default complementaryAreaContext( ComplementaryAreaToggle );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { closeSmall } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\n\nconst ComplementaryAreaHeader = ( {\n\tsmallScreenTitle,\n\tchildren,\n\tclassName,\n\ttoggleButtonProps,\n} ) => {\n\tconst toggleButton = (\n\t\t<ComplementaryAreaToggle icon={ closeSmall } { ...toggleButtonProps } />\n\t);\n\treturn (\n\t\t<>\n\t\t\t<div className=\"components-panel__header interface-complementary-area-header__small\">\n\t\t\t\t{ smallScreenTitle && (\n\t\t\t\t\t<span className=\"interface-complementary-area-header__small-title\">\n\t\t\t\t\t\t{ smallScreenTitle }\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t\t{ toggleButton }\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'components-panel__header',\n\t\t\t\t\t'interface-complementary-area-header',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t\ttabIndex={ -1 }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t\t{ toggleButton }\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default ComplementaryAreaHeader;\n","/**\n * WordPress dependencies\n */\nimport { ButtonGroup, Button, Slot, Fill } from '@wordpress/components';\nimport { Children } from '@wordpress/element';\n\nconst noop = () => {};\n\nfunction ActionItemSlot( {\n\tname,\n\tas: Component = ButtonGroup,\n\tfillProps = {},\n\tbubblesVirtually,\n\t...props\n} ) {\n\treturn (\n\t\t<Slot\n\t\t\tname={ name }\n\t\t\tbubblesVirtually={ bubblesVirtually }\n\t\t\tfillProps={ fillProps }\n\t\t>\n\t\t\t{ ( fills ) => {\n\t\t\t\tif ( ! Children.toArray( fills ).length ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\t// Special handling exists for backward compatibility.\n\t\t\t\t// It ensures that menu items created by plugin authors aren't\n\t\t\t\t// duplicated with automatically injected menu items coming\n\t\t\t\t// from pinnable plugin sidebars.\n\t\t\t\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t\t\t\tconst initializedByPlugins = [];\n\t\t\t\tChildren.forEach(\n\t\t\t\t\tfills,\n\t\t\t\t\t( {\n\t\t\t\t\t\tprops: { __unstableExplicitMenuItem, __unstableTarget },\n\t\t\t\t\t} ) => {\n\t\t\t\t\t\tif ( __unstableTarget && __unstableExplicitMenuItem ) {\n\t\t\t\t\t\t\tinitializedByPlugins.push( __unstableTarget );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconst children = Children.map( fills, ( child ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t! child.props.__unstableExplicitMenuItem &&\n\t\t\t\t\t\tinitializedByPlugins.includes(\n\t\t\t\t\t\t\tchild.props.__unstableTarget\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn child;\n\t\t\t\t} );\n\n\t\t\t\treturn <Component { ...props }>{ children }</Component>;\n\t\t\t} }\n\t\t</Slot>\n\t);\n}\n\nfunction ActionItem( { name, as: Component = Button, onClick, ...props } ) {\n\treturn (\n\t\t<Fill name={ name }>\n\t\t\t{ ( { onClick: fpOnClick } ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Component\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\tonClick || fpOnClick\n\t\t\t\t\t\t\t\t? ( ...args ) => {\n\t\t\t\t\t\t\t\t\t\t( onClick || noop )( ...args );\n\t\t\t\t\t\t\t\t\t\t( fpOnClick || noop )( ...args );\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t</Fill>\n\t);\n}\n\nActionItem.Slot = ActionItemSlot;\n\nexport default ActionItem;\n","/**\n * WordPress dependencies\n */\nimport { check } from '@wordpress/icons';\nimport { MenuItem } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\nimport ActionItem from '../action-item';\n\nconst PluginsMenuItem = ( {\n\t// Menu item is marked with unstable prop for backward compatibility.\n\t// They are removed so they don't leak to DOM elements.\n\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t__unstableExplicitMenuItem,\n\t__unstableTarget,\n\t...restProps\n} ) => <MenuItem { ...restProps } />;\n\nexport default function ComplementaryAreaMoreMenuItem( {\n\tscope,\n\ttarget,\n\t__unstableExplicitMenuItem,\n\t...props\n} ) {\n\treturn (\n\t\t<ComplementaryAreaToggle\n\t\t\tas={ ( toggleProps ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ActionItem\n\t\t\t\t\t\t__unstableExplicitMenuItem={\n\t\t\t\t\t\t\t__unstableExplicitMenuItem\n\t\t\t\t\t\t}\n\t\t\t\t\t\t__unstableTarget={ `${ scope }/${ target }` }\n\t\t\t\t\t\tas={ PluginsMenuItem }\n\t\t\t\t\t\tname={ `${ scope }/plugin-more-menu` }\n\t\t\t\t\t\t{ ...toggleProps }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tselectedIcon={ check }\n\t\t\tname={ target }\n\t\t\tscope={ scope }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Slot, Fill } from '@wordpress/components';\n\nfunction PinnedItems( { scope, ...props } ) {\n\treturn <Fill name={ `PinnedItems/${ scope }` } { ...props } />;\n}\n\nfunction PinnedItemsSlot( { scope, className, ...props } ) {\n\treturn (\n\t\t<Slot name={ `PinnedItems/${ scope }` } { ...props }>\n\t\t\t{ ( fills ) =>\n\t\t\t\tfills?.length > 0 && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t'interface-pinned-items'\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ fills }\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</Slot>\n\t);\n}\n\nPinnedItems.Slot = PinnedItemsSlot;\n\nexport default PinnedItems;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Button, Panel, Slot, Fill } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { check, starEmpty, starFilled } from '@wordpress/icons';\nimport { useEffect, useRef } from '@wordpress/element';\nimport { store as viewportStore } from '@wordpress/viewport';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaHeader from '../complementary-area-header';\nimport ComplementaryAreaMoreMenuItem from '../complementary-area-more-menu-item';\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\nimport withComplementaryAreaContext from '../complementary-area-context';\nimport PinnedItems from '../pinned-items';\nimport { store as interfaceStore } from '../../store';\n\nfunction ComplementaryAreaSlot( { scope, ...props } ) {\n\treturn <Slot name={ `ComplementaryArea/${ scope }` } { ...props } />;\n}\n\nfunction ComplementaryAreaFill( { scope, children, className } ) {\n\treturn (\n\t\t<Fill name={ `ComplementaryArea/${ scope }` }>\n\t\t\t<div className={ className }>{ children }</div>\n\t\t</Fill>\n\t);\n}\n\nfunction useAdjustComplementaryListener(\n\tscope,\n\tidentifier,\n\tactiveArea,\n\tisActive,\n\tisSmall\n) {\n\tconst previousIsSmall = useRef( false );\n\tconst shouldOpenWhenNotSmall = useRef( false );\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\tuseEffect( () => {\n\t\t// If the complementary area is active and the editor is switching from a big to a small window size.\n\t\tif ( isActive && isSmall && ! previousIsSmall.current ) {\n\t\t\t// Disable the complementary area.\n\t\t\tdisableComplementaryArea( scope );\n\t\t\t// Flag the complementary area to be reopened when the window size goes from small to big.\n\t\t\tshouldOpenWhenNotSmall.current = true;\n\t\t} else if (\n\t\t\t// If there is a flag indicating the complementary area should be enabled when we go from small to big window size\n\t\t\t// and we are going from a small to big window size.\n\t\t\tshouldOpenWhenNotSmall.current &&\n\t\t\t! isSmall &&\n\t\t\tpreviousIsSmall.current\n\t\t) {\n\t\t\t// Remove the flag indicating the complementary area should be enabled.\n\t\t\tshouldOpenWhenNotSmall.current = false;\n\t\t\t// Enable the complementary area.\n\t\t\tenableComplementaryArea( scope, identifier );\n\t\t} else if (\n\t\t\t// If the flag is indicating the current complementary should be reopened but another complementary area becomes active,\n\t\t\t// remove the flag.\n\t\t\tshouldOpenWhenNotSmall.current &&\n\t\t\tactiveArea &&\n\t\t\tactiveArea !== identifier\n\t\t) {\n\t\t\tshouldOpenWhenNotSmall.current = false;\n\t\t}\n\t\tif ( isSmall !== previousIsSmall.current ) {\n\t\t\tpreviousIsSmall.current = isSmall;\n\t\t}\n\t}, [ isActive, isSmall, scope, identifier, activeArea ] );\n}\n\nfunction ComplementaryArea( {\n\tchildren,\n\tclassName,\n\tcloseLabel = __( 'Close plugin' ),\n\tidentifier,\n\theader,\n\theaderClassName,\n\ticon,\n\tisPinnable = true,\n\tpanelClassName,\n\tscope,\n\tname,\n\tsmallScreenTitle,\n\ttitle,\n\ttoggleShortcut,\n\tisActiveByDefault,\n\tshowIconLabels = false,\n} ) {\n\tconst { isActive, isPinned, activeArea, isSmall, isLarge } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getActiveComplementaryArea, isItemPinned } =\n\t\t\t\tselect( interfaceStore );\n\t\t\tconst _activeArea = getActiveComplementaryArea( scope );\n\t\t\treturn {\n\t\t\t\tisActive: _activeArea === identifier,\n\t\t\t\tisPinned: isItemPinned( scope, identifier ),\n\t\t\t\tactiveArea: _activeArea,\n\t\t\t\tisSmall: select( viewportStore ).isViewportMatch( '< medium' ),\n\t\t\t\tisLarge: select( viewportStore ).isViewportMatch( 'large' ),\n\t\t\t};\n\t\t},\n\t\t[ identifier, scope ]\n\t);\n\tuseAdjustComplementaryListener(\n\t\tscope,\n\t\tidentifier,\n\t\tactiveArea,\n\t\tisActive,\n\t\tisSmall\n\t);\n\tconst {\n\t\tenableComplementaryArea,\n\t\tdisableComplementaryArea,\n\t\tpinItem,\n\t\tunpinItem,\n\t} = useDispatch( interfaceStore );\n\n\tuseEffect( () => {\n\t\tif ( isActiveByDefault && activeArea === undefined && ! isSmall ) {\n\t\t\tenableComplementaryArea( scope, identifier );\n\t\t}\n\t}, [ activeArea, isActiveByDefault, scope, identifier, isSmall ] );\n\n\treturn (\n\t\t<>\n\t\t\t{ isPinnable && (\n\t\t\t\t<PinnedItems scope={ scope }>\n\t\t\t\t\t{ isPinned && (\n\t\t\t\t\t\t<ComplementaryAreaToggle\n\t\t\t\t\t\t\tscope={ scope }\n\t\t\t\t\t\t\tidentifier={ identifier }\n\t\t\t\t\t\t\tisPressed={\n\t\t\t\t\t\t\t\tisActive && ( ! showIconLabels || isLarge )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-expanded={ isActive }\n\t\t\t\t\t\t\tlabel={ title }\n\t\t\t\t\t\t\ticon={ showIconLabels ? check : icon }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PinnedItems>\n\t\t\t) }\n\t\t\t{ name && isPinnable && (\n\t\t\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t\t\ttarget={ name }\n\t\t\t\t\tscope={ scope }\n\t\t\t\t\ticon={ icon }\n\t\t\t\t>\n\t\t\t\t\t{ title }\n\t\t\t\t</ComplementaryAreaMoreMenuItem>\n\t\t\t) }\n\t\t\t{ isActive && (\n\t\t\t\t<ComplementaryAreaFill\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'interface-complementary-area',\n\t\t\t\t\t\tclassName\n\t\t\t\t\t) }\n\t\t\t\t\tscope={ scope }\n\t\t\t\t>\n\t\t\t\t\t<ComplementaryAreaHeader\n\t\t\t\t\t\tclassName={ headerClassName }\n\t\t\t\t\t\tcloseLabel={ closeLabel }\n\t\t\t\t\t\tonClose={ () => disableComplementaryArea( scope ) }\n\t\t\t\t\t\tsmallScreenTitle={ smallScreenTitle }\n\t\t\t\t\t\ttoggleButtonProps={ {\n\t\t\t\t\t\t\tlabel: closeLabel,\n\t\t\t\t\t\t\tshortcut: toggleShortcut,\n\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\tidentifier,\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ header || (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<strong>{ title }</strong>\n\t\t\t\t\t\t\t\t{ isPinnable && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"interface-complementary-area__pin-unpin-item\"\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\tisPinned ? starFilled : starEmpty\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\tisPinned\n\t\t\t\t\t\t\t\t\t\t\t\t? __( 'Unpin from toolbar' )\n\t\t\t\t\t\t\t\t\t\t\t\t: __( 'Pin to toolbar' )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\t( isPinned ? unpinItem : pinItem )(\n\t\t\t\t\t\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\t\t\t\t\t\tidentifier\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tisPressed={ isPinned }\n\t\t\t\t\t\t\t\t\t\taria-expanded={ isPinned }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</ComplementaryAreaHeader>\n\t\t\t\t\t<Panel className={ panelClassName }>{ children }</Panel>\n\t\t\t\t</ComplementaryAreaFill>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nconst ComplementaryAreaWrapped =\n\twithComplementaryAreaContext( ComplementaryArea );\n\nComplementaryAreaWrapped.Slot = ComplementaryAreaSlot;\n\nexport default ComplementaryAreaWrapped;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\nexport default function NavigableRegion( {\n\tchildren,\n\tclassName,\n\tariaLabel,\n\tas: Tag = 'div',\n\t...props\n} ) {\n\treturn (\n\t\t<Tag\n\t\t\tclassName={ classnames( 'interface-navigable-region', className ) }\n\t\t\taria-label={ ariaLabel }\n\t\t\trole=\"region\"\n\t\t\ttabIndex=\"-1\"\n\t\t\t{ ...props }\n\t\t>\n\t\t\t<div className=\"interface-navigable-region__stacker\">\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t</Tag>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef, useEffect } from '@wordpress/element';\nimport {\n\t__unstableUseNavigateRegions as useNavigateRegions,\n\t__unstableMotion as motion,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useMergeRefs } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport NavigableRegion from '../navigable-region';\n\nfunction useHTMLClass( className ) {\n\tuseEffect( () => {\n\t\tconst element =\n\t\t\tdocument && document.querySelector( `html:not(.${ className })` );\n\t\tif ( ! element ) {\n\t\t\treturn;\n\t\t}\n\t\telement.classList.toggle( className );\n\t\treturn () => {\n\t\t\telement.classList.toggle( className );\n\t\t};\n\t}, [ className ] );\n}\n\nfunction InterfaceSkeleton(\n\t{\n\t\tisDistractionFree,\n\t\tfooter,\n\t\theader,\n\t\teditorNotices,\n\t\tsidebar,\n\t\tsecondarySidebar,\n\t\tnotices,\n\t\tcontent,\n\t\tdrawer,\n\t\tactions,\n\t\tlabels,\n\t\tclassName,\n\t\tshortcuts,\n\t},\n\tref\n) {\n\tconst navigateRegionsProps = useNavigateRegions( shortcuts );\n\n\tuseHTMLClass( 'interface-interface-skeleton__html-container' );\n\n\tconst defaultLabels = {\n\t\t/* translators: accessibility text for the nav bar landmark region. */\n\t\tdrawer: __( 'Drawer' ),\n\t\t/* translators: accessibility text for the top bar landmark region. */\n\t\theader: __( 'Header' ),\n\t\t/* translators: accessibility text for the content landmark region. */\n\t\tbody: __( 'Content' ),\n\t\t/* translators: accessibility text for the secondary sidebar landmark region. */\n\t\tsecondarySidebar: __( 'Block Library' ),\n\t\t/* translators: accessibility text for the settings landmark region. */\n\t\tsidebar: __( 'Settings' ),\n\t\t/* translators: accessibility text for the publish landmark region. */\n\t\tactions: __( 'Publish' ),\n\t\t/* translators: accessibility text for the footer landmark region. */\n\t\tfooter: __( 'Footer' ),\n\t};\n\n\tconst mergedLabels = { ...defaultLabels, ...labels };\n\n\tconst headerVariants = {\n\t\thidden: isDistractionFree ? { opacity: 0 } : { opacity: 1 },\n\t\thover: {\n\t\t\topacity: 1,\n\t\t\ttransition: { type: 'tween', delay: 0.2, delayChildren: 0.2 },\n\t\t},\n\t};\n\n\treturn (\n\t\t<div\n\t\t\t{ ...navigateRegionsProps }\n\t\t\tref={ useMergeRefs( [ ref, navigateRegionsProps.ref ] ) }\n\t\t\tclassName={ classnames(\n\t\t\t\tclassName,\n\t\t\t\t'interface-interface-skeleton',\n\t\t\t\tnavigateRegionsProps.className,\n\t\t\t\t!! footer && 'has-footer'\n\t\t\t) }\n\t\t>\n\t\t\t{ !! drawer && (\n\t\t\t\t<NavigableRegion\n\t\t\t\t\tclassName=\"interface-interface-skeleton__drawer\"\n\t\t\t\t\tariaLabel={ mergedLabels.drawer }\n\t\t\t\t>\n\t\t\t\t\t{ drawer }\n\t\t\t\t</NavigableRegion>\n\t\t\t) }\n\t\t\t<div className=\"interface-interface-skeleton__editor\">\n\t\t\t\t{ !! header && isDistractionFree && (\n\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\tas={ motion.div }\n\t\t\t\t\t\tclassName=\"interface-interface-skeleton__header\"\n\t\t\t\t\t\taria-label={ mergedLabels.header }\n\t\t\t\t\t\tinitial={ isDistractionFree ? 'hidden' : 'hover' }\n\t\t\t\t\t\twhileHover=\"hover\"\n\t\t\t\t\t\tvariants={ headerVariants }\n\t\t\t\t\t\ttransition={ { type: 'tween', delay: 0.8 } }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ header }\n\t\t\t\t\t</NavigableRegion>\n\t\t\t\t) }\n\t\t\t\t{ !! header && ! isDistractionFree && (\n\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\tclassName=\"interface-interface-skeleton__header\"\n\t\t\t\t\t\tariaLabel={ mergedLabels.header }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ header }\n\t\t\t\t\t</NavigableRegion>\n\t\t\t\t) }\n\t\t\t\t{ isDistractionFree && (\n\t\t\t\t\t<div className=\"interface-interface-skeleton__header\">\n\t\t\t\t\t\t{ editorNotices }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<div className=\"interface-interface-skeleton__body\">\n\t\t\t\t\t{ !! secondarySidebar && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__secondary-sidebar\"\n\t\t\t\t\t\t\tariaLabel={ mergedLabels.secondarySidebar }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ secondarySidebar }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! notices && (\n\t\t\t\t\t\t<div className=\"interface-interface-skeleton__notices\">\n\t\t\t\t\t\t\t{ notices }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\tclassName=\"interface-interface-skeleton__content\"\n\t\t\t\t\t\tariaLabel={ mergedLabels.body }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ content }\n\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t{ !! sidebar && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__sidebar\"\n\t\t\t\t\t\t\tariaLabel={ mergedLabels.sidebar }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ sidebar }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! actions && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__actions\"\n\t\t\t\t\t\t\tariaLabel={ mergedLabels.actions }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ actions }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ !! footer && (\n\t\t\t\t<NavigableRegion\n\t\t\t\t\tclassName=\"interface-interface-skeleton__footer\"\n\t\t\t\t\tariaLabel={ mergedLabels.footer }\n\t\t\t\t>\n\t\t\t\t\t{ footer }\n\t\t\t\t</NavigableRegion>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default forwardRef( InterfaceSkeleton );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst moreVertical = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\" />\n\t</SVG>\n);\n\nexport default moreVertical;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { DropdownMenu } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { moreVertical } from '@wordpress/icons';\n\nexport default function MoreMenuDropdown( {\n\tas: DropdownComponent = DropdownMenu,\n\tclassName,\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tlabel = __( 'Options' ),\n\tpopoverProps,\n\ttoggleProps,\n\tchildren,\n} ) {\n\treturn (\n\t\t<DropdownComponent\n\t\t\tclassName={ classnames(\n\t\t\t\t'interface-more-menu-dropdown',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\ticon={ moreVertical }\n\t\t\tlabel={ label }\n\t\t\tpopoverProps={ {\n\t\t\t\tposition: 'bottom left',\n\t\t\t\t...popoverProps,\n\t\t\t\tclassName: classnames(\n\t\t\t\t\t'interface-more-menu-dropdown__content',\n\t\t\t\t\tpopoverProps?.className\n\t\t\t\t),\n\t\t\t} }\n\t\t\ttoggleProps={ {\n\t\t\t\ttooltipPosition: 'bottom',\n\t\t\t\t...toggleProps,\n\t\t\t} }\n\t\t>\n\t\t\t{ ( onClose ) => children( onClose ) }\n\t\t</DropdownComponent>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nexport default function PreferencesModal( { closeModal, children } ) {\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"interface-preferences-modal\"\n\t\t\ttitle={ __( 'Preferences' ) }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ closeModal }\n\t\t>\n\t\t\t{ children }\n\t\t</Modal>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { cloneElement } from '@wordpress/element';\n\n/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */\n\n/**\n * Return an SVG icon.\n *\n * @param {IconProps} props icon is the SVG component to render\n *                          size is a number specifiying the icon size in pixels\n *                          Other props will be passed to wrapped SVG component\n *\n * @return {JSX.Element}  Icon component\n */\nfunction Icon( { icon, size = 24, ...props } ) {\n\treturn cloneElement( icon, {\n\t\twidth: size,\n\t\theight: size,\n\t\t...props,\n\t} );\n}\n\nexport default Icon;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z\" />\n\t</SVG>\n);\n\nexport default chevronLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronRight = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z\" />\n\t</SVG>\n);\n\nexport default chevronRight;\n","/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\t__experimentalNavigatorProvider as NavigatorProvider,\n\t__experimentalNavigatorScreen as NavigatorScreen,\n\t__experimentalNavigatorButton as NavigatorButton,\n\t__experimentalNavigatorBackButton as NavigatorBackButton,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalItem as Item,\n\t__experimentalHStack as HStack,\n\t__experimentalText as Text,\n\t__experimentalTruncate as Truncate,\n\tFlexItem,\n\tTabPanel,\n\tCard,\n\tCardHeader,\n\tCardBody,\n} from '@wordpress/components';\nimport { useMemo, useCallback, useState } from '@wordpress/element';\nimport { chevronLeft, chevronRight, Icon } from '@wordpress/icons';\nimport { isRTL, __ } from '@wordpress/i18n';\n\nconst PREFERENCES_MENU = 'preferences-menu';\n\nexport default function PreferencesModalTabs( { sections } ) {\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\n\t// This is also used to sync the two different rendered components\n\t// between small and large viewports.\n\tconst [ activeMenu, setActiveMenu ] = useState( PREFERENCES_MENU );\n\t/**\n\t * Create helper objects from `sections` for easier data handling.\n\t * `tabs` is used for creating the `TabPanel` and `sectionsContentMap`\n\t * is used for easier access to active tab's content.\n\t */\n\tconst { tabs, sectionsContentMap } = useMemo( () => {\n\t\tlet mappedTabs = {\n\t\t\ttabs: [],\n\t\t\tsectionsContentMap: {},\n\t\t};\n\t\tif ( sections.length ) {\n\t\t\tmappedTabs = sections.reduce(\n\t\t\t\t( accumulator, { name, tabLabel: title, content } ) => {\n\t\t\t\t\taccumulator.tabs.push( { name, title } );\n\t\t\t\t\taccumulator.sectionsContentMap[ name ] = content;\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{ tabs: [], sectionsContentMap: {} }\n\t\t\t);\n\t\t}\n\t\treturn mappedTabs;\n\t}, [ sections ] );\n\n\tconst getCurrentTab = useCallback(\n\t\t( tab ) => sectionsContentMap[ tab.name ] || null,\n\t\t[ sectionsContentMap ]\n\t);\n\n\tlet modalContent;\n\t// We render different components based on the viewport size.\n\tif ( isLargeViewport ) {\n\t\tmodalContent = (\n\t\t\t<TabPanel\n\t\t\t\tclassName=\"interface-preferences__tabs\"\n\t\t\t\ttabs={ tabs }\n\t\t\t\tinitialTabName={\n\t\t\t\t\tactiveMenu !== PREFERENCES_MENU ? activeMenu : undefined\n\t\t\t\t}\n\t\t\t\tonSelect={ setActiveMenu }\n\t\t\t\torientation=\"vertical\"\n\t\t\t>\n\t\t\t\t{ getCurrentTab }\n\t\t\t</TabPanel>\n\t\t);\n\t} else {\n\t\tmodalContent = (\n\t\t\t<NavigatorProvider\n\t\t\t\tinitialPath=\"/\"\n\t\t\t\tclassName=\"interface-preferences__provider\"\n\t\t\t>\n\t\t\t\t<NavigatorScreen path=\"/\">\n\t\t\t\t\t<Card isBorderless size=\"small\">\n\t\t\t\t\t\t<CardBody>\n\t\t\t\t\t\t\t<ItemGroup>\n\t\t\t\t\t\t\t\t{ tabs.map( ( tab ) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<NavigatorButton\n\t\t\t\t\t\t\t\t\t\t\tkey={ tab.name }\n\t\t\t\t\t\t\t\t\t\t\tpath={ tab.name }\n\t\t\t\t\t\t\t\t\t\t\tas={ Item }\n\t\t\t\t\t\t\t\t\t\t\tisAction\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Truncate>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ tab.title }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Truncate>\n\t\t\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisRTL()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? chevronLeft\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: chevronRight\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t\t\t\t</NavigatorButton>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t\t</CardBody>\n\t\t\t\t\t</Card>\n\t\t\t\t</NavigatorScreen>\n\t\t\t\t{ sections.length &&\n\t\t\t\t\tsections.map( ( section ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<NavigatorScreen\n\t\t\t\t\t\t\t\tkey={ `${ section.name }-menu` }\n\t\t\t\t\t\t\t\tpath={ section.name }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Card isBorderless size=\"large\">\n\t\t\t\t\t\t\t\t\t<CardHeader\n\t\t\t\t\t\t\t\t\t\tisBorderless={ false }\n\t\t\t\t\t\t\t\t\t\tjustify=\"left\"\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tgap=\"6\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<NavigatorBackButton\n\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\tisRTL()\n\t\t\t\t\t\t\t\t\t\t\t\t\t? chevronRight\n\t\t\t\t\t\t\t\t\t\t\t\t\t: chevronLeft\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Navigate to the previous view'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Text size=\"16\">\n\t\t\t\t\t\t\t\t\t\t\t{ section.tabLabel }\n\t\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t<CardBody>{ section.content }</CardBody>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</NavigatorScreen>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t</NavigatorProvider>\n\t\t);\n\t}\n\n\treturn modalContent;\n}\n","const Section = ( { description, title, children } ) => (\n\t<fieldset className=\"interface-preferences-modal__section\">\n\t\t<legend className=\"interface-preferences-modal__section-legend\">\n\t\t\t<h2 className=\"interface-preferences-modal__section-title\">\n\t\t\t\t{ title }\n\t\t\t</h2>\n\t\t\t{ description && (\n\t\t\t\t<p className=\"interface-preferences-modal__section-description\">\n\t\t\t\t\t{ description }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</legend>\n\t\t{ children }\n\t</fieldset>\n);\n\nexport default Section;\n","/**\n * WordPress dependencies\n */\nimport { ToggleControl } from '@wordpress/components';\n\nfunction BaseOption( { help, label, isChecked, onChange, children } ) {\n\treturn (\n\t\t<div className=\"interface-preferences-modal__option\">\n\t\t\t<ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\thelp={ help }\n\t\t\t\tlabel={ label }\n\t\t\t\tchecked={ isChecked }\n\t\t\t\tonChange={ onChange }\n\t\t\t/>\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default BaseOption;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"url\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"mediaUtils\"];","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { MediaUpload } from '@wordpress/media-utils';\n\naddFilter(\n\t'editor.MediaUpload',\n\t'core/edit-site/components/media-upload',\n\t() => MediaUpload\n);\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","/**\n * External dependencies\n */\nimport { createBrowserHistory } from 'history';\n\n/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\n\nconst history = createBrowserHistory();\n\nconst originalHistoryPush = history.push;\nconst originalHistoryReplace = history.replace;\n\nfunction push( params, state ) {\n\treturn originalHistoryPush.call(\n\t\thistory,\n\t\taddQueryArgs( window.location.href, params ),\n\t\tstate\n\t);\n}\n\nfunction replace( params, state ) {\n\treturn originalHistoryReplace.call(\n\t\thistory,\n\t\taddQueryArgs( window.location.href, params ),\n\t\tstate\n\t);\n}\n\nhistory.push = push;\nhistory.replace = replace;\n\nexport default history;\n","/**\n * WordPress dependencies\n */\nimport {\n\tcreateContext,\n\tuseState,\n\tuseEffect,\n\tuseContext,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport history from '../../utils/history';\n\nconst RoutesContext = createContext();\nconst HistoryContext = createContext();\n\nexport function useLocation() {\n\treturn useContext( RoutesContext );\n}\n\nexport function useHistory() {\n\treturn useContext( HistoryContext );\n}\n\nfunction getLocationWithParams( location ) {\n\tconst searchParams = new URLSearchParams( location.search );\n\treturn {\n\t\t...location,\n\t\tparams: Object.fromEntries( searchParams.entries() ),\n\t};\n}\n\nexport function Routes( { children } ) {\n\tconst [ location, setLocation ] = useState( () =>\n\t\tgetLocationWithParams( history.location )\n\t);\n\n\tuseEffect( () => {\n\t\treturn history.listen( ( { location: updatedLocation } ) => {\n\t\t\tsetLocation( getLocationWithParams( updatedLocation ) );\n\t\t} );\n\t}, [] );\n\n\treturn (\n\t\t<HistoryContext.Provider value={ history }>\n\t\t\t<RoutesContext.Provider value={ location }>\n\t\t\t\t{ children( location ) }\n\t\t\t</RoutesContext.Provider>\n\t\t</HistoryContext.Provider>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { useHistory } from './index';\n\nexport function useLink( params = {}, state, shouldReplace = false ) {\n\tconst history = useHistory();\n\n\tfunction onClick( event ) {\n\t\tevent.preventDefault();\n\n\t\tif ( shouldReplace ) {\n\t\t\thistory.replace( params, state );\n\t\t} else {\n\t\t\thistory.push( params, state );\n\t\t}\n\t}\n\n\treturn {\n\t\thref: addQueryArgs( window.location.href, params ),\n\t\tonClick,\n\t};\n}\n\nexport default function Link( {\n\tparams = {},\n\tstate,\n\treplace: shouldReplace = false,\n\tchildren,\n\t...props\n} ) {\n\tconst { href, onClick } = useLink( params, state, shouldReplace );\n\n\treturn (\n\t\t<a href={ href } onClick={ onClick } { ...props }>\n\t\t\t{ children }\n\t\t</a>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { BlockControls } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { ToolbarButton } from '@wordpress/components';\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { useLocation } from '../components/routes';\nimport { useLink } from '../components/routes/link';\n\nfunction EditTemplatePartMenuItem( { attributes } ) {\n\tconst { theme, slug } = attributes;\n\tconst { params } = useLocation();\n\tconst templatePart = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( coreStore ).getEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template_part',\n\t\t\t\t// Ideally this should be an official public API.\n\t\t\t\t`${ theme }//${ slug }`\n\t\t\t);\n\t\t},\n\t\t[ theme, slug ]\n\t);\n\n\tconst linkProps = useLink(\n\t\t{\n\t\t\tpostId: templatePart?.id,\n\t\t\tpostType: templatePart?.type,\n\t\t},\n\t\t{\n\t\t\tfromTemplateId: params.postId,\n\t\t}\n\t);\n\n\tif ( ! templatePart ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockControls group=\"other\">\n\t\t\t<ToolbarButton\n\t\t\t\t{ ...linkProps }\n\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\tlinkProps.onClick( event );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ __( 'Edit' ) }\n\t\t\t</ToolbarButton>\n\t\t</BlockControls>\n\t);\n}\n\nexport const withEditBlockControls = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst { attributes, name } = props;\n\t\tconst isDisplayed = name === 'core/template-part' && attributes.slug;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t{ isDisplayed && (\n\t\t\t\t\t<EditTemplatePartMenuItem attributes={ attributes } />\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t},\n\t'withEditBlockControls'\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/edit-site/template-part-edit-button',\n\twithEditBlockControls\n);\n","/**\n * The identifier for the data store.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/edit-site';\n\nexport const TEMPLATE_PART_AREA_HEADER = 'header';\nexport const TEMPLATE_PART_AREA_FOOTER = 'footer';\nexport const TEMPLATE_PART_AREA_SIDEBAR = 'sidebar';\nexport const TEMPLATE_PART_AREA_GENERAL = 'uncategorized';\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n\tTEMPLATE_PART_AREA_HEADER,\n\tTEMPLATE_PART_AREA_FOOTER,\n\tTEMPLATE_PART_AREA_SIDEBAR,\n\tTEMPLATE_PART_AREA_GENERAL,\n} from '../../../store/constants';\n\nexport const TEMPLATES_PRIMARY = [\n\t'index',\n\t'singular',\n\t'archive',\n\t'single',\n\t'page',\n\t'home',\n\t'404',\n\t'search',\n];\n\nexport const TEMPLATES_SECONDARY = [\n\t'author',\n\t'category',\n\t'taxonomy',\n\t'date',\n\t'tag',\n\t'attachment',\n\t'single',\n\t'front-page',\n];\n\nexport const TEMPLATES_TOP_LEVEL = [\n\t...TEMPLATES_PRIMARY,\n\t...TEMPLATES_SECONDARY,\n];\n\nexport const TEMPLATES_GENERAL = [ 'page-home' ];\n\nexport const TEMPLATES_POSTS_PREFIXES = [\n\t'post-',\n\t'author-',\n\t'single-',\n\t'tag-',\n];\n\nexport const TEMPLATES_PAGES_PREFIXES = [ 'page-' ];\n\nexport const TEMPLATE_OVERRIDES = {\n\tsingular: [ 'single', 'page' ],\n\tindex: [ 'archive', '404', 'search', 'singular', 'home' ],\n\thome: [ 'front-page' ],\n};\n\nexport const MENU_ROOT = 'root';\nexport const MENU_TEMPLATE_PARTS = 'template-parts';\nexport const MENU_TEMPLATES = 'templates';\nexport const MENU_TEMPLATES_GENERAL = 'templates-general';\nexport const MENU_TEMPLATES_PAGES = 'templates-pages';\nexport const MENU_TEMPLATES_POSTS = 'templates-posts';\nexport const MENU_TEMPLATES_UNUSED = 'templates-unused';\n\nexport const MENU_TEMPLATE_PARTS_HEADERS = 'template-parts-headers';\nexport const MENU_TEMPLATE_PARTS_FOOTERS = 'template-parts-footers';\nexport const MENU_TEMPLATE_PARTS_SIDEBARS = 'template-parts-sidebars';\nexport const MENU_TEMPLATE_PARTS_GENERAL = 'template-parts-general';\n\nexport const TEMPLATE_PARTS_SUB_MENUS = [\n\t{\n\t\tarea: TEMPLATE_PART_AREA_HEADER,\n\t\tmenu: MENU_TEMPLATE_PARTS_HEADERS,\n\t\ttitle: __( 'headers' ),\n\t},\n\t{\n\t\tarea: TEMPLATE_PART_AREA_FOOTER,\n\t\tmenu: MENU_TEMPLATE_PARTS_FOOTERS,\n\t\ttitle: __( 'footers' ),\n\t},\n\t{\n\t\tarea: TEMPLATE_PART_AREA_SIDEBAR,\n\t\tmenu: MENU_TEMPLATE_PARTS_SIDEBARS,\n\t\ttitle: __( 'sidebars' ),\n\t},\n\t{\n\t\tarea: TEMPLATE_PART_AREA_GENERAL,\n\t\tmenu: MENU_TEMPLATE_PARTS_GENERAL,\n\t\ttitle: __( 'general' ),\n\t},\n];\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { MENU_ROOT } from '../components/navigation-sidebar/navigation-panel/constants';\n\n/**\n * Reducer returning the editing canvas device type.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function deviceType( state = 'Desktop', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_PREVIEW_DEVICE_TYPE':\n\t\t\treturn action.deviceType;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the settings.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function settings( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_SETTINGS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.settings,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer keeping track of the currently edited Post Type,\n * Post Id and the context provided to fill the content of the block editor.\n *\n * @param {Object} state  Current edited post.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function editedPost( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_TEMPLATE':\n\t\tcase 'SET_PAGE':\n\t\t\treturn {\n\t\t\t\ttype: 'wp_template',\n\t\t\t\tid: action.templateId,\n\t\t\t\tpage: action.page,\n\t\t\t};\n\t\tcase 'SET_TEMPLATE_PART':\n\t\t\treturn {\n\t\t\t\ttype: 'wp_template_part',\n\t\t\t\tid: action.templatePartId,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer for information about the site's homepage.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function homeTemplateId( state, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_HOME_TEMPLATE':\n\t\t\treturn action.homeTemplateId;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer for information about the navigation panel, such as its active menu\n * and whether it should be opened or closed.\n *\n * Note: this reducer interacts with the inserter and list view panels reducers\n * to make sure that only one of the three panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function navigationPanel(\n\tstate = { menu: MENU_ROOT, isOpen: false },\n\taction\n) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_NAVIGATION_PANEL_ACTIVE_MENU':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmenu: action.menu,\n\t\t\t};\n\t\tcase 'OPEN_NAVIGATION_PANEL_TO_MENU':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpen: true,\n\t\t\t\tmenu: action.menu,\n\t\t\t};\n\t\tcase 'SET_IS_NAVIGATION_PANEL_OPENED':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmenu: ! action.isOpen ? MENU_ROOT : state.menu, // Set menu to root when closing panel.\n\t\t\t\tisOpen: action.isOpen,\n\t\t\t};\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmenu: state.isOpen && action.isOpen ? MENU_ROOT : state.menu, // Set menu to root when closing panel.\n\t\t\t\tisOpen: action.isOpen ? false : state.isOpen,\n\t\t\t};\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmenu: state.isOpen && action.value ? MENU_ROOT : state.menu, // Set menu to root when closing panel.\n\t\t\t\tisOpen: action.value ? false : state.isOpen,\n\t\t\t};\n\t}\n\treturn state;\n}\n\n/**\n * Reducer to set the block inserter panel open or closed.\n *\n * Note: this reducer interacts with the navigation and list view panels reducers\n * to make sure that only one of the three panels is open at the same time.\n *\n * @param {boolean|Object} state  Current state.\n * @param {Object}         action Dispatched action.\n */\nexport function blockInserterPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_NAVIGATION_PANEL_TO_MENU':\n\t\t\treturn false;\n\t\tcase 'SET_IS_NAVIGATION_PANEL_OPENED':\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen ? false : state;\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer to set the list view panel open or closed.\n *\n * Note: this reducer interacts with the navigation and inserter panels reducers\n * to make sure that only one of the three panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function listViewPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_NAVIGATION_PANEL_TO_MENU':\n\t\t\treturn false;\n\t\tcase 'SET_IS_NAVIGATION_PANEL_OPENED':\n\t\t\treturn action.isOpen ? false : state;\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value ? false : state;\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer to set the save view panel open or closed.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function saveViewPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_NAVIGATION_PANEL_TO_MENU':\n\t\t\treturn false;\n\t\tcase 'SET_IS_NAVIGATION_PANEL_OPENED':\n\t\t\treturn action.isOpen ? false : state;\n\t\tcase 'SET_IS_SAVE_VIEW_OPENED':\n\t\t\treturn action.isOpen;\n\t}\n\treturn state;\n}\n\nexport default combineReducers( {\n\tdeviceType,\n\tsettings,\n\teditedPost,\n\thomeTemplateId,\n\tnavigationPanel,\n\tblockInserterPanel,\n\tlistViewPanel,\n\tsaveViewPanel,\n} );\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"notices\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"a11y\"];","/**\n * Check if a template is revertable to its original theme-provided template file.\n *\n * @param {Object} template The template entity to check.\n * @return {boolean} Whether the template is revertable.\n */\nexport default function isTemplateRevertable( template ) {\n\tif ( ! template ) {\n\t\treturn false;\n\t}\n\t/* eslint-disable camelcase */\n\treturn template?.source === 'custom' && template?.has_theme_file;\n\t/* eslint-enable camelcase */\n}\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { parse, __unstableSerializeAndClean } from '@wordpress/blocks';\nimport deprecated from '@wordpress/deprecated';\nimport { addQueryArgs, getPathAndQueryString } from '@wordpress/url';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { speak } from '@wordpress/a11y';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as editSiteStoreName } from './constants';\nimport isTemplateRevertable from '../utils/is-template-revertable';\n\n/**\n * Dispatches an action that toggles a feature flag.\n *\n * @param {string} featureName Feature name.\n */\nexport function toggleFeature( featureName ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( \"select( 'core/edit-site' ).toggleFeature( featureName )\", {\n\t\t\tsince: '6.0',\n\t\t\talternative:\n\t\t\t\t\"select( 'core/preferences').toggle( 'core/edit-site', featureName )\",\n\t\t} );\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.toggle( 'core/edit-site', featureName );\n\t};\n}\n\n/**\n * Action that changes the width of the editing canvas.\n *\n * @param {string} deviceType\n *\n * @return {Object} Action object.\n */\nexport function __experimentalSetPreviewDeviceType( deviceType ) {\n\treturn {\n\t\ttype: 'SET_PREVIEW_DEVICE_TYPE',\n\t\tdeviceType,\n\t};\n}\n\n/**\n * Action that sets a template, optionally fetching it from REST API.\n *\n * @param {number} templateId   The template ID.\n * @param {string} templateSlug The template slug.\n * @return {Object} Action object.\n */\nexport const setTemplate =\n\t( templateId, templateSlug ) =>\n\tasync ( { dispatch, registry } ) => {\n\t\tif ( ! templateSlug ) {\n\t\t\tconst template = await registry\n\t\t\t\t.resolveSelect( coreStore )\n\t\t\t\t.getEntityRecord( 'postType', 'wp_template', templateId );\n\t\t\ttemplateSlug = template?.slug;\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'SET_TEMPLATE',\n\t\t\ttemplateId,\n\t\t\tpage: { context: { templateSlug } },\n\t\t} );\n\t};\n\n/**\n * Action that adds a new template and sets it as the current template.\n *\n * @param {Object} template The template.\n *\n * @return {Object} Action object used to set the current template.\n */\nexport const addTemplate =\n\t( template ) =>\n\tasync ( { dispatch, registry } ) => {\n\t\tconst newTemplate = await registry\n\t\t\t.dispatch( coreStore )\n\t\t\t.saveEntityRecord( 'postType', 'wp_template', template );\n\n\t\tif ( template.content ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( coreStore )\n\t\t\t\t.editEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_template',\n\t\t\t\t\tnewTemplate.id,\n\t\t\t\t\t{ blocks: parse( template.content ) },\n\t\t\t\t\t{ undoIgnore: true }\n\t\t\t\t);\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'SET_TEMPLATE',\n\t\t\ttemplateId: newTemplate.id,\n\t\t\tpage: { context: { templateSlug: newTemplate.slug } },\n\t\t} );\n\t};\n\n/**\n * Action that removes a template.\n *\n * @param {Object} template The template object.\n */\nexport const removeTemplate =\n\t( template ) =>\n\tasync ( { registry } ) => {\n\t\ttry {\n\t\t\tawait registry\n\t\t\t\t.dispatch( coreStore )\n\t\t\t\t.deleteEntityRecord( 'postType', template.type, template.id, {\n\t\t\t\t\tforce: true,\n\t\t\t\t} );\n\n\t\t\tconst lastError = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getLastEntityDeleteError(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\ttemplate.id\n\t\t\t\t);\n\n\t\t\tif ( lastError ) {\n\t\t\t\tthrow lastError;\n\t\t\t}\n\n\t\t\tregistry.dispatch( noticesStore ).createSuccessNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: The template/part's name. */\n\t\t\t\t\t__( '\"%s\" deleted.' ),\n\t\t\t\t\ttemplate.title.rendered\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar' }\n\t\t\t);\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while deleting the template.' );\n\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t};\n\n/**\n * Action that sets a template part.\n *\n * @param {string} templatePartId The template part ID.\n *\n * @return {Object} Action object.\n */\nexport function setTemplatePart( templatePartId ) {\n\treturn {\n\t\ttype: 'SET_TEMPLATE_PART',\n\t\ttemplatePartId,\n\t};\n}\n\n/**\n * Action that sets the home template ID to the template ID of the page resolved\n * from a given path.\n *\n * @param {number} homeTemplateId The template ID for the homepage.\n */\nexport function setHomeTemplateId( homeTemplateId ) {\n\treturn {\n\t\ttype: 'SET_HOME_TEMPLATE',\n\t\thomeTemplateId,\n\t};\n}\n\n/**\n * Resolves the template for a page and displays both. If no path is given, attempts\n * to use the postId to generate a path like `?p=${ postId }`.\n *\n * @param {Object} page         The page object.\n * @param {string} page.type    The page type.\n * @param {string} page.slug    The page slug.\n * @param {string} page.path    The page path.\n * @param {Object} page.context The page context.\n *\n * @return {number} The resolved template ID for the page route.\n */\nexport const setPage =\n\t( page ) =>\n\tasync ( { dispatch, registry } ) => {\n\t\tif ( ! page.path && page.context?.postId ) {\n\t\t\tconst entity = await registry\n\t\t\t\t.resolveSelect( coreStore )\n\t\t\t\t.getEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpage.context.postType || 'post',\n\t\t\t\t\tpage.context.postId\n\t\t\t\t);\n\t\t\t// If the entity is undefined for some reason, path will resolve to \"/\"\n\t\t\tpage.path = getPathAndQueryString( entity?.link );\n\t\t}\n\n\t\tconst template = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.__experimentalGetTemplateForLink( page.path );\n\n\t\tif ( ! template ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'SET_PAGE',\n\t\t\tpage: template.slug\n\t\t\t\t? {\n\t\t\t\t\t\t...page,\n\t\t\t\t\t\tcontext: {\n\t\t\t\t\t\t\t...page.context,\n\t\t\t\t\t\t\ttemplateSlug: template.slug,\n\t\t\t\t\t\t},\n\t\t\t\t  }\n\t\t\t\t: page,\n\t\t\ttemplateId: template.id,\n\t\t} );\n\n\t\treturn template.id;\n\t};\n\n/**\n * Action that sets the active navigation panel menu.\n *\n * @param {string} menu Menu prop of active menu.\n *\n * @return {Object} Action object.\n */\nexport function setNavigationPanelActiveMenu( menu ) {\n\treturn {\n\t\ttype: 'SET_NAVIGATION_PANEL_ACTIVE_MENU',\n\t\tmenu,\n\t};\n}\n\n/**\n * Opens the navigation panel and sets its active menu at the same time.\n *\n * @param {string} menu Identifies the menu to open.\n */\nexport function openNavigationPanelToMenu( menu ) {\n\treturn {\n\t\ttype: 'OPEN_NAVIGATION_PANEL_TO_MENU',\n\t\tmenu,\n\t};\n}\n\n/**\n * Sets whether the navigation panel should be open.\n *\n * @param {boolean} isOpen If true, opens the nav panel. If false, closes it. It\n *                         does not toggle the state, but sets it directly.\n */\nexport function setIsNavigationPanelOpened( isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_NAVIGATION_PANEL_OPENED',\n\t\tisOpen,\n\t};\n}\n\n/**\n * Opens or closes the inserter.\n *\n * @param {boolean|Object} value                Whether the inserter should be\n *                                              opened (true) or closed (false).\n *                                              To specify an insertion point,\n *                                              use an object.\n * @param {string}         value.rootClientId   The root client ID to insert at.\n * @param {number}         value.insertionIndex The index to insert at.\n *\n * @return {Object} Action object.\n */\nexport function setIsInserterOpened( value ) {\n\treturn {\n\t\ttype: 'SET_IS_INSERTER_OPENED',\n\t\tvalue,\n\t};\n}\n\n/**\n * Returns an action object used to update the settings.\n *\n * @param {Object} settings New settings.\n *\n * @return {Object} Action object.\n */\nexport function updateSettings( settings ) {\n\treturn {\n\t\ttype: 'UPDATE_SETTINGS',\n\t\tsettings,\n\t};\n}\n\n/**\n * Sets whether the list view panel should be open.\n *\n * @param {boolean} isOpen If true, opens the list view. If false, closes it.\n *                         It does not toggle the state, but sets it directly.\n */\nexport function setIsListViewOpened( isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_LIST_VIEW_OPENED',\n\t\tisOpen,\n\t};\n}\n\n/**\n * Sets whether the save view panel should be open.\n *\n * @param {boolean} isOpen If true, opens the save view. If false, closes it.\n *                         It does not toggle the state, but sets it directly.\n */\nexport function setIsSaveViewOpened( isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_SAVE_VIEW_OPENED',\n\t\tisOpen,\n\t};\n}\n\n/**\n * Reverts a template to its original theme-provided file.\n *\n * @param {Object}  template            The template to revert.\n * @param {Object}  [options]\n * @param {boolean} [options.allowUndo] Whether to allow the user to undo\n *                                      reverting the template. Default true.\n */\nexport const revertTemplate =\n\t( template, { allowUndo = true } = {} ) =>\n\tasync ( { registry } ) => {\n\t\tif ( ! isTemplateRevertable( template ) ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice( __( 'This template is not revertable.' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst templateEntityConfig = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getEntityConfig( 'postType', template.type );\n\n\t\t\tif ( ! templateEntityConfig ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createErrorNotice(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{ type: 'snackbar' }\n\t\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst fileTemplatePath = addQueryArgs(\n\t\t\t\t`${ templateEntityConfig.baseURL }/${ template.id }`,\n\t\t\t\t{ context: 'edit', source: 'theme' }\n\t\t\t);\n\n\t\t\tconst fileTemplate = await apiFetch( { path: fileTemplatePath } );\n\t\t\tif ( ! fileTemplate ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createErrorNotice(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{ type: 'snackbar' }\n\t\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst serializeBlocks = ( {\n\t\t\t\tblocks: blocksForSerialization = [],\n\t\t\t} ) => __unstableSerializeAndClean( blocksForSerialization );\n\n\t\t\tconst edited = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getEditedEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\ttemplate.id\n\t\t\t\t);\n\n\t\t\t// We are fixing up the undo level here to make sure we can undo\n\t\t\t// the revert in the header toolbar correctly.\n\t\t\tregistry.dispatch( coreStore ).editEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\ttemplate.type,\n\t\t\t\ttemplate.id,\n\t\t\t\t{\n\t\t\t\t\tcontent: serializeBlocks, // Required to make the `undo` behave correctly.\n\t\t\t\t\tblocks: edited.blocks, // Required to revert the blocks in the editor.\n\t\t\t\t\tsource: 'custom', // required to avoid turning the editor into a dirty state\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tundoIgnore: true, // Required to merge this edit with the last undo level.\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst blocks = parse( fileTemplate?.content?.raw );\n\t\t\tregistry\n\t\t\t\t.dispatch( coreStore )\n\t\t\t\t.editEntityRecord( 'postType', template.type, fileTemplate.id, {\n\t\t\t\t\tcontent: serializeBlocks,\n\t\t\t\t\tblocks,\n\t\t\t\t\tsource: 'theme',\n\t\t\t\t} );\n\n\t\t\tif ( allowUndo ) {\n\t\t\t\tconst undoRevert = () => {\n\t\t\t\t\tregistry\n\t\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t\t.editEntityRecord(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\ttemplate.type,\n\t\t\t\t\t\t\tedited.id,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontent: serializeBlocks,\n\t\t\t\t\t\t\t\tblocks: edited.blocks,\n\t\t\t\t\t\t\t\tsource: 'custom',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createSuccessNotice( __( 'Template reverted.' ), {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\t\tonClick: undoRevert,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createSuccessNotice( __( 'Template reverted.' ) );\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'Template revert failed. Please reload.' );\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t};\n/**\n * Action that opens an editor sidebar.\n *\n * @param {?string} name Sidebar name to be opened.\n */\nexport const openGeneralSidebar =\n\t( name ) =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( interfaceStore )\n\t\t\t.enableComplementaryArea( editSiteStoreName, name );\n\t};\n\n/**\n * Action that closes the sidebar.\n */\nexport const closeGeneralSidebar =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( interfaceStore )\n\t\t\t.disableComplementaryArea( editSiteStoreName );\n\t};\n\nexport const switchEditorMode =\n\t( mode ) =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( 'core/preferences' )\n\t\t\t.set( 'core/edit-site', 'editorMode', mode );\n\n\t\t// Unselect blocks when we switch to a non visual mode.\n\t\tif ( mode !== 'visual' ) {\n\t\t\tregistry.dispatch( blockEditorStore ).clearSelectedBlock();\n\t\t}\n\n\t\tif ( mode === 'visual' ) {\n\t\t\tspeak( __( 'Visual editor selected' ), 'assertive' );\n\t\t} else if ( mode === 'mosaic' ) {\n\t\t\tspeak( __( 'Mosaic view selected' ), 'assertive' );\n\t\t}\n\t};\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"lodash\"];","'use strict';\n\n/** @typedef {(...args: any[]) => *[]} GetDependants */\n\n/** @typedef {() => void} Clear */\n\n/**\n * @typedef {{\n *   getDependants: GetDependants,\n *   clear: Clear\n * }} EnhancedSelector\n */\n\n/**\n * Internal cache entry.\n *\n * @typedef CacheNode\n *\n * @property {?CacheNode|undefined} [prev] Previous node.\n * @property {?CacheNode|undefined} [next] Next node.\n * @property {*[]} args Function arguments for cache entry.\n * @property {*} val Function result.\n */\n\n/**\n * @typedef Cache\n *\n * @property {Clear} clear Function to clear cache.\n * @property {boolean} [isUniqueByDependants] Whether dependants are valid in\n * considering cache uniqueness. A cache is unique if dependents are all arrays\n * or objects.\n * @property {CacheNode?} [head] Cache head.\n * @property {*[]} [lastDependants] Dependants from previous invocation.\n */\n\n/**\n * Arbitrary value used as key for referencing cache object in WeakMap tree.\n *\n * @type {{}}\n */\nvar LEAF_KEY = {};\n\n/**\n * Returns the first argument as the sole entry in an array.\n *\n * @template T\n *\n * @param {T} value Value to return.\n *\n * @return {[T]} Value returned as entry in array.\n */\nfunction arrayOf(value) {\n\treturn [value];\n}\n\n/**\n * Returns true if the value passed is object-like, or false otherwise. A value\n * is object-like if it can support property assignment, e.g. object or array.\n *\n * @param {*} value Value to test.\n *\n * @return {boolean} Whether value is object-like.\n */\nfunction isObjectLike(value) {\n\treturn !!value && 'object' === typeof value;\n}\n\n/**\n * Creates and returns a new cache object.\n *\n * @return {Cache} Cache object.\n */\nfunction createCache() {\n\t/** @type {Cache} */\n\tvar cache = {\n\t\tclear: function () {\n\t\t\tcache.head = null;\n\t\t},\n\t};\n\n\treturn cache;\n}\n\n/**\n * Returns true if entries within the two arrays are strictly equal by\n * reference from a starting index.\n *\n * @param {*[]} a First array.\n * @param {*[]} b Second array.\n * @param {number} fromIndex Index from which to start comparison.\n *\n * @return {boolean} Whether arrays are shallowly equal.\n */\nfunction isShallowEqual(a, b, fromIndex) {\n\tvar i;\n\n\tif (a.length !== b.length) {\n\t\treturn false;\n\t}\n\n\tfor (i = fromIndex; i < a.length; i++) {\n\t\tif (a[i] !== b[i]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns a memoized selector function. The getDependants function argument is\n * called before the memoized selector and is expected to return an immutable\n * reference or array of references on which the selector depends for computing\n * its own return value. The memoize cache is preserved only as long as those\n * dependant references remain the same. If getDependants returns a different\n * reference(s), the cache is cleared and the selector value regenerated.\n *\n * @template {(...args: *[]) => *} S\n *\n * @param {S} selector Selector function.\n * @param {GetDependants=} getDependants Dependant getter returning an array of\n * references used in cache bust consideration.\n */\nexport default function (selector, getDependants) {\n\t/** @type {WeakMap<*,*>} */\n\tvar rootCache;\n\n\t/** @type {GetDependants} */\n\tvar normalizedGetDependants = getDependants ? getDependants : arrayOf;\n\n\t/**\n\t * Returns the cache for a given dependants array. When possible, a WeakMap\n\t * will be used to create a unique cache for each set of dependants. This\n\t * is feasible due to the nature of WeakMap in allowing garbage collection\n\t * to occur on entries where the key object is no longer referenced. Since\n\t * WeakMap requires the key to be an object, this is only possible when the\n\t * dependant is object-like. The root cache is created as a hierarchy where\n\t * each top-level key is the first entry in a dependants set, the value a\n\t * WeakMap where each key is the next dependant, and so on. This continues\n\t * so long as the dependants are object-like. If no dependants are object-\n\t * like, then the cache is shared across all invocations.\n\t *\n\t * @see isObjectLike\n\t *\n\t * @param {*[]} dependants Selector dependants.\n\t *\n\t * @return {Cache} Cache object.\n\t */\n\tfunction getCache(dependants) {\n\t\tvar caches = rootCache,\n\t\t\tisUniqueByDependants = true,\n\t\t\ti,\n\t\t\tdependant,\n\t\t\tmap,\n\t\t\tcache;\n\n\t\tfor (i = 0; i < dependants.length; i++) {\n\t\t\tdependant = dependants[i];\n\n\t\t\t// Can only compose WeakMap from object-like key.\n\t\t\tif (!isObjectLike(dependant)) {\n\t\t\t\tisUniqueByDependants = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Does current segment of cache already have a WeakMap?\n\t\t\tif (caches.has(dependant)) {\n\t\t\t\t// Traverse into nested WeakMap.\n\t\t\t\tcaches = caches.get(dependant);\n\t\t\t} else {\n\t\t\t\t// Create, set, and traverse into a new one.\n\t\t\t\tmap = new WeakMap();\n\t\t\t\tcaches.set(dependant, map);\n\t\t\t\tcaches = map;\n\t\t\t}\n\t\t}\n\n\t\t// We use an arbitrary (but consistent) object as key for the last item\n\t\t// in the WeakMap to serve as our running cache.\n\t\tif (!caches.has(LEAF_KEY)) {\n\t\t\tcache = createCache();\n\t\t\tcache.isUniqueByDependants = isUniqueByDependants;\n\t\t\tcaches.set(LEAF_KEY, cache);\n\t\t}\n\n\t\treturn caches.get(LEAF_KEY);\n\t}\n\n\t/**\n\t * Resets root memoization cache.\n\t */\n\tfunction clear() {\n\t\trootCache = new WeakMap();\n\t}\n\n\t/* eslint-disable jsdoc/check-param-names */\n\t/**\n\t * The augmented selector call, considering first whether dependants have\n\t * changed before passing it to underlying memoize function.\n\t *\n\t * @param {*}    source    Source object for derivation.\n\t * @param {...*} extraArgs Additional arguments to pass to selector.\n\t *\n\t * @return {*} Selector result.\n\t */\n\t/* eslint-enable jsdoc/check-param-names */\n\tfunction callSelector(/* source, ...extraArgs */) {\n\t\tvar len = arguments.length,\n\t\t\tcache,\n\t\t\tnode,\n\t\t\ti,\n\t\t\targs,\n\t\t\tdependants;\n\n\t\t// Create copy of arguments (avoid leaking deoptimization).\n\t\targs = new Array(len);\n\t\tfor (i = 0; i < len; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\n\t\tdependants = normalizedGetDependants.apply(null, args);\n\t\tcache = getCache(dependants);\n\n\t\t// If not guaranteed uniqueness by dependants (primitive type), shallow\n\t\t// compare against last dependants and, if references have changed,\n\t\t// destroy cache to recalculate result.\n\t\tif (!cache.isUniqueByDependants) {\n\t\t\tif (\n\t\t\t\tcache.lastDependants &&\n\t\t\t\t!isShallowEqual(dependants, cache.lastDependants, 0)\n\t\t\t) {\n\t\t\t\tcache.clear();\n\t\t\t}\n\n\t\t\tcache.lastDependants = dependants;\n\t\t}\n\n\t\tnode = cache.head;\n\t\twhile (node) {\n\t\t\t// Check whether node arguments match arguments\n\t\t\tif (!isShallowEqual(node.args, args, 1)) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif (node !== cache.head) {\n\t\t\t\t// Adjust siblings to point to each other.\n\t\t\t\t/** @type {CacheNode} */ (node.prev).next = node.next;\n\t\t\t\tif (node.next) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = cache.head;\n\t\t\t\tnode.prev = null;\n\t\t\t\t/** @type {CacheNode} */ (cache.head).prev = node;\n\t\t\t\tcache.head = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\tnode = /** @type {CacheNode} */ ({\n\t\t\t// Generate the result from original function\n\t\t\tval: selector.apply(null, args),\n\t\t});\n\n\t\t// Avoid including the source object in the cache.\n\t\targs[0] = null;\n\t\tnode.args = args;\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif (cache.head) {\n\t\t\tcache.head.prev = node;\n\t\t\tnode.next = cache.head;\n\t\t}\n\n\t\tcache.head = node;\n\n\t\treturn node.val;\n\t}\n\n\tcallSelector.getDependants = normalizedGetDependants;\n\tcallSelector.clear = clear;\n\tclear();\n\n\treturn /** @type {S & EnhancedSelector} */ (callSelector);\n}\n","/**\n * External dependencies\n */\nimport { map } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport {\n\tMENU_TEMPLATES,\n\tMENU_TEMPLATES_GENERAL,\n\tMENU_TEMPLATES_PAGES,\n\tMENU_TEMPLATES_POSTS,\n\tTEMPLATE_OVERRIDES,\n\tTEMPLATES_GENERAL,\n\tTEMPLATES_PAGES_PREFIXES,\n\tTEMPLATES_POSTS_PREFIXES,\n\tTEMPLATES_TOP_LEVEL,\n} from './constants';\n\nexport function isTemplateSuperseded( slug, existingSlugs, showOnFront ) {\n\tif ( ! TEMPLATE_OVERRIDES[ slug ] ) {\n\t\treturn false;\n\t}\n\n\t// `home` template is unused if it is superseded by `front-page`\n\t// or \"show on front\" is set to show a page rather than blog posts.\n\tif ( slug === 'home' && showOnFront !== 'posts' ) {\n\t\treturn true;\n\t}\n\n\treturn TEMPLATE_OVERRIDES[ slug ].every(\n\t\t( overrideSlug ) =>\n\t\t\texistingSlugs.includes( overrideSlug ) ||\n\t\t\tisTemplateSuperseded( overrideSlug, existingSlugs, showOnFront )\n\t);\n}\n\nexport function getTemplateLocation( slug ) {\n\tconst isTopLevelTemplate = TEMPLATES_TOP_LEVEL.includes( slug );\n\tif ( isTopLevelTemplate ) {\n\t\treturn MENU_TEMPLATES;\n\t}\n\n\tconst isGeneralTemplate = TEMPLATES_GENERAL.includes( slug );\n\tif ( isGeneralTemplate ) {\n\t\treturn MENU_TEMPLATES_GENERAL;\n\t}\n\n\tconst isPostsTemplate = TEMPLATES_POSTS_PREFIXES.some( ( prefix ) =>\n\t\tslug.startsWith( prefix )\n\t);\n\tif ( isPostsTemplate ) {\n\t\treturn MENU_TEMPLATES_POSTS;\n\t}\n\n\tconst isPagesTemplate = TEMPLATES_PAGES_PREFIXES.some( ( prefix ) =>\n\t\tslug.startsWith( prefix )\n\t);\n\tif ( isPagesTemplate ) {\n\t\treturn MENU_TEMPLATES_PAGES;\n\t}\n\n\treturn MENU_TEMPLATES_GENERAL;\n}\n\nexport function getUnusedTemplates( templates, showOnFront ) {\n\tconst templateSlugs = map( templates, 'slug' );\n\tconst supersededTemplates = templates.filter( ( { slug } ) =>\n\t\tisTemplateSuperseded( slug, templateSlugs, showOnFront )\n\t);\n\n\treturn supersededTemplates;\n}\n\nexport function getTemplatesLocationMap( templates ) {\n\treturn templates.reduce( ( obj, template ) => {\n\t\tobj[ template.slug ] = getTemplateLocation( template.slug );\n\t\treturn obj;\n\t}, {} );\n}\n","/**\n * External dependencies\n */\nimport { map } from 'lodash';\nimport createSelector from 'rememo';\n\n/**\n * WordPress dependencies\n */\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { createRegistrySelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { uploadMedia } from '@wordpress/media-utils';\nimport { isTemplatePart } from '@wordpress/blocks';\nimport { Platform } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport {\n\tMENU_ROOT,\n\tMENU_TEMPLATE_PARTS,\n\tMENU_TEMPLATES_UNUSED,\n\tTEMPLATE_PARTS_SUB_MENUS,\n} from '../components/navigation-sidebar/navigation-panel/constants';\nimport {\n\tgetTemplateLocation,\n\tisTemplateSuperseded,\n} from '../components/navigation-sidebar/navigation-panel/template-hierarchy';\n\n/**\n * @typedef {'template'|'template_type'} TemplateType Template type.\n */\n\n/**\n * Helper for getting a preference from the preferences store.\n *\n * This is only present so that `getSettings` doesn't need to be made a\n * registry selector.\n *\n * It's unstable because the selector needs to be exported and so part of the\n * public API to work.\n */\nexport const __unstableGetPreference = createRegistrySelector(\n\t( select ) => ( state, name ) =>\n\t\tselect( preferencesStore ).get( 'core/edit-site', name )\n);\n\n/**\n * Returns whether the given feature is enabled or not.\n *\n * @param {Object} state       Global application state.\n * @param {string} featureName Feature slug.\n *\n * @return {boolean} Is active.\n */\nexport function isFeatureActive( state, featureName ) {\n\tdeprecated( `select( 'core/interface' ).isFeatureActive`, {\n\t\tsince: '6.0',\n\t\talternative: `select( 'core/preferences' ).get`,\n\t} );\n\n\treturn !! __unstableGetPreference( state, featureName );\n}\n\n/**\n * Returns the current editing canvas device type.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Device type.\n */\nexport function __experimentalGetPreviewDeviceType( state ) {\n\treturn state.deviceType;\n}\n\n/**\n * Returns whether the current user can create media or not.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Whether the current user can create media or not.\n */\nexport const getCanUserCreateMedia = createRegistrySelector(\n\t( select ) => () => select( coreDataStore ).canUser( 'create', 'media' )\n);\n\n/**\n * Returns any available Reusable blocks.\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} The available reusable blocks.\n */\nexport const getReusableBlocks = createRegistrySelector( ( select ) => () => {\n\tconst isWeb = Platform.OS === 'web';\n\treturn isWeb\n\t\t? select( coreDataStore ).getEntityRecords( 'postType', 'wp_block', {\n\t\t\t\tper_page: -1,\n\t\t  } )\n\t\t: [];\n} );\n\n/**\n * Returns the settings, taking into account active features and permissions.\n *\n * @param {Object}   state             Global application state.\n * @param {Function} setIsInserterOpen Setter for the open state of the global inserter.\n *\n * @return {Object} Settings.\n */\nexport const getSettings = createSelector(\n\t( state, setIsInserterOpen ) => {\n\t\tconst settings = {\n\t\t\t...state.settings,\n\t\t\toutlineMode: true,\n\t\t\tfocusMode: !! __unstableGetPreference( state, 'focusMode' ),\n\t\t\thasFixedToolbar: !! __unstableGetPreference(\n\t\t\t\tstate,\n\t\t\t\t'fixedToolbar'\n\t\t\t),\n\t\t\tkeepCaretInsideBlock: !! __unstableGetPreference(\n\t\t\t\tstate,\n\t\t\t\t'keepCaretInsideBlock'\n\t\t\t),\n\t\t\tshowIconLabels: !! __unstableGetPreference(\n\t\t\t\tstate,\n\t\t\t\t'showIconLabels'\n\t\t\t),\n\t\t\t__experimentalSetIsInserterOpened: setIsInserterOpen,\n\t\t\t__experimentalReusableBlocks: getReusableBlocks( state ),\n\t\t\t__experimentalPreferPatternsOnRoot:\n\t\t\t\t'wp_template' === getEditedPostType( state ),\n\t\t};\n\n\t\tconst canUserCreateMedia = getCanUserCreateMedia( state );\n\t\tif ( ! canUserCreateMedia ) {\n\t\t\treturn settings;\n\t\t}\n\n\t\tsettings.mediaUpload = ( { onError, ...rest } ) => {\n\t\t\tuploadMedia( {\n\t\t\t\twpAllowedMimeTypes: state.settings.allowedMimeTypes,\n\t\t\t\tonError: ( { message } ) => onError( message ),\n\t\t\t\t...rest,\n\t\t\t} );\n\t\t};\n\t\treturn settings;\n\t},\n\t( state ) => [\n\t\tgetCanUserCreateMedia( state ),\n\t\tstate.settings,\n\t\t__unstableGetPreference( state, 'focusMode' ),\n\t\t__unstableGetPreference( state, 'fixedToolbar' ),\n\t\t__unstableGetPreference( state, 'keepCaretInsideBlock' ),\n\t\t__unstableGetPreference( state, 'showIconLabels' ),\n\t\tgetReusableBlocks( state ),\n\t\tgetEditedPostType( state ),\n\t]\n);\n\n/**\n * Returns the current home template ID.\n *\n * @param {Object} state Global application state.\n *\n * @return {number?} Home template ID.\n */\nexport function getHomeTemplateId( state ) {\n\treturn state.homeTemplateId;\n}\n\nfunction getCurrentEditedPost( state ) {\n\treturn state.editedPost;\n}\n\n/**\n * Returns the current edited post type (wp_template or wp_template_part).\n *\n * @param {Object} state Global application state.\n *\n * @return {TemplateType?} Template type.\n */\nexport function getEditedPostType( state ) {\n\treturn getCurrentEditedPost( state ).type;\n}\n\n/**\n * Returns the ID of the currently edited template or template part.\n *\n * @param {Object} state Global application state.\n *\n * @return {string?} Post ID.\n */\nexport function getEditedPostId( state ) {\n\treturn getCurrentEditedPost( state ).id;\n}\n\n/**\n * Returns the current page object.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Page.\n */\nexport function getPage( state ) {\n\treturn getCurrentEditedPost( state ).page;\n}\n\n/**\n * Returns the active menu in the navigation panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Active menu.\n */\nexport function getNavigationPanelActiveMenu( state ) {\n\treturn state.navigationPanel.menu;\n}\n\n/**\n * Returns the current template or template part's corresponding\n * navigation panel's sub menu, to be used with `openNavigationPanelToMenu`.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} The current template or template part's sub menu.\n */\nexport const getCurrentTemplateNavigationPanelSubMenu = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst templateType = getEditedPostType( state );\n\t\tconst templateId = getEditedPostId( state );\n\t\tconst template = templateId\n\t\t\t? select( coreDataStore ).getEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplateType,\n\t\t\t\t\ttemplateId\n\t\t\t  )\n\t\t\t: null;\n\n\t\tif ( ! template ) {\n\t\t\treturn MENU_ROOT;\n\t\t}\n\n\t\tif ( 'wp_template_part' === templateType ) {\n\t\t\treturn (\n\t\t\t\tTEMPLATE_PARTS_SUB_MENUS.find(\n\t\t\t\t\t( submenu ) => submenu.area === template?.area\n\t\t\t\t)?.menu || MENU_TEMPLATE_PARTS\n\t\t\t);\n\t\t}\n\n\t\tconst templates = select( coreDataStore ).getEntityRecords(\n\t\t\t'postType',\n\t\t\t'wp_template'\n\t\t);\n\t\tconst showOnFront = select( coreDataStore ).getEditedEntityRecord(\n\t\t\t'root',\n\t\t\t'site'\n\t\t).show_on_front;\n\n\t\tif (\n\t\t\tisTemplateSuperseded(\n\t\t\t\ttemplate.slug,\n\t\t\t\tmap( templates, 'slug' ),\n\t\t\t\tshowOnFront\n\t\t\t)\n\t\t) {\n\t\t\treturn MENU_TEMPLATES_UNUSED;\n\t\t}\n\n\t\treturn getTemplateLocation( template.slug );\n\t}\n);\n\n/**\n * Returns the current opened/closed state of the navigation panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if the navigation panel should be open; false if closed.\n */\nexport function isNavigationOpened( state ) {\n\treturn state.navigationPanel.isOpen;\n}\n\n/**\n * Returns the current opened/closed state of the inserter panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if the inserter panel should be open; false if closed.\n */\nexport function isInserterOpened( state ) {\n\treturn !! state.blockInserterPanel;\n}\n\n/**\n * Get the insertion point for the inserter.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The root client ID, index to insert at and starting filter value.\n */\nexport function __experimentalGetInsertionPoint( state ) {\n\tconst { rootClientId, insertionIndex, filterValue } =\n\t\tstate.blockInserterPanel;\n\treturn { rootClientId, insertionIndex, filterValue };\n}\n\n/**\n * Returns the current opened/closed state of the list view panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if the list view panel should be open; false if closed.\n */\nexport function isListViewOpened( state ) {\n\treturn state.listViewPanel;\n}\n\n/**\n * Returns the current opened/closed state of the save panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if the save panel should be open; false if closed.\n */\nexport function isSaveViewOpened( state ) {\n\treturn state.saveViewPanel;\n}\n\n/**\n * Returns the template parts and their blocks for the current edited template.\n *\n * @param {Object} state Global application state.\n * @return {Array} Template parts and their blocks in an array.\n */\nexport const getCurrentTemplateTemplateParts = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst templateType = getEditedPostType( state );\n\t\tconst templateId = getEditedPostId( state );\n\t\tconst template = select( coreDataStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplateType,\n\t\t\ttemplateId\n\t\t);\n\n\t\tconst templateParts = select( coreDataStore ).getEntityRecords(\n\t\t\t'postType',\n\t\t\t'wp_template_part',\n\t\t\t{ per_page: -1 }\n\t\t);\n\t\tconst templatePartsById = templateParts\n\t\t\t? // Key template parts by their ID.\n\t\t\t  templateParts.reduce(\n\t\t\t\t\t( newTemplateParts, part ) => ( {\n\t\t\t\t\t\t...newTemplateParts,\n\t\t\t\t\t\t[ part.id ]: part,\n\t\t\t\t\t} ),\n\t\t\t\t\t{}\n\t\t\t  )\n\t\t\t: {};\n\n\t\treturn ( template.blocks ?? [] )\n\t\t\t.filter( ( block ) => isTemplatePart( block ) )\n\t\t\t.map( ( block ) => {\n\t\t\t\tconst {\n\t\t\t\t\tattributes: { theme, slug },\n\t\t\t\t} = block;\n\t\t\t\tconst templatePartId = `${ theme }//${ slug }`;\n\t\t\t\tconst templatePart = templatePartsById[ templatePartId ];\n\n\t\t\t\treturn {\n\t\t\t\t\ttemplatePart,\n\t\t\t\t\tblock,\n\t\t\t\t};\n\t\t\t} )\n\t\t\t.filter( ( { templatePart } ) => !! templatePart );\n\t}\n);\n\n/**\n * Returns the current editing mode.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Editing mode.\n */\nexport function getEditorMode( state ) {\n\treturn __unstableGetPreference( state, 'editorMode' );\n}\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as actions from './actions';\nimport * as selectors from './selectors';\nimport { STORE_NAME } from './constants';\n\nexport const storeConfig = {\n\treducer,\n\tactions,\n\tselectors,\n};\n\nexport const store = createReduxStore( STORE_NAME, storeConfig );\nregister( store );\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keyboardShortcuts\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plus = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z\" />\n\t</SVG>\n);\n\nexport default plus;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst listView = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z\" />\n\t</SVG>\n);\n\nexport default listView;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronUpDown = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"m12 20-4.5-3.6-.9 1.2L12 22l5.5-4.4-.9-1.2L12 20zm0-16 4.5 3.6.9-1.2L12 2 6.5 6.4l.9 1.2L12 4z\" />\n\t</SVG>\n);\n\nexport default chevronUpDown;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst external = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z\" />\n\t</SVG>\n);\n\nexport default external;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keycodes\"];","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const textFormattingShortcuts = [\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'b' },\n\t\tdescription: __( 'Make the selected text bold.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'i' },\n\t\tdescription: __( 'Make the selected text italic.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'k' },\n\t\tdescription: __( 'Convert the selected text into a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'k' },\n\t\tdescription: __( 'Remove a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { character: '[[' },\n\t\tdescription: __( 'Insert a link to a post or page' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'u' },\n\t\tdescription: __( 'Underline the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'd' },\n\t\tdescription: __( 'Strikethrough the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'x' },\n\t\tdescription: __( 'Make the selected text inline code.' ),\n\t},\n];\n","/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { displayShortcutList, shortcutAriaLabel } from '@wordpress/keycodes';\n\nfunction KeyCombination( { keyCombination, forceAriaLabel } ) {\n\tconst shortcut = keyCombination.modifier\n\t\t? displayShortcutList[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\tconst ariaLabel = keyCombination.modifier\n\t\t? shortcutAriaLabel[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\n\treturn (\n\t\t<kbd\n\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__shortcut-key-combination\"\n\t\t\taria-label={ forceAriaLabel || ariaLabel }\n\t\t>\n\t\t\t{ ( Array.isArray( shortcut ) ? shortcut : [ shortcut ] ).map(\n\t\t\t\t( character, index ) => {\n\t\t\t\t\tif ( character === '+' ) {\n\t\t\t\t\t\treturn <Fragment key={ index }>{ character }</Fragment>;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<kbd\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__shortcut-key\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ character }\n\t\t\t\t\t\t</kbd>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t) }\n\t\t</kbd>\n\t);\n}\n\nexport default function Shortcut( {\n\tdescription,\n\tkeyCombination,\n\taliases = [],\n\tariaLabel,\n} ) {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"edit-site-keyboard-shortcut-help-modal__shortcut-description\">\n\t\t\t\t{ description }\n\t\t\t</div>\n\t\t\t<div className=\"edit-site-keyboard-shortcut-help-modal__shortcut-term\">\n\t\t\t\t<KeyCombination\n\t\t\t\t\tkeyCombination={ keyCombination }\n\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t/>\n\t\t\t\t{ aliases.map( ( alias, index ) => (\n\t\t\t\t\t<KeyCombination\n\t\t\t\t\t\tkeyCombination={ alias }\n\t\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport Shortcut from './shortcut';\n\nexport default function DynamicShortcut( { name } ) {\n\tconst { keyCombination, description, aliases } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetShortcutKeyCombination,\n\t\t\t\tgetShortcutDescription,\n\t\t\t\tgetShortcutAliases,\n\t\t\t} = select( keyboardShortcutsStore );\n\n\t\t\treturn {\n\t\t\t\tkeyCombination: getShortcutKeyCombination( name ),\n\t\t\t\taliases: getShortcutAliases( name ),\n\t\t\t\tdescription: getShortcutDescription( name ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\n\tif ( ! keyCombination ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Shortcut\n\t\t\tkeyCombination={ keyCombination }\n\t\t\tdescription={ description }\n\t\t\taliases={ aliases }\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { textFormattingShortcuts } from './config';\nimport Shortcut from './shortcut';\nimport DynamicShortcut from './dynamic-shortcut';\n\nconst ShortcutList = ( { shortcuts } ) => (\n\t/*\n\t * Disable reason: The `list` ARIA role is redundant but\n\t * Safari+VoiceOver won't announce the list otherwise.\n\t */\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t<ul\n\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__shortcut-list\"\n\t\trole=\"list\"\n\t>\n\t\t{ shortcuts.map( ( shortcut, index ) => (\n\t\t\t<li\n\t\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__shortcut\"\n\t\t\t\tkey={ index }\n\t\t\t>\n\t\t\t\t{ typeof shortcut === 'string' ? (\n\t\t\t\t\t<DynamicShortcut name={ shortcut } />\n\t\t\t\t) : (\n\t\t\t\t\t<Shortcut { ...shortcut } />\n\t\t\t\t) }\n\t\t\t</li>\n\t\t) ) }\n\t</ul>\n\t/* eslint-enable jsx-a11y/no-redundant-roles */\n);\n\nconst ShortcutSection = ( { title, shortcuts, className } ) => (\n\t<section\n\t\tclassName={ classnames(\n\t\t\t'edit-site-keyboard-shortcut-help-modal__section',\n\t\t\tclassName\n\t\t) }\n\t>\n\t\t{ !! title && (\n\t\t\t<h2 className=\"edit-site-keyboard-shortcut-help-modal__section-title\">\n\t\t\t\t{ title }\n\t\t\t</h2>\n\t\t) }\n\t\t<ShortcutList shortcuts={ shortcuts } />\n\t</section>\n);\n\nconst ShortcutCategorySection = ( {\n\ttitle,\n\tcategoryName,\n\tadditionalShortcuts = [],\n} ) => {\n\tconst categoryShortcuts = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( keyboardShortcutsStore ).getCategoryShortcuts(\n\t\t\t\tcategoryName\n\t\t\t);\n\t\t},\n\t\t[ categoryName ]\n\t);\n\n\treturn (\n\t\t<ShortcutSection\n\t\t\ttitle={ title }\n\t\t\tshortcuts={ categoryShortcuts.concat( additionalShortcuts ) }\n\t\t/>\n\t);\n};\n\nexport default function KeyboardShortcutHelpModal( {\n\tisModalActive,\n\ttoggleModal,\n} ) {\n\tif ( ! isModalActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal\"\n\t\t\ttitle={ __( 'Keyboard shortcuts' ) }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ toggleModal }\n\t\t>\n\t\t\t<ShortcutSection\n\t\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__main-shortcuts\"\n\t\t\t\tshortcuts={ [ 'core/edit-site/keyboard-shortcuts' ] }\n\t\t\t/>\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Global shortcuts' ) }\n\t\t\t\tcategoryName=\"global\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Selection shortcuts' ) }\n\t\t\t\tcategoryName=\"selection\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Block shortcuts' ) }\n\t\t\t\tcategoryName=\"block\"\n\t\t\t\tadditionalShortcuts={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeyCombination: { character: '/' },\n\t\t\t\t\t\tdescription: __(\n\t\t\t\t\t\t\t'Change the block type after adding a new paragraph.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t/* translators: The forward-slash character. e.g. '/'. */\n\t\t\t\t\t\tariaLabel: __( 'Forward-slash' ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t\t<ShortcutSection\n\t\t\t\ttitle={ __( 'Text formatting' ) }\n\t\t\t\tshortcuts={ textFormattingShortcuts }\n\t\t\t/>\n\t\t</Modal>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { ___unstablePreferencesModalBaseOption as BaseOption } from '@wordpress/interface';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\nexport default function EnableFeature( props ) {\n\tconst { featureName, ...remainingProps } = props;\n\tconst isChecked = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( preferencesStore ).get( 'core/edit-site', featureName ),\n\t\t[ featureName ]\n\t);\n\tconst { toggle } = useDispatch( preferencesStore );\n\tconst onChange = () => toggle( 'core/edit-site', featureName );\n\treturn (\n\t\t<BaseOption\n\t\t\tonChange={ onChange }\n\t\t\tisChecked={ isChecked }\n\t\t\t{ ...remainingProps }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tPreferencesModal,\n\tPreferencesModalTabs,\n\tPreferencesModalSection,\n} from '@wordpress/interface';\nimport { useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport EnableFeature from './enable-feature';\n\nexport default function EditSitePreferencesModal( {\n\tisModalActive,\n\ttoggleModal,\n} ) {\n\tconst sections = useMemo( () => [\n\t\t{\n\t\t\tname: 'general',\n\t\t\ttabLabel: __( 'General' ),\n\t\t\tcontent: (\n\t\t\t\t<PreferencesModalSection\n\t\t\t\t\ttitle={ __( 'Appearance' ) }\n\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t'Customize options related to the block editor interface and editing flow.'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<EnableFeature\n\t\t\t\t\t\tfeatureName=\"focusMode\"\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Highlights the current block and fades other content.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tlabel={ __( 'Spotlight mode' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<EnableFeature\n\t\t\t\t\t\tfeatureName=\"showIconLabels\"\n\t\t\t\t\t\tlabel={ __( 'Show button text labels' ) }\n\t\t\t\t\t\thelp={ __( 'Show text instead of icons on buttons.' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<EnableFeature\n\t\t\t\t\t\tfeatureName=\"showListViewByDefault\"\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Opens the block list view sidebar by default.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tlabel={ __( 'Always open list view' ) }\n\t\t\t\t\t/>\n\t\t\t\t</PreferencesModalSection>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tname: 'blocks',\n\t\t\ttabLabel: __( 'Blocks' ),\n\t\t\tcontent: (\n\t\t\t\t<PreferencesModalSection\n\t\t\t\t\ttitle={ __( 'Block interactions' ) }\n\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t'Customize how you interact with blocks in the block library and editing canvas.'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<EnableFeature\n\t\t\t\t\t\tfeatureName=\"keepCaretInsideBlock\"\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Aids screen readers by stopping text caret from leaving blocks.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tlabel={ __( 'Contain text cursor inside block' ) }\n\t\t\t\t\t/>\n\t\t\t\t</PreferencesModalSection>\n\t\t\t),\n\t\t},\n\t] );\n\tif ( ! isModalActive ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<PreferencesModal closeModal={ toggleModal }>\n\t\t\t<PreferencesModalTabs sections={ sections } />\n\t\t</PreferencesModal>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst { Fill: ToolsMoreMenuGroup, Slot } = createSlotFill(\n\t'EditSiteToolsMoreMenuGroup'\n);\n\nToolsMoreMenuGroup.Slot = ( { fillProps } ) => (\n\t<Slot fillProps={ fillProps }>\n\t\t{ ( fills ) => ! isEmpty( fills ) && fills }\n\t</Slot>\n);\n\nexport default ToolsMoreMenuGroup;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst download = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z\" />\n\t</SVG>\n);\n\nexport default download;\n","/**\n * External dependencies\n */\nimport downloadjs from 'downloadjs';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport apiFetch from '@wordpress/api-fetch';\nimport { download } from '@wordpress/icons';\nimport { useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\n\nexport default function SiteExport() {\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tasync function handleExport() {\n\t\ttry {\n\t\t\tconst response = await apiFetch( {\n\t\t\t\tpath: '/wp-block-editor/v1/export',\n\t\t\t\tparse: false,\n\t\t\t\theaders: {\n\t\t\t\t\tAccept: 'application/zip',\n\t\t\t\t},\n\t\t\t} );\n\t\t\tconst blob = await response.blob();\n\t\t\tconst contentDisposition = response.headers.get(\n\t\t\t\t'content-disposition'\n\t\t\t);\n\t\t\tconst contentDispositionMatches =\n\t\t\t\tcontentDisposition.match( /=(.+)\\.zip/ );\n\t\t\tconst fileName = contentDispositionMatches[ 1 ]\n\t\t\t\t? contentDispositionMatches[ 1 ]\n\t\t\t\t: 'edit-site-export';\n\n\t\t\tdownloadjs( blob, fileName + '.zip', 'application/zip' );\n\t\t} catch ( errorResponse ) {\n\t\t\tlet error = {};\n\t\t\ttry {\n\t\t\t\terror = await errorResponse.json();\n\t\t\t} catch ( e ) {}\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while creating the site export.' );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t}\n\n\treturn (\n\t\t<MenuItem\n\t\t\trole=\"menuitem\"\n\t\t\ticon={ download }\n\t\t\tonClick={ handleExport }\n\t\t\tinfo={ __(\n\t\t\t\t'Download your theme with updated templates and styles.'\n\t\t\t) }\n\t\t>\n\t\t\t{ _x( 'Export', 'site exporter menu item' ) }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { MenuItem } from '@wordpress/components';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\nexport default function WelcomeGuideMenuItem() {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\treturn (\n\t\t<MenuItem onClick={ () => toggle( 'core/edit-site', 'welcomeGuide' ) }>\n\t\t\t{ __( 'Welcome Guide' ) }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\nexport default function CopyContentMenuItem() {\n\tconst { createNotice } = useDispatch( noticesStore );\n\tconst getText = useSelect( ( select ) => {\n\t\treturn () => {\n\t\t\tconst { getEditedPostId, getEditedPostType } =\n\t\t\t\tselect( editSiteStore );\n\t\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\t\tconst record = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tgetEditedPostType(),\n\t\t\t\tgetEditedPostId()\n\t\t\t);\n\t\t\tif ( record ) {\n\t\t\t\tif ( typeof record.content === 'function' ) {\n\t\t\t\t\treturn record.content( record );\n\t\t\t\t} else if ( record.blocks ) {\n\t\t\t\t\treturn __unstableSerializeAndClean( record.blocks );\n\t\t\t\t} else if ( record.content ) {\n\t\t\t\t\treturn record.content;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn '';\n\t\t};\n\t}, [] );\n\n\tfunction onSuccess() {\n\t\tcreateNotice( 'info', __( 'All content copied.' ), {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t}\n\n\tconst ref = useCopyToClipboard( getText, onSuccess );\n\n\treturn <MenuItem ref={ ref }>{ __( 'Copy all blocks' ) }</MenuItem>;\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItemsChoice, MenuGroup } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\n/**\n * Set of available mode options.\n *\n * @type {Array}\n */\nconst MODES = [\n\t{\n\t\tvalue: 'visual',\n\t\tlabel: __( 'Visual editor' ),\n\t},\n\t{\n\t\tvalue: 'text',\n\t\tlabel: __( 'Code editor' ),\n\t},\n];\n\nfunction ModeSwitcher() {\n\tconst { shortcut, mode } = useSelect(\n\t\t( select ) => ( {\n\t\t\tshortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getShortcutRepresentation( 'core/edit-site/toggle-mode' ),\n\t\t\tisRichEditingEnabled:\n\t\t\t\tselect( editSiteStore ).getSettings().richEditingEnabled,\n\t\t\tisCodeEditingEnabled:\n\t\t\t\tselect( editSiteStore ).getSettings().codeEditingEnabled,\n\t\t\tmode: select( editSiteStore ).getEditorMode(),\n\t\t} ),\n\t\t[]\n\t);\n\tconst { switchEditorMode } = useDispatch( editSiteStore );\n\n\tconst choices = MODES.map( ( choice ) => {\n\t\tif ( choice.value !== mode ) {\n\t\t\treturn { ...choice, shortcut };\n\t\t}\n\t\treturn choice;\n\t} );\n\n\treturn (\n\t\t<MenuGroup label={ __( 'Editor' ) }>\n\t\t\t<MenuItemsChoice\n\t\t\t\tchoices={ choices }\n\t\t\t\tvalue={ mode }\n\t\t\t\tonSelect={ switchEditorMode }\n\t\t\t/>\n\t\t</MenuGroup>\n\t);\n}\n\nexport default ModeSwitcher;\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { useReducer } from '@wordpress/element';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { external } from '@wordpress/icons';\nimport { MenuGroup, MenuItem, VisuallyHidden } from '@wordpress/components';\nimport { ActionItem, MoreMenuDropdown } from '@wordpress/interface';\nimport { PreferenceToggleMenuItem } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport KeyboardShortcutHelpModal from '../../keyboard-shortcut-help-modal';\nimport EditSitePreferencesModal from '../../preferences-modal';\nimport ToolsMoreMenuGroup from '../tools-more-menu-group';\nimport SiteExport from './site-export';\nimport WelcomeGuideMenuItem from './welcome-guide-menu-item';\nimport CopyContentMenuItem from './copy-content-menu-item';\nimport ModeSwitcher from '../mode-switcher';\n\nexport default function MoreMenu( { showIconLabels } ) {\n\tconst [ isModalActive, toggleModal ] = useReducer(\n\t\t( isActive ) => ! isActive,\n\t\tfalse\n\t);\n\n\tconst [ isPreferencesModalActive, togglePreferencesModal ] = useReducer(\n\t\t( isActive ) => ! isActive,\n\t\tfalse\n\t);\n\n\tuseShortcut( 'core/edit-site/keyboard-shortcuts', toggleModal );\n\n\treturn (\n\t\t<>\n\t\t\t<MoreMenuDropdown\n\t\t\t\ttoggleProps={ {\n\t\t\t\t\tshowTooltip: ! showIconLabels,\n\t\t\t\t\t...( showIconLabels && { variant: 'tertiary' } ),\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<MenuGroup label={ _x( 'View', 'noun' ) }>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/edit-site\"\n\t\t\t\t\t\t\t\tname=\"fixedToolbar\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Top toolbar' ) }\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Access all block and document tools in a single place'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core/edit-site\"\n\t\t\t\t\t\t\t\tname=\"focusMode\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Spotlight mode' ) }\n\t\t\t\t\t\t\t\tinfo={ __( 'Focus on one block at a time' ) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Spotlight mode activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Spotlight mode deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ModeSwitcher />\n\t\t\t\t\t\t\t<ActionItem.Slot\n\t\t\t\t\t\t\t\tname=\"core/edit-site/plugin-more-menu\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Plugins' ) }\n\t\t\t\t\t\t\t\tas={ MenuGroup }\n\t\t\t\t\t\t\t\tfillProps={ { onClick: onClose } }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup label={ __( 'Tools' ) }>\n\t\t\t\t\t\t\t<SiteExport />\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ toggleModal }\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.access( 'h' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Keyboard shortcuts' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<WelcomeGuideMenuItem />\n\t\t\t\t\t\t\t<CopyContentMenuItem />\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t'https://wordpress.org/support/article/site-editor/'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Help' ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<ToolsMoreMenuGroup.Slot\n\t\t\t\t\t\t\t\tfillProps={ { onClose } }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<MenuItem onClick={ togglePreferencesModal }>\n\t\t\t\t\t\t\t\t{ __( 'Preferences' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</MoreMenuDropdown>\n\t\t\t<KeyboardShortcutHelpModal\n\t\t\t\tisModalActive={ isModalActive }\n\t\t\t\ttoggleModal={ toggleModal }\n\t\t\t/>\n\t\t\t<EditSitePreferencesModal\n\t\t\t\tisModalActive={ isPreferencesModalActive }\n\t\t\t\ttoggleModal={ togglePreferencesModal }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { displayShortcut } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nexport default function SaveButton() {\n\tconst { isDirty, isSaving, isSaveViewOpen } = useSelect( ( select ) => {\n\t\tconst { __experimentalGetDirtyEntityRecords, isSavingEntityRecord } =\n\t\t\tselect( coreStore );\n\t\tconst dirtyEntityRecords = __experimentalGetDirtyEntityRecords();\n\t\tconst { isSaveViewOpened } = select( editSiteStore );\n\t\treturn {\n\t\t\tisDirty: dirtyEntityRecords.length > 0,\n\t\t\tisSaving: dirtyEntityRecords.some( ( record ) =>\n\t\t\t\tisSavingEntityRecord( record.kind, record.name, record.key )\n\t\t\t),\n\t\t\tisSaveViewOpen: isSaveViewOpened(),\n\t\t};\n\t}, [] );\n\tconst { setIsSaveViewOpened } = useDispatch( editSiteStore );\n\n\tconst disabled = ! isDirty || isSaving;\n\n\tconst label = __( 'Save' );\n\n\treturn (\n\t\t<Button\n\t\t\tvariant=\"primary\"\n\t\t\tclassName=\"edit-site-save-button__button\"\n\t\t\taria-disabled={ disabled }\n\t\t\taria-expanded={ isSaveViewOpen }\n\t\t\tisBusy={ isSaving }\n\t\t\tonClick={ disabled ? undefined : () => setIsSaveViewOpened( true ) }\n\t\t\tlabel={ label }\n\t\t\t/*\n\t\t\t * We want the tooltip to show the keyboard shortcut only when the\n\t\t\t * button does something, i.e. when it's not disabled.\n\t\t\t */\n\t\t\tshortcut={ disabled ? undefined : displayShortcut.primary( 's' ) }\n\t\t\t/*\n\t\t\t * Displaying the keyboard shortcut conditionally makes the tooltip\n\t\t\t * itself show conditionally. This would trigger a full-rerendering\n\t\t\t * of the button that we want to avoid. By setting `showTooltip`,\n\t\t\t & the tooltip is always rendered even when there's no keyboard shortcut.\n\t\t\t */\n\t\t\tshowTooltip\n\t\t>\n\t\t\t{ label }\n\t\t</Button>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst undo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z\" />\n\t</SVG>\n);\n\nexport default undo;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst redo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z\" />\n\t</SVG>\n);\n\nexport default redo;\n","/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { undo as undoIcon, redo as redoIcon } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { forwardRef } from '@wordpress/element';\n\nfunction UndoButton( props, ref ) {\n\tconst hasUndo = useSelect(\n\t\t( select ) => select( coreStore ).hasUndo(),\n\t\t[]\n\t);\n\tconst { undo } = useDispatch( coreStore );\n\treturn (\n\t\t<Button\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ ! isRTL() ? undoIcon : redoIcon }\n\t\t\tlabel={ __( 'Undo' ) }\n\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasUndo }\n\t\t\tonClick={ hasUndo ? undo : undefined }\n\t\t/>\n\t);\n}\n\nexport default forwardRef( UndoButton );\n","/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { redo as redoIcon, undo as undoIcon } from '@wordpress/icons';\nimport { displayShortcut, isAppleOS } from '@wordpress/keycodes';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { forwardRef } from '@wordpress/element';\n\nfunction RedoButton( props, ref ) {\n\tconst shortcut = isAppleOS()\n\t\t? displayShortcut.primaryShift( 'z' )\n\t\t: displayShortcut.primary( 'y' );\n\n\tconst hasRedo = useSelect(\n\t\t( select ) => select( coreStore ).hasRedo(),\n\t\t[]\n\t);\n\tconst { redo } = useDispatch( coreStore );\n\treturn (\n\t\t<Button\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ ! isRTL() ? redoIcon : undoIcon }\n\t\t\tlabel={ __( 'Redo' ) }\n\t\t\tshortcut={ shortcut }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasRedo }\n\t\t\tonClick={ hasRedo ? redo : undefined }\n\t\t/>\n\t);\n}\n\nexport default forwardRef( RedoButton );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronDown = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z\" />\n\t</SVG>\n);\n\nexport default chevronDown;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"htmlEntities\"];","/**\n * WordPress dependencies\n */\nimport { sprintf, __ } from '@wordpress/i18n';\nimport { DropdownMenu, MenuGroup, MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { moreVertical } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport isTemplateRevertable from '../../utils/is-template-revertable';\nimport { useLocation } from '../routes';\nimport { useLink } from '../routes/link';\n\nfunction TemplatePartItemMore( {\n\tonClose,\n\ttemplatePart,\n\tcloseTemplateDetailsDropdown,\n} ) {\n\tconst { revertTemplate } = useDispatch( editSiteStore );\n\tconst { params } = useLocation();\n\tconst editLinkProps = useLink(\n\t\t{\n\t\t\tpostId: templatePart.id,\n\t\t\tpostType: templatePart.type,\n\t\t},\n\t\t{\n\t\t\tfromTemplateId: params.postId,\n\t\t}\n\t);\n\n\tfunction editTemplatePart( event ) {\n\t\teditLinkProps.onClick( event );\n\t\tonClose();\n\t\tcloseTemplateDetailsDropdown();\n\t}\n\n\tfunction clearCustomizations() {\n\t\trevertTemplate( templatePart );\n\t\tonClose();\n\t\tcloseTemplateDetailsDropdown();\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<MenuGroup>\n\t\t\t\t<MenuItem { ...editLinkProps } onClick={ editTemplatePart }>\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t/* translators: %s: template part title */\n\t\t\t\t\t\t__( 'Edit %s' ),\n\t\t\t\t\t\ttemplatePart.title?.rendered\n\t\t\t\t\t) }\n\t\t\t\t</MenuItem>\n\t\t\t</MenuGroup>\n\t\t\t{ isTemplateRevertable( templatePart ) && (\n\t\t\t\t<MenuGroup>\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t'Use the template part as supplied by the theme.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ clearCustomizations }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Clear customizations' ) }\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</MenuGroup>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction TemplatePartItem( {\n\ttemplatePart,\n\tclientId,\n\tcloseTemplateDetailsDropdown,\n} ) {\n\tconst { selectBlock, toggleBlockHighlight } =\n\t\tuseDispatch( blockEditorStore );\n\tconst templatePartArea = useSelect(\n\t\t( select ) => {\n\t\t\tconst defaultAreas =\n\t\t\t\tselect(\n\t\t\t\t\teditorStore\n\t\t\t\t).__experimentalGetDefaultTemplatePartAreas();\n\n\t\t\treturn defaultAreas.find(\n\t\t\t\t( defaultArea ) => defaultArea.area === templatePart.area\n\t\t\t);\n\t\t},\n\t\t[ templatePart.area ]\n\t);\n\tconst highlightBlock = () => toggleBlockHighlight( clientId, true );\n\tconst cancelHighlightBlock = () => toggleBlockHighlight( clientId, false );\n\n\treturn (\n\t\t<div\n\t\t\trole=\"menuitem\"\n\t\t\tclassName=\"edit-site-template-details__template-areas-item\"\n\t\t>\n\t\t\t<MenuItem\n\t\t\t\trole=\"button\"\n\t\t\t\ticon={ templatePartArea?.icon }\n\t\t\t\ticonPosition=\"left\"\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tselectBlock( clientId );\n\t\t\t\t} }\n\t\t\t\tonMouseOver={ highlightBlock }\n\t\t\t\tonMouseLeave={ cancelHighlightBlock }\n\t\t\t\tonFocus={ highlightBlock }\n\t\t\t\tonBlur={ cancelHighlightBlock }\n\t\t\t>\n\t\t\t\t{ templatePartArea?.label }\n\t\t\t</MenuItem>\n\n\t\t\t<DropdownMenu\n\t\t\t\ticon={ moreVertical }\n\t\t\t\tlabel={ __( 'More options' ) }\n\t\t\t\tclassName=\"edit-site-template-details__template-areas-item-more\"\n\t\t\t>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<TemplatePartItemMore\n\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\ttemplatePart={ templatePart }\n\t\t\t\t\t\tcloseTemplateDetailsDropdown={\n\t\t\t\t\t\t\tcloseTemplateDetailsDropdown\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</DropdownMenu>\n\t\t</div>\n\t);\n}\n\nexport default function TemplateAreas( { closeTemplateDetailsDropdown } ) {\n\tconst templateParts = useSelect(\n\t\t( select ) => select( editSiteStore ).getCurrentTemplateTemplateParts(),\n\t\t[]\n\t);\n\n\tif ( ! templateParts.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<MenuGroup\n\t\t\tlabel={ __( 'Areas' ) }\n\t\t\tclassName=\"edit-site-template-details__group edit-site-template-details__template-areas\"\n\t\t>\n\t\t\t{ templateParts.map( ( { templatePart, block } ) => (\n\t\t\t\t<TemplatePartItem\n\t\t\t\t\tkey={ templatePart.slug }\n\t\t\t\t\tclientId={ block.clientId }\n\t\t\t\t\ttemplatePart={ templatePart }\n\t\t\t\t\tcloseTemplateDetailsDropdown={\n\t\t\t\t\t\tcloseTemplateDetailsDropdown\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</MenuGroup>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { TextControl } from '@wordpress/components';\nimport { useEntityProp } from '@wordpress/core-data';\nimport { useState } from '@wordpress/element';\n\nexport default function EditTemplateTitle( { template } ) {\n\tconst [ forceEmpty, setForceEmpty ] = useState( false );\n\tconst [ title, setTitle ] = useEntityProp(\n\t\t'postType',\n\t\ttemplate.type,\n\t\t'title',\n\t\ttemplate.id\n\t);\n\n\treturn (\n\t\t<TextControl\n\t\t\tlabel={ __( 'Title' ) }\n\t\t\tvalue={ forceEmpty ? '' : title }\n\t\t\thelp={\n\t\t\t\ttemplate.type !== 'wp_template_part'\n\t\t\t\t\t? __(\n\t\t\t\t\t\t\t'Give the template a title that indicates its purpose, e.g. \"Full Width\".'\n\t\t\t\t\t  )\n\t\t\t\t\t: null\n\t\t\t}\n\t\t\tonChange={ ( newTitle ) => {\n\t\t\t\tif ( ! newTitle && ! forceEmpty ) {\n\t\t\t\t\tsetForceEmpty( true );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetForceEmpty( false );\n\t\t\t\tsetTitle( newTitle );\n\t\t\t} }\n\t\t\tonBlur={ () => setForceEmpty( false ) }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl } from '@wordpress/components';\nimport { useEntityProp } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\n\nexport default function TemplatePartAreaSelector( { id } ) {\n\tconst [ area, setArea ] = useEntityProp(\n\t\t'postType',\n\t\t'wp_template_part',\n\t\t'area',\n\t\tid\n\t);\n\n\tconst definedAreas = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).__experimentalGetDefaultTemplatePartAreas(),\n\t\t[]\n\t);\n\n\tconst areaOptions = definedAreas.map( ( { label, area: _area } ) => ( {\n\t\tlabel,\n\t\tvalue: _area,\n\t} ) );\n\n\treturn (\n\t\t<SelectControl\n\t\t\tlabel={ __( 'Area' ) }\n\t\t\tlabelPosition=\"top\"\n\t\t\toptions={ areaOptions }\n\t\t\tvalue={ area }\n\t\t\tonChange={ setArea }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tMenuGroup,\n\tMenuItem,\n\t__experimentalVStack as VStack,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport isTemplateRevertable from '../../utils/is-template-revertable';\nimport { store as editSiteStore } from '../../store';\nimport TemplateAreas from './template-areas';\nimport EditTemplateTitle from './edit-template-title';\nimport { useLink } from '../routes/link';\nimport TemplatePartAreaSelector from './template-part-area-selector';\n\nexport default function TemplateDetails( { template, onClose } ) {\n\tconst { title, description } = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).__experimentalGetTemplateInfo( template ),\n\t\t[]\n\t);\n\tconst { revertTemplate } = useDispatch( editSiteStore );\n\n\tconst browseAllLinkProps = useLink( {\n\t\t// TODO: We should update this to filter by template part's areas as well.\n\t\tpostType: template.type,\n\t\tpostId: undefined,\n\t} );\n\n\tconst isTemplatePart = template.type === 'wp_template_part';\n\n\t// Only user-created and non-default templates can change the name.\n\t// But any user-created template part can be renamed.\n\tconst canEditTitle = isTemplatePart\n\t\t? ! template.has_theme_file\n\t\t: template.is_custom && ! template.has_theme_file;\n\n\tif ( ! template ) {\n\t\treturn null;\n\t}\n\n\tconst revert = () => {\n\t\trevertTemplate( template );\n\t\tonClose();\n\t};\n\n\treturn (\n\t\t<div className=\"edit-site-template-details\">\n\t\t\t<VStack className=\"edit-site-template-details__group\" spacing={ 3 }>\n\t\t\t\t{ canEditTitle ? (\n\t\t\t\t\t<EditTemplateTitle template={ template } />\n\t\t\t\t) : (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tsize={ 16 }\n\t\t\t\t\t\tweight={ 600 }\n\t\t\t\t\t\tclassName=\"edit-site-template-details__title\"\n\t\t\t\t\t\tas=\"p\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ decodeEntities( title ) }\n\t\t\t\t\t</Text>\n\t\t\t\t) }\n\n\t\t\t\t{ description && (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tsize=\"body\"\n\t\t\t\t\t\tclassName=\"edit-site-template-details__description\"\n\t\t\t\t\t\tas=\"p\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ decodeEntities( description ) }\n\t\t\t\t\t</Text>\n\t\t\t\t) }\n\t\t\t</VStack>\n\n\t\t\t{ isTemplatePart && (\n\t\t\t\t<div className=\"edit-site-template-details__group\">\n\t\t\t\t\t<TemplatePartAreaSelector id={ template.id } />\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t<TemplateAreas closeTemplateDetailsDropdown={ onClose } />\n\n\t\t\t{ isTemplateRevertable( template ) && (\n\t\t\t\t<MenuGroup className=\"edit-site-template-details__group edit-site-template-details__revert\">\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tclassName=\"edit-site-template-details__revert-button\"\n\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t'Use the template as supplied by the theme.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ revert }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Clear customizations' ) }\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</MenuGroup>\n\t\t\t) }\n\n\t\t\t<Button\n\t\t\t\tclassName=\"edit-site-template-details__show-all-button\"\n\t\t\t\t{ ...browseAllLinkProps }\n\t\t\t>\n\t\t\t\t{ template?.type === 'wp_template'\n\t\t\t\t\t? __( 'Browse all templates' )\n\t\t\t\t\t: __( 'Browse all template parts' ) }\n\t\t\t</Button>\n\t\t</div>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { sprintf, __ } from '@wordpress/i18n';\nimport {\n\t__experimentalGetBlockLabel as getBlockLabel,\n\tgetBlockType,\n} from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tDropdown,\n\tButton,\n\tVisuallyHidden,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { chevronDown } from '@wordpress/icons';\nimport { useState, useMemo } from '@wordpress/element';\nimport {\n\tstore as blockEditorStore,\n\tuseBlockDisplayInformation,\n\tBlockIcon,\n} from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport TemplateDetails from '../../template-details';\nimport { store as editSiteStore } from '../../../store';\n\nfunction getBlockDisplayText( block ) {\n\tif ( block ) {\n\t\tconst blockType = getBlockType( block.name );\n\t\treturn blockType ? getBlockLabel( blockType, block.attributes ) : null;\n\t}\n\treturn null;\n}\n\nfunction useSecondaryText() {\n\tconst { getBlock } = useSelect( blockEditorStore );\n\tconst activeEntityBlockId = useSelect(\n\t\t( select ) =>\n\t\t\tselect(\n\t\t\t\tblockEditorStore\n\t\t\t).__experimentalGetActiveBlockIdByBlockNames( [\n\t\t\t\t'core/template-part',\n\t\t\t] ),\n\t\t[]\n\t);\n\n\tconst blockInformation = useBlockDisplayInformation( activeEntityBlockId );\n\n\tif ( activeEntityBlockId ) {\n\t\treturn {\n\t\t\tlabel: getBlockDisplayText( getBlock( activeEntityBlockId ) ),\n\t\t\tisActive: true,\n\t\t\ticon: blockInformation?.icon,\n\t\t};\n\t}\n\n\treturn {};\n}\n\nexport default function DocumentActions() {\n\tconst { showIconLabels, entityTitle, template, templateType, isLoaded } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst { getEditedPostType, getEditedPostId } =\n\t\t\t\tselect( editSiteStore );\n\t\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\t\tconst { __experimentalGetTemplateInfo: getTemplateInfo } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst postType = getEditedPostType();\n\t\t\tconst postId = getEditedPostId();\n\t\t\tconst record = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostId\n\t\t\t);\n\t\t\tconst _isLoaded = !! postId;\n\n\t\t\treturn {\n\t\t\t\tshowIconLabels: select( preferencesStore ).get(\n\t\t\t\t\t'core/edit-site',\n\t\t\t\t\t'showIconLabels'\n\t\t\t\t),\n\t\t\t\tentityTitle: getTemplateInfo( record ).title,\n\t\t\t\tisLoaded: _isLoaded,\n\t\t\t\ttemplate: record,\n\t\t\t\ttemplateType: postType,\n\t\t\t};\n\t\t}, [] );\n\n\tconst entityLabel =\n\t\ttemplateType === 'wp_template_part' ? 'template part' : 'template';\n\tconst { label, icon } = useSecondaryText();\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Use the title wrapper as the popover anchor so that the dropdown is\n\t\t\t// centered over the whole title area rather than just one part of it.\n\t\t\tanchor: popoverAnchor,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\t// Return a simple loading indicator until we have information to show.\n\tif ( ! isLoaded ) {\n\t\treturn (\n\t\t\t<div className=\"edit-site-document-actions\">\n\t\t\t\t{ __( 'Loading' ) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Return feedback that the template does not seem to exist.\n\tif ( ! entityTitle ) {\n\t\treturn (\n\t\t\t<div className=\"edit-site-document-actions\">\n\t\t\t\t{ __( 'Template not found' ) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ classnames( 'edit-site-document-actions', {\n\t\t\t\t'has-secondary-label': !! label,\n\t\t\t} ) }\n\t\t>\n\t\t\t<div\n\t\t\t\tref={ setPopoverAnchor }\n\t\t\t\tclassName=\"edit-site-document-actions__title-wrapper\"\n\t\t\t>\n\t\t\t\t<Text\n\t\t\t\t\tsize=\"body\"\n\t\t\t\t\tclassName=\"edit-site-document-actions__title\"\n\t\t\t\t\tas=\"h1\"\n\t\t\t\t>\n\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t/* translators: %s: the entity being edited, like \"template\"*/\n\t\t\t\t\t\t\t__( 'Editing %s: ' ),\n\t\t\t\t\t\t\tentityLabel\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t{ decodeEntities( entityTitle ) }\n\t\t\t\t</Text>\n\t\t\t\t<div className=\"edit-site-document-actions__secondary-item\">\n\t\t\t\t\t<BlockIcon icon={ icon } showColors />\n\t\t\t\t\t<Text size=\"body\">{ label ?? '' }</Text>\n\t\t\t\t</div>\n\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"edit-site-document-actions__get-info\"\n\t\t\t\t\t\t\ticon={ chevronDown }\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: the entity to see details about, like \"template\"*/\n\t\t\t\t\t\t\t\t__( 'Show %s details' ),\n\t\t\t\t\t\t\t\tentityLabel\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ showIconLabels && __( 'Details' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\tcontentClassName=\"edit-site-document-actions__info-dropdown\"\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<TemplateDetails\n\t\t\t\t\t\t\ttemplate={ template }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useRef } from '@wordpress/element';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tToolSelector,\n\t__experimentalPreviewOptions as PreviewOptions,\n\tNavigableToolbar,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { PinnedItems } from '@wordpress/interface';\nimport { _x, __ } from '@wordpress/i18n';\nimport { listView, plus, external, chevronUpDown } from '@wordpress/icons';\nimport {\n\tButton,\n\tToolbarItem,\n\tMenuGroup,\n\tMenuItem,\n\tVisuallyHidden,\n} from '@wordpress/components';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport MoreMenu from './more-menu';\nimport SaveButton from '../save-button';\nimport UndoButton from './undo-redo/undo';\nimport RedoButton from './undo-redo/redo';\nimport DocumentActions from './document-actions';\nimport { store as editSiteStore } from '../../store';\n\nconst preventDefault = ( event ) => {\n\tevent.preventDefault();\n};\n\nexport default function Header( { showIconLabels } ) {\n\tconst inserterButton = useRef();\n\tconst {\n\t\tdeviceType,\n\t\ttemplateType,\n\t\tisInserterOpen,\n\t\tisListViewOpen,\n\t\tlistViewShortcut,\n\t\tisVisualMode,\n\t\tblockEditorMode,\n\t\thomeUrl,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\t__experimentalGetPreviewDeviceType,\n\t\t\tgetEditedPostType,\n\t\t\tisInserterOpened,\n\t\t\tisListViewOpened,\n\t\t\tgetEditorMode,\n\t\t} = select( editSiteStore );\n\t\tconst { getShortcutRepresentation } = select( keyboardShortcutsStore );\n\t\tconst { __unstableGetEditorMode } = select( blockEditorStore );\n\n\t\tconst postType = getEditedPostType();\n\n\t\tconst {\n\t\t\tgetUnstableBase, // Site index.\n\t\t} = select( coreStore );\n\n\t\treturn {\n\t\t\tdeviceType: __experimentalGetPreviewDeviceType(),\n\t\t\ttemplateType: postType,\n\t\t\tisInserterOpen: isInserterOpened(),\n\t\t\tisListViewOpen: isListViewOpened(),\n\t\t\tlistViewShortcut: getShortcutRepresentation(\n\t\t\t\t'core/edit-site/toggle-list-view'\n\t\t\t),\n\t\t\tisVisualMode: getEditorMode() === 'visual',\n\t\t\tblockEditorMode: __unstableGetEditorMode(),\n\t\t\thomeUrl: getUnstableBase()?.home,\n\t\t};\n\t}, [] );\n\n\tconst {\n\t\t__experimentalSetPreviewDeviceType: setPreviewDeviceType,\n\t\tsetIsInserterOpened,\n\t\tsetIsListViewOpened,\n\t} = useDispatch( editSiteStore );\n\tconst { __unstableSetEditorMode } = useDispatch( blockEditorStore );\n\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\n\tconst openInserter = useCallback( () => {\n\t\tif ( isInserterOpen ) {\n\t\t\t// Focusing the inserter button closes the inserter popover.\n\t\t\tinserterButton.current.focus();\n\t\t} else {\n\t\t\tsetIsInserterOpened( true );\n\t\t}\n\t}, [ isInserterOpen, setIsInserterOpened ] );\n\n\tconst toggleListView = useCallback(\n\t\t() => setIsListViewOpened( ! isListViewOpen ),\n\t\t[ setIsListViewOpened, isListViewOpen ]\n\t);\n\n\tconst isFocusMode = templateType === 'wp_template_part';\n\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tconst longLabel = _x(\n\t\t'Toggle block inserter',\n\t\t'Generic label for block inserter button'\n\t);\n\tconst shortLabel = ! isInserterOpen ? __( 'Add' ) : __( 'Close' );\n\n\tconst isZoomedOutViewExperimentEnabled =\n\t\twindow?.__experimentalEnableZoomedOutView && isVisualMode;\n\tconst isZoomedOutView = blockEditorMode === 'zoom-out';\n\n\treturn (\n\t\t<div className=\"edit-site-header-edit-mode\">\n\t\t\t<NavigableToolbar\n\t\t\t\tclassName=\"edit-site-header-edit-mode__start\"\n\t\t\t\taria-label={ __( 'Document tools' ) }\n\t\t\t>\n\t\t\t\t<div className=\"edit-site-header-edit-mode__toolbar\">\n\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\tref={ inserterButton }\n\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\tclassName=\"edit-site-header-edit-mode__inserter-toggle\"\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tisPressed={ isInserterOpen }\n\t\t\t\t\t\tonMouseDown={ preventDefault }\n\t\t\t\t\t\tonClick={ openInserter }\n\t\t\t\t\t\tdisabled={ ! isVisualMode }\n\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\tlabel={ showIconLabels ? shortLabel : longLabel }\n\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t/>\n\t\t\t\t\t{ isLargeViewport && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\tas={ ToolSelector }\n\t\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tshowIconLabels ? 'tertiary' : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={ ! isVisualMode }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\tas={ UndoButton }\n\t\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tshowIconLabels ? 'tertiary' : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\tas={ RedoButton }\n\t\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tshowIconLabels ? 'tertiary' : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\t\tclassName=\"edit-site-header-edit-mode__list-view-toggle\"\n\t\t\t\t\t\t\t\tdisabled={ ! isVisualMode && isZoomedOutView }\n\t\t\t\t\t\t\t\ticon={ listView }\n\t\t\t\t\t\t\t\tisPressed={ isListViewOpen }\n\t\t\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\t\t\tlabel={ __( 'List View' ) }\n\t\t\t\t\t\t\t\tonClick={ toggleListView }\n\t\t\t\t\t\t\t\tshortcut={ listViewShortcut }\n\t\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tshowIconLabels ? 'tertiary' : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ isZoomedOutViewExperimentEnabled && (\n\t\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\t\t\ticon={ chevronUpDown }\n\t\t\t\t\t\t\t\t\tisPressed={ isZoomedOutView }\n\t\t\t\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Zoom-out View' ) }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetPreviewDeviceType( 'desktop' );\n\t\t\t\t\t\t\t\t\t\t__unstableSetEditorMode(\n\t\t\t\t\t\t\t\t\t\t\tisZoomedOutView\n\t\t\t\t\t\t\t\t\t\t\t\t? 'edit'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'zoom-out'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</NavigableToolbar>\n\n\t\t\t<div className=\"edit-site-header-edit-mode__center\">\n\t\t\t\t<DocumentActions />\n\t\t\t</div>\n\n\t\t\t<div className=\"edit-site-header-edit-mode__end\">\n\t\t\t\t<div className=\"edit-site-header-edit-mode__actions\">\n\t\t\t\t\t{ ! isFocusMode && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t'edit-site-header-edit-mode__preview-options',\n\t\t\t\t\t\t\t\t{ 'is-zoomed-out': isZoomedOutView }\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PreviewOptions\n\t\t\t\t\t\t\t\tdeviceType={ deviceType }\n\t\t\t\t\t\t\t\tsetDeviceType={ setPreviewDeviceType }\n\t\t\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\t\t\tviewLabel={ __( 'View' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\thref={ homeUrl }\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ __( 'View site' ) }\n\t\t\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t</PreviewOptions>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<SaveButton />\n\t\t\t\t\t<PinnedItems.Slot scope=\"core/edit-site\" />\n\t\t\t\t\t<MoreMenu showIconLabels={ showIconLabels } />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst drawerLeft = (\n\t<SVG\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default drawerLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst drawerRight = (\n\t<SVG\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default drawerRight;\n","/**\n * WordPress dependencies\n */\nimport {\n\tComplementaryArea,\n\tComplementaryAreaMoreMenuItem,\n} from '@wordpress/interface';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nexport default function DefaultSidebar( {\n\tclassName,\n\tidentifier,\n\ttitle,\n\ticon,\n\tchildren,\n\tcloseLabel,\n\theader,\n\theaderClassName,\n\tpanelClassName,\n} ) {\n\tconst showIconLabels = useSelect(\n\t\t( select ) => select( editSiteStore ).getSettings().showIconLabels,\n\t\t[]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<ComplementaryArea\n\t\t\t\tclassName={ className }\n\t\t\t\tscope=\"core/edit-site\"\n\t\t\t\tidentifier={ identifier }\n\t\t\t\ttitle={ title }\n\t\t\t\ticon={ icon }\n\t\t\t\tcloseLabel={ closeLabel }\n\t\t\t\theader={ header }\n\t\t\t\theaderClassName={ headerClassName }\n\t\t\t\tpanelClassName={ panelClassName }\n\t\t\t\tshowIconLabels={ showIconLabels }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</ComplementaryArea>\n\t\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t\tscope=\"core/edit-site\"\n\t\t\t\tidentifier={ identifier }\n\t\t\t\ticon={ icon }\n\t\t\t>\n\t\t\t\t{ title }\n\t\t\t</ComplementaryAreaMoreMenuItem>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport const styles = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z\" />\n\t</SVG>\n);\n\nexport default styles;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Icon } from '@wordpress/components';\n\nexport function IconWithCurrentColor( { className, ...props } ) {\n\treturn (\n\t\t<Icon\n\t\t\tclassName={ classnames(\n\t\t\t\tclassName,\n\t\t\t\t'edit-site-global-styles-icon-with-current-color'\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalNavigatorButton as NavigatorButton,\n\t__experimentalNavigatorBackButton as NavigatorBackButton,\n\t__experimentalItem as Item,\n\tFlexItem,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { IconWithCurrentColor } from './icon-with-current-color';\n\nfunction GenericNavigationButton( { icon, children, ...props } ) {\n\treturn (\n\t\t<Item { ...props }>\n\t\t\t{ icon && (\n\t\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t\t<IconWithCurrentColor icon={ icon } size={ 24 } />\n\t\t\t\t\t<FlexItem>{ children }</FlexItem>\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t\t{ ! icon && children }\n\t\t</Item>\n\t);\n}\n\nfunction NavigationButtonAsItem( props ) {\n\treturn <NavigatorButton as={ GenericNavigationButton } { ...props } />;\n}\n\nfunction NavigationBackButtonAsItem( props ) {\n\treturn <NavigatorBackButton as={ GenericNavigationButton } { ...props } />;\n}\n\nexport { NavigationButtonAsItem, NavigationBackButtonAsItem };\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst typography = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M6.9 7L3 17.8h1.7l1-2.8h4.1l1 2.8h1.7L8.6 7H6.9zm-.7 6.6l1.5-4.3 1.5 4.3h-3zM21.6 17c-.1.1-.2.2-.3.2-.1.1-.2.1-.4.1s-.3-.1-.4-.2c-.1-.1-.1-.3-.1-.6V12c0-.5 0-1-.1-1.4-.1-.4-.3-.7-.5-1-.2-.2-.5-.4-.9-.5-.4 0-.8-.1-1.3-.1s-1 .1-1.4.2c-.4.1-.7.3-1 .4-.2.2-.4.3-.6.5-.1.2-.2.4-.2.7 0 .3.1.5.2.8.2.2.4.3.8.3.3 0 .6-.1.8-.3.2-.2.3-.4.3-.7 0-.3-.1-.5-.2-.7-.2-.2-.4-.3-.6-.4.2-.2.4-.3.7-.4.3-.1.6-.1.8-.1.3 0 .6 0 .8.1.2.1.4.3.5.5.1.2.2.5.2.9v1.1c0 .3-.1.5-.3.6-.2.2-.5.3-.9.4-.3.1-.7.3-1.1.4-.4.1-.8.3-1.1.5-.3.2-.6.4-.8.7-.2.3-.3.7-.3 1.2 0 .6.2 1.1.5 1.4.3.4.9.5 1.6.5.5 0 1-.1 1.4-.3.4-.2.8-.6 1.1-1.1 0 .4.1.7.3 1 .2.3.6.4 1.2.4.4 0 .7-.1.9-.2.2-.1.5-.3.7-.4h-.3zm-3-.9c-.2.4-.5.7-.8.8-.3.2-.6.2-.8.2-.4 0-.6-.1-.9-.3-.2-.2-.3-.6-.3-1.1 0-.5.1-.9.3-1.2s.5-.5.8-.7c.3-.2.7-.3 1-.5.3-.1.6-.3.7-.6v3.4z\" />\n\t</SVG>\n);\n\nexport default typography;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst color = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3zm-5.1 7.6c-2.5 0-4.6-2.1-4.6-4.6 0-.3.1-1 .8-2.3.5-.9 1.1-1.9 2-3.1.7-.9 1.3-1.7 1.8-2.3.7.8 1.3 1.6 1.8 2.3.8 1.1 1.5 2.2 2 3.1.7 1.3.8 2 .8 2.3 0 2.5-2.1 4.6-4.6 4.6z\" />\n\t</SVG>\n);\n\nexport default color;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst layout = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n\nexport default layout;\n","var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n","var o=function(o){var t=o/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},t=function(t){return.2126*o(t.r)+.7152*o(t.g)+.0722*o(t.b)};export default function(o){o.prototype.luminance=function(){return o=t(this.rgba),void 0===(r=2)&&(r=0),void 0===n&&(n=Math.pow(10,r)),Math.round(n*o)/n+0;var o,r,n},o.prototype.contrast=function(r){void 0===r&&(r=\"#FFF\");var n,a,i,e,v,u,d,c=r instanceof o?r:new o(r);return e=this.rgba,v=c.toRgb(),u=t(e),d=t(v),n=u>d?(u+.05)/(d+.05):(d+.05)/(u+.05),void 0===(a=2)&&(a=0),void 0===i&&(i=Math.pow(10,a)),Math.floor(i*n)/i+0},o.prototype.isReadable=function(o,t){return void 0===o&&(o=\"#FFF\"),void 0===t&&(t={}),this.contrast(o)>=(e=void 0===(i=(r=t).size)?\"normal\":i,\"AAA\"===(a=void 0===(n=r.level)?\"AA\":n)&&\"normal\"===e?7:\"AA\"===a&&\"large\"===e?3:4.5);var r,n,a,i,e}}\n","/**\n * The fluid utilities must match the backend equivalent.\n * See: gutenberg_get_typography_font_size_value() in lib/block-supports/typography.php\n * ---------------------------------------------------------------\n */\n\n/**\n * WordPress dependencies\n */\nimport { getComputedFluidTypographyValue } from '@wordpress/block-editor';\n\n/**\n * @typedef {Object} FluidPreset\n * @property {string|undefined}  max A maximum font size value.\n * @property {?string|undefined} min A minimum font size value.\n */\n\n/**\n * @typedef {Object} Preset\n * @property {?string|?number}               size  A default font size.\n * @property {string}                        name  A font size name, displayed in the UI.\n * @property {string}                        slug  A font size slug\n * @property {boolean|FluidPreset|undefined} fluid A font size slug\n */\n\n/**\n * Returns a font-size value based on a given font-size preset.\n * Takes into account fluid typography parameters and attempts to return a css formula depending on available, valid values.\n *\n * @param {Preset}  preset\n * @param {Object}  typographySettings\n * @param {boolean} typographySettings.fluid Whether fluid typography is enabled.\n *\n * @return {string|*} A font-size value or the value of preset.size.\n */\nexport function getTypographyFontSizeValue( preset, typographySettings ) {\n\tconst { size: defaultSize } = preset;\n\n\t/*\n\t * Catches falsy values and 0/'0'.\n\t * Fluid calculations cannot be performed on 0.\n\t */\n\tif ( ! defaultSize || '0' === defaultSize ) {\n\t\treturn defaultSize;\n\t}\n\n\tif ( true !== typographySettings?.fluid ) {\n\t\treturn defaultSize;\n\t}\n\n\t// A font size has explicitly bypassed fluid calculations.\n\tif ( false === preset?.fluid ) {\n\t\treturn defaultSize;\n\t}\n\n\tconst fluidFontSizeValue = getComputedFluidTypographyValue( {\n\t\tminimumFontSize: preset?.fluid?.min,\n\t\tmaximumFontSize: preset?.fluid?.max,\n\t\tfontSize: defaultSize,\n\t} );\n\n\tif ( !! fluidFontSizeValue ) {\n\t\treturn fluidFontSizeValue;\n\t}\n\n\treturn defaultSize;\n}\n","/**\n * External dependencies\n */\nimport { get, find } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { getTypographyFontSizeValue } from './typography-utils';\n\n/* Supporting data. */\nexport const ROOT_BLOCK_NAME = 'root';\nexport const ROOT_BLOCK_SELECTOR = 'body';\nexport const ROOT_BLOCK_SUPPORTS = [\n\t'background',\n\t'backgroundColor',\n\t'color',\n\t'linkColor',\n\t'buttonColor',\n\t'fontFamily',\n\t'fontSize',\n\t'fontStyle',\n\t'fontWeight',\n\t'lineHeight',\n\t'textDecoration',\n\t'textTransform',\n\t'padding',\n];\n\nexport const PRESET_METADATA = [\n\t{\n\t\tpath: [ 'color', 'palette' ],\n\t\tvalueKey: 'color',\n\t\tcssVarInfix: 'color',\n\t\tclasses: [\n\t\t\t{ classSuffix: 'color', propertyName: 'color' },\n\t\t\t{\n\t\t\t\tclassSuffix: 'background-color',\n\t\t\t\tpropertyName: 'background-color',\n\t\t\t},\n\t\t\t{\n\t\t\t\tclassSuffix: 'border-color',\n\t\t\t\tpropertyName: 'border-color',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'color', 'gradients' ],\n\t\tvalueKey: 'gradient',\n\t\tcssVarInfix: 'gradient',\n\t\tclasses: [\n\t\t\t{\n\t\t\t\tclassSuffix: 'gradient-background',\n\t\t\t\tpropertyName: 'background',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'color', 'duotone' ],\n\t\tcssVarInfix: 'duotone',\n\t\tvalueFunc: ( { slug } ) => `url( '#wp-duotone-${ slug }' )`,\n\t\tclasses: [],\n\t},\n\t{\n\t\tpath: [ 'typography', 'fontSizes' ],\n\t\tvalueFunc: ( preset, { typography: typographySettings } ) =>\n\t\t\tgetTypographyFontSizeValue( preset, typographySettings ),\n\t\tvalueKey: 'size',\n\t\tcssVarInfix: 'font-size',\n\t\tclasses: [ { classSuffix: 'font-size', propertyName: 'font-size' } ],\n\t},\n\t{\n\t\tpath: [ 'typography', 'fontFamilies' ],\n\t\tvalueKey: 'fontFamily',\n\t\tcssVarInfix: 'font-family',\n\t\tclasses: [\n\t\t\t{ classSuffix: 'font-family', propertyName: 'font-family' },\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'spacing', 'spacingSizes' ],\n\t\tvalueKey: 'size',\n\t\tcssVarInfix: 'spacing',\n\t\tvalueFunc: ( { size } ) => size,\n\t\tclasses: [],\n\t},\n];\n\nconst STYLE_PATH_TO_CSS_VAR_INFIX = {\n\t'color.background': 'color',\n\t'color.text': 'color',\n\t'elements.link.color.text': 'color',\n\t'elements.button.color.text': 'color',\n\t'elements.button.backgroundColor': 'background-color',\n\t'elements.heading.color': 'color',\n\t'elements.heading.backgroundColor': 'background-color',\n\t'elements.heading.gradient': 'gradient',\n\t'color.gradient': 'gradient',\n\t'typography.fontSize': 'font-size',\n\t'typography.fontFamily': 'font-family',\n};\n\nfunction findInPresetsBy(\n\tfeatures,\n\tblockName,\n\tpresetPath,\n\tpresetProperty,\n\tpresetValueValue\n) {\n\t// Block presets take priority above root level presets.\n\tconst orderedPresetsByOrigin = [\n\t\tget( features, [ 'blocks', blockName, ...presetPath ] ),\n\t\tget( features, presetPath ),\n\t];\n\n\tfor ( const presetByOrigin of orderedPresetsByOrigin ) {\n\t\tif ( presetByOrigin ) {\n\t\t\t// Preset origins ordered by priority.\n\t\t\tconst origins = [ 'custom', 'theme', 'default' ];\n\t\t\tfor ( const origin of origins ) {\n\t\t\t\tconst presets = presetByOrigin[ origin ];\n\t\t\t\tif ( presets ) {\n\t\t\t\t\tconst presetObject = find(\n\t\t\t\t\t\tpresets,\n\t\t\t\t\t\t( preset ) =>\n\t\t\t\t\t\t\tpreset[ presetProperty ] === presetValueValue\n\t\t\t\t\t);\n\t\t\t\t\tif ( presetObject ) {\n\t\t\t\t\t\tif ( presetProperty === 'slug' ) {\n\t\t\t\t\t\t\treturn presetObject;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// If there is a highest priority preset with the same slug but different value the preset we found was overwritten and should be ignored.\n\t\t\t\t\t\tconst highestPresetObjectWithSameSlug = findInPresetsBy(\n\t\t\t\t\t\t\tfeatures,\n\t\t\t\t\t\t\tblockName,\n\t\t\t\t\t\t\tpresetPath,\n\t\t\t\t\t\t\t'slug',\n\t\t\t\t\t\t\tpresetObject.slug\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\thighestPresetObjectWithSameSlug[\n\t\t\t\t\t\t\t\tpresetProperty\n\t\t\t\t\t\t\t] === presetObject[ presetProperty ]\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn presetObject;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function getPresetVariableFromValue(\n\tfeatures,\n\tblockName,\n\tvariableStylePath,\n\tpresetPropertyValue\n) {\n\tif ( ! presetPropertyValue ) {\n\t\treturn presetPropertyValue;\n\t}\n\n\tconst cssVarInfix = STYLE_PATH_TO_CSS_VAR_INFIX[ variableStylePath ];\n\n\tconst metadata = find( PRESET_METADATA, [ 'cssVarInfix', cssVarInfix ] );\n\n\tif ( ! metadata ) {\n\t\t// The property doesn't have preset data\n\t\t// so the value should be returned as it is.\n\t\treturn presetPropertyValue;\n\t}\n\tconst { valueKey, path } = metadata;\n\n\tconst presetObject = findInPresetsBy(\n\t\tfeatures,\n\t\tblockName,\n\t\tpath,\n\t\tvalueKey,\n\t\tpresetPropertyValue\n\t);\n\n\tif ( ! presetObject ) {\n\t\t// Value wasn't found in the presets,\n\t\t// so it must be a custom value.\n\t\treturn presetPropertyValue;\n\t}\n\n\treturn `var:preset|${ cssVarInfix }|${ presetObject.slug }`;\n}\n\nfunction getValueFromPresetVariable(\n\tfeatures,\n\tblockName,\n\tvariable,\n\t[ presetType, slug ]\n) {\n\tconst metadata = find( PRESET_METADATA, [ 'cssVarInfix', presetType ] );\n\tif ( ! metadata ) {\n\t\treturn variable;\n\t}\n\n\tconst presetObject = findInPresetsBy(\n\t\tfeatures.settings,\n\t\tblockName,\n\t\tmetadata.path,\n\t\t'slug',\n\t\tslug\n\t);\n\n\tif ( presetObject ) {\n\t\tconst { valueKey } = metadata;\n\t\tconst result = presetObject[ valueKey ];\n\t\treturn getValueFromVariable( features, blockName, result );\n\t}\n\n\treturn variable;\n}\n\nfunction getValueFromCustomVariable( features, blockName, variable, path ) {\n\tconst result =\n\t\tget( features.settings, [ 'blocks', blockName, 'custom', ...path ] ) ??\n\t\tget( features.settings, [ 'custom', ...path ] );\n\tif ( ! result ) {\n\t\treturn variable;\n\t}\n\t// A variable may reference another variable so we need recursion until we find the value.\n\treturn getValueFromVariable( features, blockName, result );\n}\n\n/**\n * Attempts to fetch the value of a theme.json CSS variable.\n *\n * @param {Object}   features  GlobalStylesContext config, e.g., user, base or merged. Represents the theme.json tree.\n * @param {string}   blockName The name of a block as represented in the styles property. E.g., 'root' for root-level, and 'core/${blockName}' for blocks.\n * @param {string|*} variable  An incoming style value. A CSS var value is expected, but it could be any value.\n * @return {string|*|{ref}} The value of the CSS var, if found. If not found, the passed variable argument.\n */\nexport function getValueFromVariable( features, blockName, variable ) {\n\tif ( ! variable || typeof variable !== 'string' ) {\n\t\tif ( variable?.ref && typeof variable?.ref === 'string' ) {\n\t\t\tconst refPath = variable.ref.split( '.' );\n\t\t\tvariable = get( features, refPath );\n\t\t\t// Presence of another ref indicates a reference to another dynamic value.\n\t\t\t// Pointing to another dynamic value is not supported.\n\t\t\tif ( ! variable || !! variable?.ref ) {\n\t\t\t\treturn variable;\n\t\t\t}\n\t\t} else {\n\t\t\treturn variable;\n\t\t}\n\t}\n\tconst USER_VALUE_PREFIX = 'var:';\n\tconst THEME_VALUE_PREFIX = 'var(--wp--';\n\tconst THEME_VALUE_SUFFIX = ')';\n\n\tlet parsedVar;\n\n\tif ( variable.startsWith( USER_VALUE_PREFIX ) ) {\n\t\tparsedVar = variable.slice( USER_VALUE_PREFIX.length ).split( '|' );\n\t} else if (\n\t\tvariable.startsWith( THEME_VALUE_PREFIX ) &&\n\t\tvariable.endsWith( THEME_VALUE_SUFFIX )\n\t) {\n\t\tparsedVar = variable\n\t\t\t.slice( THEME_VALUE_PREFIX.length, -THEME_VALUE_SUFFIX.length )\n\t\t\t.split( '--' );\n\t} else {\n\t\t// We don't know how to parse the value: either is raw of uses complex CSS such as `calc(1px * var(--wp--variable) )`\n\t\treturn variable;\n\t}\n\n\tconst [ type, ...path ] = parsedVar;\n\tif ( type === 'preset' ) {\n\t\treturn getValueFromPresetVariable(\n\t\t\tfeatures,\n\t\t\tblockName,\n\t\t\tvariable,\n\t\t\tpath\n\t\t);\n\t}\n\tif ( type === 'custom' ) {\n\t\treturn getValueFromCustomVariable(\n\t\t\tfeatures,\n\t\t\tblockName,\n\t\t\tvariable,\n\t\t\tpath\n\t\t);\n\t}\n\treturn variable;\n}\n\n/**\n * Function that scopes a selector with another one. This works a bit like\n * SCSS nesting except the `&` operator isn't supported.\n *\n * @example\n * ```js\n * const scope = '.a, .b .c';\n * const selector = '> .x, .y';\n * const merged = scopeSelector( scope, selector );\n * // merged is '.a > .x, .a .y, .b .c > .x, .b .c .y'\n * ```\n *\n * @param {string} scope    Selector to scope to.\n * @param {string} selector Original selector.\n *\n * @return {string} Scoped selector.\n */\nexport function scopeSelector( scope, selector ) {\n\tconst scopes = scope.split( ',' );\n\tconst selectors = selector.split( ',' );\n\n\tconst selectorsScoped = [];\n\tscopes.forEach( ( outer ) => {\n\t\tselectors.forEach( ( inner ) => {\n\t\t\tselectorsScoped.push( `${ outer.trim() } ${ inner.trim() }` );\n\t\t} );\n\t} );\n\n\treturn selectorsScoped.join( ', ' );\n}\n","/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\nexport const DEFAULT_GLOBAL_STYLES_CONTEXT = {\n\tuser: {},\n\tbase: {},\n\tmerged: {},\n\tsetUserConfig: () => {},\n};\n\nexport const GlobalStylesContext = createContext(\n\tDEFAULT_GLOBAL_STYLES_CONTEXT\n);\n","/**\n * External dependencies\n */\nimport { get, set, isEqual } from 'lodash';\nimport { colord, extend } from 'colord';\nimport a11yPlugin from 'colord/plugins/a11y';\n\n/**\n * WordPress dependencies\n */\nimport { _x } from '@wordpress/i18n';\nimport { useContext, useCallback, useMemo } from '@wordpress/element';\nimport {\n\tgetBlockType,\n\t__EXPERIMENTAL_PATHS_WITH_MERGE as PATHS_WITH_MERGE,\n\t__EXPERIMENTAL_STYLE_PROPERTY as STYLE_PROPERTY,\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { getValueFromVariable, getPresetVariableFromValue } from './utils';\nimport { GlobalStylesContext } from './context';\n\n// Enable colord's a11y plugin.\nextend( [ a11yPlugin ] );\n\nconst EMPTY_CONFIG = { settings: {}, styles: {} };\n\nexport const useGlobalStylesReset = () => {\n\tconst { user: config, setUserConfig } = useContext( GlobalStylesContext );\n\tconst canReset = !! config && ! isEqual( config, EMPTY_CONFIG );\n\treturn [\n\t\tcanReset,\n\t\tuseCallback(\n\t\t\t() => setUserConfig( () => EMPTY_CONFIG ),\n\t\t\t[ setUserConfig ]\n\t\t),\n\t];\n};\n\nexport function useSetting( path, blockName, source = 'all' ) {\n\tconst {\n\t\tmerged: mergedConfig,\n\t\tbase: baseConfig,\n\t\tuser: userConfig,\n\t\tsetUserConfig,\n\t} = useContext( GlobalStylesContext );\n\n\tconst fullPath = ! blockName\n\t\t? `settings.${ path }`\n\t\t: `settings.blocks.${ blockName }.${ path }`;\n\n\tconst setSetting = ( newValue ) => {\n\t\tsetUserConfig( ( currentConfig ) => {\n\t\t\t// Deep clone `currentConfig` to avoid mutating it later.\n\t\t\tconst newUserConfig = JSON.parse( JSON.stringify( currentConfig ) );\n\t\t\tconst pathToSet = PATHS_WITH_MERGE[ path ]\n\t\t\t\t? fullPath + '.custom'\n\t\t\t\t: fullPath;\n\t\t\tset( newUserConfig, pathToSet, newValue );\n\n\t\t\treturn newUserConfig;\n\t\t} );\n\t};\n\n\tconst getSettingValueForContext = ( name ) => {\n\t\tconst currentPath = ! name\n\t\t\t? `settings.${ path }`\n\t\t\t: `settings.blocks.${ name }.${ path }`;\n\n\t\tconst getSettingValue = ( configToUse ) => {\n\t\t\tconst result = get( configToUse, currentPath );\n\t\t\tif ( PATHS_WITH_MERGE[ path ] ) {\n\t\t\t\treturn result?.custom ?? result?.theme ?? result?.default;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\t\tlet result;\n\t\tswitch ( source ) {\n\t\t\tcase 'all':\n\t\t\t\tresult = getSettingValue( mergedConfig );\n\t\t\t\tbreak;\n\t\t\tcase 'user':\n\t\t\t\tresult = getSettingValue( userConfig );\n\t\t\t\tbreak;\n\t\t\tcase 'base':\n\t\t\t\tresult = getSettingValue( baseConfig );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow 'Unsupported source';\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Unlike styles settings get inherited from top level settings.\n\tconst resultWithFallback =\n\t\tgetSettingValueForContext( blockName ) ?? getSettingValueForContext();\n\n\treturn [ resultWithFallback, setSetting ];\n}\n\nexport function useStyle( path, blockName, source = 'all' ) {\n\tconst {\n\t\tmerged: mergedConfig,\n\t\tbase: baseConfig,\n\t\tuser: userConfig,\n\t\tsetUserConfig,\n\t} = useContext( GlobalStylesContext );\n\tconst finalPath = ! blockName\n\t\t? `styles.${ path }`\n\t\t: `styles.blocks.${ blockName }.${ path }`;\n\n\tconst setStyle = ( newValue ) => {\n\t\tsetUserConfig( ( currentConfig ) => {\n\t\t\t// Deep clone `currentConfig` to avoid mutating it later.\n\t\t\tconst newUserConfig = JSON.parse( JSON.stringify( currentConfig ) );\n\t\t\tset(\n\t\t\t\tnewUserConfig,\n\t\t\t\tfinalPath,\n\t\t\t\tgetPresetVariableFromValue(\n\t\t\t\t\tmergedConfig.settings,\n\t\t\t\t\tblockName,\n\t\t\t\t\tpath,\n\t\t\t\t\tnewValue\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn newUserConfig;\n\t\t} );\n\t};\n\n\tlet result;\n\tswitch ( source ) {\n\t\tcase 'all':\n\t\t\tresult = getValueFromVariable(\n\t\t\t\tmergedConfig,\n\t\t\t\tblockName,\n\t\t\t\tget( userConfig, finalPath ) ?? get( baseConfig, finalPath )\n\t\t\t);\n\t\t\tbreak;\n\t\tcase 'user':\n\t\t\tresult = getValueFromVariable(\n\t\t\t\tmergedConfig,\n\t\t\t\tblockName,\n\t\t\t\tget( userConfig, finalPath )\n\t\t\t);\n\t\t\tbreak;\n\t\tcase 'base':\n\t\t\tresult = getValueFromVariable(\n\t\t\t\tbaseConfig,\n\t\t\t\tblockName,\n\t\t\t\tget( baseConfig, finalPath )\n\t\t\t);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow 'Unsupported source';\n\t}\n\n\treturn [ result, setStyle ];\n}\n\nconst ROOT_BLOCK_SUPPORTS = [\n\t'background',\n\t'backgroundColor',\n\t'color',\n\t'linkColor',\n\t'buttonColor',\n\t'fontFamily',\n\t'fontSize',\n\t'fontStyle',\n\t'fontWeight',\n\t'lineHeight',\n\t'textDecoration',\n\t'padding',\n\t'contentSize',\n\t'wideSize',\n\t'blockGap',\n];\n\nexport function getSupportedGlobalStylesPanels( name ) {\n\tif ( ! name ) {\n\t\treturn ROOT_BLOCK_SUPPORTS;\n\t}\n\n\tconst blockType = getBlockType( name );\n\n\tif ( ! blockType ) {\n\t\treturn [];\n\t}\n\n\tconst supportKeys = [];\n\n\t// Check for blockGap support.\n\t// Block spacing support doesn't map directly to a single style property, so needs to be handled separately.\n\t// Also, only allow `blockGap` support if serialization has not been skipped, to be sure global spacing can be applied.\n\tif (\n\t\tblockType?.supports?.spacing?.blockGap &&\n\t\tblockType?.supports?.spacing?.__experimentalSkipSerialization !==\n\t\t\ttrue &&\n\t\t! blockType?.supports?.spacing?.__experimentalSkipSerialization?.some?.(\n\t\t\t( spacingType ) => spacingType === 'blockGap'\n\t\t)\n\t) {\n\t\tsupportKeys.push( 'blockGap' );\n\t}\n\n\tObject.keys( STYLE_PROPERTY ).forEach( ( styleName ) => {\n\t\tif ( ! STYLE_PROPERTY[ styleName ].support ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Opting out means that, for certain support keys like background color,\n\t\t// blocks have to explicitly set the support value false. If the key is\n\t\t// unset, we still enable it.\n\t\tif ( STYLE_PROPERTY[ styleName ].requiresOptOut ) {\n\t\t\tif (\n\t\t\t\tSTYLE_PROPERTY[ styleName ].support[ 0 ] in\n\t\t\t\t\tblockType.supports &&\n\t\t\t\tget(\n\t\t\t\t\tblockType.supports,\n\t\t\t\t\tSTYLE_PROPERTY[ styleName ].support\n\t\t\t\t) !== false\n\t\t\t) {\n\t\t\t\treturn supportKeys.push( styleName );\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tget(\n\t\t\t\tblockType.supports,\n\t\t\t\tSTYLE_PROPERTY[ styleName ].support,\n\t\t\t\tfalse\n\t\t\t)\n\t\t) {\n\t\t\treturn supportKeys.push( styleName );\n\t\t}\n\t} );\n\n\treturn supportKeys;\n}\n\nexport function useColorsPerOrigin( name ) {\n\tconst [ customColors ] = useSetting( 'color.palette.custom', name );\n\tconst [ themeColors ] = useSetting( 'color.palette.theme', name );\n\tconst [ defaultColors ] = useSetting( 'color.palette.default', name );\n\tconst [ shouldDisplayDefaultColors ] = useSetting( 'color.defaultPalette' );\n\n\treturn useMemo( () => {\n\t\tconst result = [];\n\t\tif ( themeColors && themeColors.length ) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Theme',\n\t\t\t\t\t'Indicates this palette comes from the theme.'\n\t\t\t\t),\n\t\t\t\tcolors: themeColors,\n\t\t\t} );\n\t\t}\n\t\tif (\n\t\t\tshouldDisplayDefaultColors &&\n\t\t\tdefaultColors &&\n\t\t\tdefaultColors.length\n\t\t) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Default',\n\t\t\t\t\t'Indicates this palette comes from WordPress.'\n\t\t\t\t),\n\t\t\t\tcolors: defaultColors,\n\t\t\t} );\n\t\t}\n\t\tif ( customColors && customColors.length ) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Custom',\n\t\t\t\t\t'Indicates this palette is created by the user.'\n\t\t\t\t),\n\t\t\t\tcolors: customColors,\n\t\t\t} );\n\t\t}\n\t\treturn result;\n\t}, [ customColors, themeColors, defaultColors ] );\n}\n\nexport function useGradientsPerOrigin( name ) {\n\tconst [ customGradients ] = useSetting( 'color.gradients.custom', name );\n\tconst [ themeGradients ] = useSetting( 'color.gradients.theme', name );\n\tconst [ defaultGradients ] = useSetting( 'color.gradients.default', name );\n\tconst [ shouldDisplayDefaultGradients ] = useSetting(\n\t\t'color.defaultGradients'\n\t);\n\n\treturn useMemo( () => {\n\t\tconst result = [];\n\t\tif ( themeGradients && themeGradients.length ) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Theme',\n\t\t\t\t\t'Indicates this palette comes from the theme.'\n\t\t\t\t),\n\t\t\t\tgradients: themeGradients,\n\t\t\t} );\n\t\t}\n\t\tif (\n\t\t\tshouldDisplayDefaultGradients &&\n\t\t\tdefaultGradients &&\n\t\t\tdefaultGradients.length\n\t\t) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Default',\n\t\t\t\t\t'Indicates this palette comes from WordPress.'\n\t\t\t\t),\n\t\t\t\tgradients: defaultGradients,\n\t\t\t} );\n\t\t}\n\t\tif ( customGradients && customGradients.length ) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Custom',\n\t\t\t\t\t'Indicates this palette is created by the user.'\n\t\t\t\t),\n\t\t\t\tgradients: customGradients,\n\t\t\t} );\n\t\t}\n\t\treturn result;\n\t}, [ customGradients, themeGradients, defaultGradients ] );\n}\n\nexport function useColorRandomizer( name ) {\n\tconst [ themeColors, setThemeColors ] = useSetting(\n\t\t'color.palette.theme',\n\t\tname\n\t);\n\n\tfunction randomizeColors() {\n\t\t/* eslint-disable no-restricted-syntax */\n\t\tconst randomRotationValue = Math.floor( Math.random() * 225 );\n\t\t/* eslint-enable no-restricted-syntax */\n\n\t\tconst newColors = themeColors.map( ( colorObject ) => {\n\t\t\tconst { color } = colorObject;\n\t\t\tconst newColor = colord( color )\n\t\t\t\t.rotate( randomRotationValue )\n\t\t\t\t.toHex();\n\n\t\t\treturn {\n\t\t\t\t...colorObject,\n\t\t\t\tcolor: newColor,\n\t\t\t};\n\t\t} );\n\n\t\tsetThemeColors( newColors );\n\t}\n\n\treturn window.__experimentalEnableColorRandomizer\n\t\t? [ randomizeColors ]\n\t\t: [];\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalBorderRadiusControl as BorderRadiusControl } from '@wordpress/block-editor';\nimport {\n\t__experimentalBorderBoxControl as BorderBoxControl,\n\t__experimentalHasSplitBorders as hasSplitBorders,\n\t__experimentalIsDefinedBorder as isDefinedBorder,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseColorsPerOrigin,\n\tuseSetting,\n\tuseStyle,\n} from './hooks';\n\nexport function useHasBorderPanel( name ) {\n\tconst controls = [\n\t\tuseHasBorderColorControl( name ),\n\t\tuseHasBorderRadiusControl( name ),\n\t\tuseHasBorderStyleControl( name ),\n\t\tuseHasBorderWidthControl( name ),\n\t];\n\n\treturn controls.some( Boolean );\n}\n\nfunction useHasBorderColorControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'border.color', name )[ 0 ] &&\n\t\tsupports.includes( 'borderColor' )\n\t);\n}\n\nfunction useHasBorderRadiusControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'border.radius', name )[ 0 ] &&\n\t\tsupports.includes( 'borderRadius' )\n\t);\n}\n\nfunction useHasBorderStyleControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'border.style', name )[ 0 ] &&\n\t\tsupports.includes( 'borderStyle' )\n\t);\n}\n\nfunction useHasBorderWidthControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'border.width', name )[ 0 ] &&\n\t\tsupports.includes( 'borderWidth' )\n\t);\n}\n\nfunction applyFallbackStyle( border ) {\n\tif ( ! border ) {\n\t\treturn border;\n\t}\n\n\tif ( ! border.style && ( border.color || border.width ) ) {\n\t\treturn { ...border, style: 'solid' };\n\t}\n\n\treturn border;\n}\n\nfunction applyAllFallbackStyles( border ) {\n\tif ( ! border ) {\n\t\treturn border;\n\t}\n\n\tif ( hasSplitBorders( border ) ) {\n\t\treturn {\n\t\t\ttop: applyFallbackStyle( border.top ),\n\t\t\tright: applyFallbackStyle( border.right ),\n\t\t\tbottom: applyFallbackStyle( border.bottom ),\n\t\t\tleft: applyFallbackStyle( border.left ),\n\t\t};\n\t}\n\n\treturn applyFallbackStyle( border );\n}\n\nexport default function BorderPanel( { name } ) {\n\t// To better reflect if the user has customized a value we need to\n\t// ensure the style value being checked is from the `user` origin.\n\tconst [ userBorderStyles ] = useStyle( 'border', name, 'user' );\n\tconst [ border, setBorder ] = useStyle( 'border', name );\n\tconst colors = useColorsPerOrigin( name );\n\n\tconst showBorderColor = useHasBorderColorControl( name );\n\tconst showBorderStyle = useHasBorderStyleControl( name );\n\tconst showBorderWidth = useHasBorderWidthControl( name );\n\n\t// Border radius.\n\tconst showBorderRadius = useHasBorderRadiusControl( name );\n\tconst [ borderRadiusValues, setBorderRadius ] = useStyle(\n\t\t'border.radius',\n\t\tname\n\t);\n\tconst hasBorderRadius = () => {\n\t\tconst borderValues = userBorderStyles?.radius;\n\t\tif ( typeof borderValues === 'object' ) {\n\t\t\treturn Object.entries( borderValues ).some( Boolean );\n\t\t}\n\t\treturn !! borderValues;\n\t};\n\n\tconst resetBorder = () => {\n\t\tif ( hasBorderRadius() ) {\n\t\t\treturn setBorder( { radius: userBorderStyles.radius } );\n\t\t}\n\n\t\tsetBorder( undefined );\n\t};\n\n\tconst resetAll = useCallback( () => setBorder( undefined ), [ setBorder ] );\n\tconst onBorderChange = useCallback(\n\t\t( newBorder ) => {\n\t\t\t// Ensure we have a visible border style when a border width or\n\t\t\t// color is being selected.\n\t\t\tconst newBorderWithStyle = applyAllFallbackStyles( newBorder );\n\n\t\t\t// As we can't conditionally generate styles based on if other\n\t\t\t// style properties have been set we need to force split border\n\t\t\t// definitions for user set border styles. Border radius is derived\n\t\t\t// from the same property i.e. `border.radius` if it is a string\n\t\t\t// that is used. The longhand border radii styles are only generated\n\t\t\t// if that property is an object.\n\t\t\t//\n\t\t\t// For borders (color, style, and width) those are all properties on\n\t\t\t// the `border` style property. This means if the theme.json defined\n\t\t\t// split borders and the user condenses them into a flat border or\n\t\t\t// vice-versa we'd get both sets of styles which would conflict.\n\t\t\tconst updatedBorder = ! hasSplitBorders( newBorderWithStyle )\n\t\t\t\t? {\n\t\t\t\t\t\ttop: newBorderWithStyle,\n\t\t\t\t\t\tright: newBorderWithStyle,\n\t\t\t\t\t\tbottom: newBorderWithStyle,\n\t\t\t\t\t\tleft: newBorderWithStyle,\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tcolor: null,\n\t\t\t\t\t\tstyle: null,\n\t\t\t\t\t\twidth: null,\n\t\t\t\t\t\t...newBorderWithStyle,\n\t\t\t\t  };\n\n\t\t\t// As radius is maintained separately to color, style, and width\n\t\t\t// maintain its value. Undefined values here will be cleaned when\n\t\t\t// global styles are saved.\n\t\t\tsetBorder( { radius: border?.radius, ...updatedBorder } );\n\t\t},\n\t\t[ setBorder ]\n\t);\n\n\treturn (\n\t\t<ToolsPanel label={ __( 'Border' ) } resetAll={ resetAll }>\n\t\t\t{ ( showBorderWidth || showBorderColor ) && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ () => isDefinedBorder( userBorderStyles ) }\n\t\t\t\t\tlabel={ __( 'Border' ) }\n\t\t\t\t\tonDeselect={ () => resetBorder() }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<BorderBoxControl\n\t\t\t\t\t\tcolors={ colors }\n\t\t\t\t\t\tenableAlpha={ true }\n\t\t\t\t\t\tenableStyle={ showBorderStyle }\n\t\t\t\t\t\tonChange={ onBorderChange }\n\t\t\t\t\t\tpopoverOffset={ 40 }\n\t\t\t\t\t\tpopoverPlacement=\"left-start\"\n\t\t\t\t\t\tvalue={ border }\n\t\t\t\t\t\t__experimentalHasMultipleOrigins={ true }\n\t\t\t\t\t\t__experimentalIsRenderedInSidebar={ true }\n\t\t\t\t\t\tsize={ '__unstable-large' }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showBorderRadius && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasBorderRadius }\n\t\t\t\t\tlabel={ __( 'Radius' ) }\n\t\t\t\t\tonDeselect={ () => setBorderRadius( undefined ) }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<BorderRadiusControl\n\t\t\t\t\t\tvalues={ borderRadiusValues }\n\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\tsetBorderRadius( value || undefined );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t</ToolsPanel>\n\t);\n}\n","/**\n * Internal dependencies\n */\n\nimport { getSupportedGlobalStylesPanels } from './hooks';\n\nexport function useHasColorPanel( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tsupports.includes( 'color' ) ||\n\t\tsupports.includes( 'backgroundColor' ) ||\n\t\tsupports.includes( 'background' ) ||\n\t\tsupports.includes( 'linkColor' )\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst positionCenter = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M7 9v6h10V9H7zM5 19.8h14v-1.5H5v1.5zM5 4.3v1.5h14V4.3H5z\" />\n\t</SVG>\n);\n\nexport default positionCenter;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst stretchWide = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M5 9v6h14V9H5zm11-4.8H8v1.5h8V4.2zM8 19.8h8v-1.5H8v1.5z\" />\n\t</SVG>\n);\n\nexport default stretchWide;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalBoxControl as BoxControl,\n\t__experimentalHStack as HStack,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalView as View,\n} from '@wordpress/components';\nimport {\n\t__experimentalUseCustomSides as useCustomSides,\n\t__experimentalHeightControl as HeightControl,\n\t__experimentalSpacingSizesControl as SpacingSizesControl,\n} from '@wordpress/block-editor';\nimport { Icon, positionCenter, stretchWide } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getSupportedGlobalStylesPanels, useSetting, useStyle } from './hooks';\n\nconst AXIAL_SIDES = [ 'horizontal', 'vertical' ];\n\nexport function useHasDimensionsPanel( name ) {\n\tconst hasContentSize = useHasContentSize( name );\n\tconst hasWideSize = useHasWideSize( name );\n\tconst hasPadding = useHasPadding( name );\n\tconst hasMargin = useHasMargin( name );\n\tconst hasGap = useHasGap( name );\n\tconst hasMinHeight = useHasMinHeight( name );\n\n\treturn (\n\t\thasContentSize ||\n\t\thasWideSize ||\n\t\thasPadding ||\n\t\thasMargin ||\n\t\thasGap ||\n\t\thasMinHeight\n\t);\n}\n\nfunction useHasContentSize( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'layout.contentSize', name );\n\n\treturn settings && supports.includes( 'contentSize' );\n}\n\nfunction useHasWideSize( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'layout.wideSize', name );\n\n\treturn settings && supports.includes( 'wideSize' );\n}\n\nfunction useHasPadding( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'spacing.padding', name );\n\n\treturn settings && supports.includes( 'padding' );\n}\n\nfunction useHasMargin( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'spacing.margin', name );\n\n\treturn settings && supports.includes( 'margin' );\n}\n\nfunction useHasGap( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'spacing.blockGap', name );\n\n\treturn settings && supports.includes( 'blockGap' );\n}\n\nfunction useHasMinHeight( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'dimensions.minHeight', name );\n\n\treturn settings && supports.includes( 'minHeight' );\n}\n\nfunction useHasSpacingPresets() {\n\tconst [ settings ] = useSetting( 'spacing.spacingSizes' );\n\n\treturn settings && settings.length > 0;\n}\n\nfunction filterValuesBySides( values, sides ) {\n\tif ( ! sides ) {\n\t\t// If no custom side configuration all sides are opted into by default.\n\t\treturn values;\n\t}\n\n\t// Only include sides opted into within filtered values.\n\tconst filteredValues = {};\n\tsides.forEach( ( side ) => {\n\t\tif ( side === 'vertical' ) {\n\t\t\tfilteredValues.top = values.top;\n\t\t\tfilteredValues.bottom = values.bottom;\n\t\t}\n\t\tif ( side === 'horizontal' ) {\n\t\t\tfilteredValues.left = values.left;\n\t\t\tfilteredValues.right = values.right;\n\t\t}\n\t\tfilteredValues[ side ] = values[ side ];\n\t} );\n\n\treturn filteredValues;\n}\n\nfunction splitStyleValue( value ) {\n\t// Check for shorthand value (a string value).\n\tif ( value && typeof value === 'string' ) {\n\t\t// Convert to value for individual sides for BoxControl.\n\t\treturn {\n\t\t\ttop: value,\n\t\t\tright: value,\n\t\t\tbottom: value,\n\t\t\tleft: value,\n\t\t};\n\t}\n\n\treturn value;\n}\n\nfunction splitGapValue( value ) {\n\t// Check for shorthand value (a string value).\n\tif ( value && typeof value === 'string' ) {\n\t\t// If the value is a string, treat it as a single side (top) for the spacing controls.\n\t\treturn {\n\t\t\ttop: value,\n\t\t};\n\t}\n\n\tif ( value ) {\n\t\treturn {\n\t\t\t...value,\n\t\t\tright: value?.left,\n\t\t\tbottom: value?.top,\n\t\t};\n\t}\n\n\treturn value;\n}\n\n// Props for managing `layout.contentSize`.\nfunction useContentSizeProps( name ) {\n\tconst [ contentSizeValue, setContentSizeValue ] = useSetting(\n\t\t'layout.contentSize',\n\t\tname\n\t);\n\tconst [ userSetContentSizeValue ] = useSetting(\n\t\t'layout.contentSize',\n\t\tname,\n\t\t'user'\n\t);\n\tconst hasUserSetContentSizeValue = () => !! userSetContentSizeValue;\n\tconst resetContentSizeValue = () => setContentSizeValue( '' );\n\treturn {\n\t\tcontentSizeValue,\n\t\tsetContentSizeValue,\n\t\thasUserSetContentSizeValue,\n\t\tresetContentSizeValue,\n\t};\n}\n\n// Props for managing `layout.wideSize`.\nfunction useWideSizeProps( name ) {\n\tconst [ wideSizeValue, setWideSizeValue ] = useSetting(\n\t\t'layout.wideSize',\n\t\tname\n\t);\n\tconst [ userSetWideSizeValue ] = useSetting(\n\t\t'layout.wideSize',\n\t\tname,\n\t\t'user'\n\t);\n\tconst hasUserSetWideSizeValue = () => !! userSetWideSizeValue;\n\tconst resetWideSizeValue = () => setWideSizeValue( '' );\n\treturn {\n\t\twideSizeValue,\n\t\tsetWideSizeValue,\n\t\thasUserSetWideSizeValue,\n\t\tresetWideSizeValue,\n\t};\n}\n\n// Props for managing `spacing.padding`.\nfunction usePaddingProps( name ) {\n\tconst [ rawPadding, setRawPadding ] = useStyle( 'spacing.padding', name );\n\tconst paddingValues = splitStyleValue( rawPadding );\n\tconst paddingSides = useCustomSides( name, 'padding' );\n\tconst isAxialPadding =\n\t\tpaddingSides &&\n\t\tpaddingSides.some( ( side ) => AXIAL_SIDES.includes( side ) );\n\n\tconst setPaddingValues = ( newPaddingValues ) => {\n\t\tconst padding = filterValuesBySides( newPaddingValues, paddingSides );\n\t\tsetRawPadding( padding );\n\t};\n\tconst resetPaddingValue = () => setPaddingValues( {} );\n\tconst [ userSetPaddingValue ] = useStyle( 'spacing.padding', name, 'user' );\n\t// The `hasPaddingValue` check does not need a parsed value, as `userSetPaddingValue` will be `undefined` if not set.\n\tconst hasPaddingValue = () => !! userSetPaddingValue;\n\n\treturn {\n\t\tpaddingValues,\n\t\tpaddingSides,\n\t\tisAxialPadding,\n\t\tsetPaddingValues,\n\t\tresetPaddingValue,\n\t\thasPaddingValue,\n\t};\n}\n\n// Props for managing `spacing.margin`.\nfunction useMarginProps( name ) {\n\tconst [ rawMargin, setRawMargin ] = useStyle( 'spacing.margin', name );\n\tconst marginValues = splitStyleValue( rawMargin );\n\tconst marginSides = useCustomSides( name, 'margin' );\n\tconst isAxialMargin =\n\t\tmarginSides &&\n\t\tmarginSides.some( ( side ) => AXIAL_SIDES.includes( side ) );\n\n\tconst setMarginValues = ( newMarginValues ) => {\n\t\tconst margin = filterValuesBySides( newMarginValues, marginSides );\n\t\tsetRawMargin( margin );\n\t};\n\tconst resetMarginValue = () => setMarginValues( {} );\n\tconst hasMarginValue = () =>\n\t\t!! marginValues && Object.keys( marginValues ).length;\n\n\treturn {\n\t\tmarginValues,\n\t\tmarginSides,\n\t\tisAxialMargin,\n\t\tsetMarginValues,\n\t\tresetMarginValue,\n\t\thasMarginValue,\n\t};\n}\n\n// Props for managing `spacing.blockGap`.\nfunction useBlockGapProps( name ) {\n\tconst [ gapValue, setGapValue ] = useStyle( 'spacing.blockGap', name );\n\tconst gapValues = splitGapValue( gapValue );\n\tconst gapSides = useCustomSides( name, 'blockGap' );\n\tconst isAxialGap =\n\t\tgapSides && gapSides.some( ( side ) => AXIAL_SIDES.includes( side ) );\n\tconst resetGapValue = () => setGapValue( undefined );\n\tconst [ userSetGapValue ] = useStyle( 'spacing.blockGap', name, 'user' );\n\tconst hasGapValue = () => !! userSetGapValue;\n\tconst setGapValues = ( nextBoxGapValue ) => {\n\t\tif ( ! nextBoxGapValue ) {\n\t\t\tsetGapValue( null );\n\t\t}\n\t\t// If axial gap is not enabled, treat the 'top' value as the shorthand gap value.\n\t\tif ( ! isAxialGap && nextBoxGapValue?.hasOwnProperty( 'top' ) ) {\n\t\t\tsetGapValue( nextBoxGapValue.top );\n\t\t} else {\n\t\t\tsetGapValue( {\n\t\t\t\ttop: nextBoxGapValue?.top,\n\t\t\t\tleft: nextBoxGapValue?.left,\n\t\t\t} );\n\t\t}\n\t};\n\treturn {\n\t\tgapValue,\n\t\tgapValues,\n\t\tgapSides,\n\t\tisAxialGap,\n\t\tsetGapValue,\n\t\tsetGapValues,\n\t\tresetGapValue,\n\t\thasGapValue,\n\t};\n}\n\n// Props for managing `dimensions.minHeight`.\nfunction useMinHeightProps( name ) {\n\tconst [ minHeightValue, setMinHeightValue ] = useStyle(\n\t\t'dimensions.minHeight',\n\t\tname\n\t);\n\tconst resetMinHeightValue = () => setMinHeightValue( undefined );\n\tconst hasMinHeightValue = () => !! minHeightValue;\n\treturn {\n\t\tminHeightValue,\n\t\tsetMinHeightValue,\n\t\tresetMinHeightValue,\n\t\thasMinHeightValue,\n\t};\n}\n\nexport default function DimensionsPanel( { name } ) {\n\tconst showContentSizeControl = useHasContentSize( name );\n\tconst showWideSizeControl = useHasWideSize( name );\n\tconst showPaddingControl = useHasPadding( name );\n\tconst showMarginControl = useHasMargin( name );\n\tconst showGapControl = useHasGap( name );\n\tconst showMinHeightControl = useHasMinHeight( name );\n\tconst showSpacingPresetsControl = useHasSpacingPresets();\n\tconst units = useCustomUnits( {\n\t\tavailableUnits: useSetting( 'spacing.units', name )[ 0 ] || [\n\t\t\t'%',\n\t\t\t'px',\n\t\t\t'em',\n\t\t\t'rem',\n\t\t\t'vw',\n\t\t],\n\t} );\n\n\t// Props for managing `layout.contentSize`.\n\tconst {\n\t\tcontentSizeValue,\n\t\tsetContentSizeValue,\n\t\thasUserSetContentSizeValue,\n\t\tresetContentSizeValue,\n\t} = useContentSizeProps( name );\n\n\t// Props for managing `layout.wideSize`.\n\tconst {\n\t\twideSizeValue,\n\t\tsetWideSizeValue,\n\t\thasUserSetWideSizeValue,\n\t\tresetWideSizeValue,\n\t} = useWideSizeProps( name );\n\n\t// Props for managing `spacing.padding`.\n\tconst {\n\t\tpaddingValues,\n\t\tpaddingSides,\n\t\tisAxialPadding,\n\t\tsetPaddingValues,\n\t\tresetPaddingValue,\n\t\thasPaddingValue,\n\t} = usePaddingProps( name );\n\n\t// Props for managing `spacing.margin`.\n\tconst {\n\t\tmarginValues,\n\t\tmarginSides,\n\t\tisAxialMargin,\n\t\tsetMarginValues,\n\t\tresetMarginValue,\n\t\thasMarginValue,\n\t} = useMarginProps( name );\n\n\t// Props for managing `spacing.blockGap`.\n\tconst {\n\t\tgapValue,\n\t\tgapValues,\n\t\tgapSides,\n\t\tisAxialGap,\n\t\tsetGapValue,\n\t\tsetGapValues,\n\t\tresetGapValue,\n\t\thasGapValue,\n\t} = useBlockGapProps( name );\n\n\t// Props for managing `dimensions.minHeight`.\n\tconst {\n\t\tminHeightValue,\n\t\tsetMinHeightValue,\n\t\tresetMinHeightValue,\n\t\thasMinHeightValue,\n\t} = useMinHeightProps( name );\n\n\tconst resetAll = () => {\n\t\tresetPaddingValue();\n\t\tresetMarginValue();\n\t\tresetGapValue();\n\t\tresetContentSizeValue();\n\t\tresetWideSizeValue();\n\t};\n\n\treturn (\n\t\t<ToolsPanel label={ __( 'Dimensions' ) } resetAll={ resetAll }>\n\t\t\t{ ( showContentSizeControl || showWideSizeControl ) && (\n\t\t\t\t<span className=\"span-columns\">\n\t\t\t\t\t{ __( 'Set the width of the main content area.' ) }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t{ showContentSizeControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\tlabel={ __( 'Content size' ) }\n\t\t\t\t\thasValue={ hasUserSetContentSizeValue }\n\t\t\t\t\tonDeselect={ resetContentSizeValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<HStack alignment=\"flex-end\" justify=\"flex-start\">\n\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\tlabel={ __( 'Content' ) }\n\t\t\t\t\t\t\tlabelPosition=\"top\"\n\t\t\t\t\t\t\t__unstableInputWidth=\"80px\"\n\t\t\t\t\t\t\tvalue={ contentSizeValue || '' }\n\t\t\t\t\t\t\tonChange={ ( nextContentSize ) => {\n\t\t\t\t\t\t\t\tsetContentSizeValue( nextContentSize );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<View>\n\t\t\t\t\t\t\t<Icon icon={ positionCenter } />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</HStack>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showWideSizeControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\tlabel={ __( 'Wide size' ) }\n\t\t\t\t\thasValue={ hasUserSetWideSizeValue }\n\t\t\t\t\tonDeselect={ resetWideSizeValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<HStack alignment=\"flex-end\" justify=\"flex-start\">\n\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\tlabel={ __( 'Wide' ) }\n\t\t\t\t\t\t\tlabelPosition=\"top\"\n\t\t\t\t\t\t\t__unstableInputWidth=\"80px\"\n\t\t\t\t\t\t\tvalue={ wideSizeValue || '' }\n\t\t\t\t\t\t\tonChange={ ( nextWideSize ) => {\n\t\t\t\t\t\t\t\tsetWideSizeValue( nextWideSize );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<View>\n\t\t\t\t\t\t\t<Icon icon={ stretchWide } />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</HStack>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showPaddingControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasPaddingValue }\n\t\t\t\t\tlabel={ __( 'Padding' ) }\n\t\t\t\t\tonDeselect={ resetPaddingValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t'tools-panel-item-spacing': showSpacingPresetsControl,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t{ ! showSpacingPresetsControl && (\n\t\t\t\t\t\t<BoxControl\n\t\t\t\t\t\t\tvalues={ paddingValues }\n\t\t\t\t\t\t\tonChange={ setPaddingValues }\n\t\t\t\t\t\t\tlabel={ __( 'Padding' ) }\n\t\t\t\t\t\t\tsides={ paddingSides }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\tsplitOnAxis={ isAxialPadding }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ showSpacingPresetsControl && (\n\t\t\t\t\t\t<SpacingSizesControl\n\t\t\t\t\t\t\tvalues={ paddingValues }\n\t\t\t\t\t\t\tonChange={ setPaddingValues }\n\t\t\t\t\t\t\tlabel={ __( 'Padding' ) }\n\t\t\t\t\t\t\tsides={ paddingSides }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\tsplitOnAxis={ isAxialPadding }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showMarginControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasMarginValue }\n\t\t\t\t\tlabel={ __( 'Margin' ) }\n\t\t\t\t\tonDeselect={ resetMarginValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t'tools-panel-item-spacing': showSpacingPresetsControl,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t{ ! showSpacingPresetsControl && (\n\t\t\t\t\t\t<BoxControl\n\t\t\t\t\t\t\tvalues={ marginValues }\n\t\t\t\t\t\t\tonChange={ setMarginValues }\n\t\t\t\t\t\t\tlabel={ __( 'Margin' ) }\n\t\t\t\t\t\t\tsides={ marginSides }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\tsplitOnAxis={ isAxialMargin }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ showSpacingPresetsControl && (\n\t\t\t\t\t\t<SpacingSizesControl\n\t\t\t\t\t\t\tvalues={ marginValues }\n\t\t\t\t\t\t\tonChange={ setMarginValues }\n\t\t\t\t\t\t\tlabel={ __( 'Margin' ) }\n\t\t\t\t\t\t\tsides={ marginSides }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\tsplitOnAxis={ isAxialMargin }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showGapControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasGapValue }\n\t\t\t\t\tlabel={ __( 'Block spacing' ) }\n\t\t\t\t\tonDeselect={ resetGapValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t'tools-panel-item-spacing': showSpacingPresetsControl,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t{ ! showSpacingPresetsControl &&\n\t\t\t\t\t\t( isAxialGap ? (\n\t\t\t\t\t\t\t<BoxControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Block spacing' ) }\n\t\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\t\tonChange={ setGapValues }\n\t\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t\t\tsides={ gapSides }\n\t\t\t\t\t\t\t\tvalues={ gapValues }\n\t\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\t\tsplitOnAxis={ isAxialGap }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Block spacing' ) }\n\t\t\t\t\t\t\t\t__unstableInputWidth=\"80px\"\n\t\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\t\tonChange={ setGapValue }\n\t\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t\t\tvalue={ gapValue }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t{ showSpacingPresetsControl && (\n\t\t\t\t\t\t<SpacingSizesControl\n\t\t\t\t\t\t\tlabel={ __( 'Block spacing' ) }\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tonChange={ setGapValues }\n\t\t\t\t\t\t\tsides={ isAxialGap ? gapSides : [ 'top' ] } // Use 'top' as the shorthand property in non-axial configurations.\n\t\t\t\t\t\t\tvalues={ gapValues }\n\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\tsplitOnAxis={ isAxialGap }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showMinHeightControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasMinHeightValue }\n\t\t\t\t\tlabel={ __( 'Min. height' ) }\n\t\t\t\t\tonDeselect={ resetMinHeightValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<HeightControl\n\t\t\t\t\t\tlabel={ __( 'Min. height' ) }\n\t\t\t\t\t\tvalue={ minHeightValue }\n\t\t\t\t\t\tonChange={ setMinHeightValue }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t</ToolsPanel>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tLineHeightControl,\n\t__experimentalFontFamilyControl as FontFamilyControl,\n\t__experimentalFontAppearanceControl as FontAppearanceControl,\n\t__experimentalLetterSpacingControl as LetterSpacingControl,\n\t__experimentalTextTransformControl as TextTransformControl,\n\t__experimentalTextDecorationControl as TextDecorationControl,\n} from '@wordpress/block-editor';\nimport {\n\tFontSizePicker,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { getSupportedGlobalStylesPanels, useSetting, useStyle } from './hooks';\n\nexport function useHasTypographyPanel( name ) {\n\tconst hasFontFamily = useHasFontFamilyControl( name );\n\tconst hasLineHeight = useHasLineHeightControl( name );\n\tconst hasFontAppearance = useHasAppearanceControl( name );\n\tconst hasLetterSpacing = useHasLetterSpacingControl( name );\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\thasFontFamily ||\n\t\thasLineHeight ||\n\t\thasFontAppearance ||\n\t\thasLetterSpacing ||\n\t\tsupports.includes( 'fontSize' )\n\t);\n}\n\nfunction useHasFontFamilyControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ fontFamilies ] = useSetting( 'typography.fontFamilies', name );\n\treturn supports.includes( 'fontFamily' ) && !! fontFamilies?.length;\n}\n\nfunction useHasLineHeightControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'typography.lineHeight', name )[ 0 ] &&\n\t\tsupports.includes( 'lineHeight' )\n\t);\n}\n\nfunction useHasAppearanceControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasFontStyles =\n\t\tuseSetting( 'typography.fontStyle', name )[ 0 ] &&\n\t\tsupports.includes( 'fontStyle' );\n\tconst hasFontWeights =\n\t\tuseSetting( 'typography.fontWeight', name )[ 0 ] &&\n\t\tsupports.includes( 'fontWeight' );\n\treturn hasFontStyles || hasFontWeights;\n}\n\nfunction useAppearanceControlLabel( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasFontStyles =\n\t\tuseSetting( 'typography.fontStyle', name )[ 0 ] &&\n\t\tsupports.includes( 'fontStyle' );\n\tconst hasFontWeights =\n\t\tuseSetting( 'typography.fontWeight', name )[ 0 ] &&\n\t\tsupports.includes( 'fontWeight' );\n\tif ( ! hasFontStyles ) {\n\t\treturn __( 'Font weight' );\n\t}\n\tif ( ! hasFontWeights ) {\n\t\treturn __( 'Font style' );\n\t}\n\treturn __( 'Appearance' );\n}\n\nfunction useHasLetterSpacingControl( name, element ) {\n\tconst setting = useSetting( 'typography.letterSpacing', name )[ 0 ];\n\tif ( ! setting ) {\n\t\treturn false;\n\t}\n\tif ( ! name && element === 'heading' ) {\n\t\treturn true;\n\t}\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn supports.includes( 'letterSpacing' );\n}\n\nfunction useHasTextTransformControl( name, element ) {\n\tconst setting = useSetting( 'typography.textTransform', name )[ 0 ];\n\tif ( ! setting ) {\n\t\treturn false;\n\t}\n\tif ( ! name && element === 'heading' ) {\n\t\treturn true;\n\t}\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn supports.includes( 'textTransform' );\n}\n\nfunction useHasTextDecorationControl( name, element ) {\n\t// This is an exception for link elements.\n\t// We shouldn't allow other blocks or elements to set textDecoration\n\t// because this will be inherited by their children.\n\treturn ! name && element === 'link';\n}\n\nfunction useStyleWithReset( path, blockName ) {\n\tconst [ style, setStyle ] = useStyle( path, blockName );\n\tconst [ userStyle ] = useStyle( path, blockName, 'user' );\n\tconst hasStyle = () => !! userStyle;\n\tconst resetStyle = () => setStyle( undefined );\n\treturn [ style, setStyle, hasStyle, resetStyle ];\n}\n\nfunction useFontSizeWithReset( path, blockName ) {\n\tconst [ fontSize, setStyleCallback ] = useStyle( path, blockName );\n\tconst [ userStyle ] = useStyle( path, blockName, 'user' );\n\tconst hasFontSize = () => !! userStyle;\n\tconst resetFontSize = () => setStyleCallback( undefined );\n\tconst setFontSize = ( newValue, metadata ) => {\n\t\tif ( !! metadata?.slug ) {\n\t\t\tnewValue = `var:preset|font-size|${ metadata?.slug }`;\n\t\t}\n\t\tsetStyleCallback( newValue );\n\t};\n\n\treturn {\n\t\tfontSize,\n\t\tsetFontSize,\n\t\thasFontSize,\n\t\tresetFontSize,\n\t};\n}\n\nfunction useFontAppearance( prefix, name ) {\n\tconst [ fontStyle, setFontStyle ] = useStyle(\n\t\tprefix + 'typography.fontStyle',\n\t\tname\n\t);\n\tconst [ userFontStyle ] = useStyle(\n\t\tprefix + 'typography.fontStyle',\n\t\tname,\n\t\t'user'\n\t);\n\tconst [ fontWeight, setFontWeight ] = useStyle(\n\t\tprefix + 'typography.fontWeight',\n\t\tname\n\t);\n\tconst [ userFontWeight ] = useStyle(\n\t\tprefix + 'typography.fontWeight',\n\t\tname,\n\t\t'user'\n\t);\n\tconst hasFontAppearance = () => !! userFontStyle || !! userFontWeight;\n\tconst resetFontAppearance = () => {\n\t\tsetFontStyle( undefined );\n\t\tsetFontWeight( undefined );\n\t};\n\treturn {\n\t\tfontStyle,\n\t\tsetFontStyle,\n\t\tfontWeight,\n\t\tsetFontWeight,\n\t\thasFontAppearance,\n\t\tresetFontAppearance,\n\t};\n}\n\nexport default function TypographyPanel( { name, element, headingLevel } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tlet prefix = '';\n\tif ( element === 'heading' ) {\n\t\tprefix = `elements.${ headingLevel }.`;\n\t} else if ( element && element !== 'text' ) {\n\t\tprefix = `elements.${ element }.`;\n\t}\n\tconst [ fontSizes ] = useSetting( 'typography.fontSizes', name );\n\n\tconst disableCustomFontSizes = ! useSetting(\n\t\t'typography.customFontSize',\n\t\tname\n\t)[ 0 ];\n\tconst [ fontFamilies ] = useSetting( 'typography.fontFamilies', name );\n\tconst hasFontStyles =\n\t\tuseSetting( 'typography.fontStyle', name )[ 0 ] &&\n\t\tsupports.includes( 'fontStyle' );\n\tconst hasFontWeights =\n\t\tuseSetting( 'typography.fontWeight', name )[ 0 ] &&\n\t\tsupports.includes( 'fontWeight' );\n\tconst hasFontFamilyEnabled = useHasFontFamilyControl( name );\n\tconst hasLineHeightEnabled = useHasLineHeightControl( name );\n\tconst hasAppearanceControl = useHasAppearanceControl( name );\n\tconst appearanceControlLabel = useAppearanceControlLabel( name );\n\tconst hasLetterSpacingControl = useHasLetterSpacingControl( name, element );\n\tconst hasTextTransformControl = useHasTextTransformControl( name, element );\n\tconst hasTextDecorationControl = useHasTextDecorationControl(\n\t\tname,\n\t\telement\n\t);\n\n\t/* Disable font size controls when the option to style all headings is selected. */\n\tlet hasFontSizeEnabled = supports.includes( 'fontSize' );\n\tif ( element === 'heading' && headingLevel === 'heading' ) {\n\t\thasFontSizeEnabled = false;\n\t}\n\n\tconst [ fontFamily, setFontFamily, hasFontFamily, resetFontFamily ] =\n\t\tuseStyleWithReset( prefix + 'typography.fontFamily', name );\n\tconst { fontSize, setFontSize, hasFontSize, resetFontSize } =\n\t\tuseFontSizeWithReset( prefix + 'typography.fontSize', name );\n\tconst {\n\t\tfontStyle,\n\t\tsetFontStyle,\n\t\tfontWeight,\n\t\tsetFontWeight,\n\t\thasFontAppearance,\n\t\tresetFontAppearance,\n\t} = useFontAppearance( prefix, name );\n\tconst [ lineHeight, setLineHeight, hasLineHeight, resetLineHeight ] =\n\t\tuseStyleWithReset( prefix + 'typography.lineHeight', name );\n\tconst [\n\t\tletterSpacing,\n\t\tsetLetterSpacing,\n\t\thasLetterSpacing,\n\t\tresetLetterSpacing,\n\t] = useStyleWithReset( prefix + 'typography.letterSpacing', name );\n\tconst [\n\t\ttextTransform,\n\t\tsetTextTransform,\n\t\thasTextTransform,\n\t\tresetTextTransform,\n\t] = useStyleWithReset( prefix + 'typography.textTransform', name );\n\tconst [\n\t\ttextDecoration,\n\t\tsetTextDecoration,\n\t\thasTextDecoration,\n\t\tresetTextDecoration,\n\t] = useStyleWithReset( prefix + 'typography.textDecoration', name );\n\n\tconst resetAll = () => {\n\t\tresetFontFamily();\n\t\tresetFontSize();\n\t\tresetFontAppearance();\n\t\tresetLineHeight();\n\t\tresetLetterSpacing();\n\t\tresetTextTransform();\n\t};\n\n\treturn (\n\t\t<ToolsPanel label={ __( 'Typography' ) } resetAll={ resetAll }>\n\t\t\t{ hasFontFamilyEnabled && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tlabel={ __( 'Font family' ) }\n\t\t\t\t\thasValue={ hasFontFamily }\n\t\t\t\t\tonDeselect={ resetFontFamily }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<FontFamilyControl\n\t\t\t\t\t\tfontFamilies={ fontFamilies }\n\t\t\t\t\t\tvalue={ fontFamily }\n\t\t\t\t\t\tonChange={ setFontFamily }\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ hasFontSizeEnabled && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tlabel={ __( 'Font size' ) }\n\t\t\t\t\thasValue={ hasFontSize }\n\t\t\t\t\tonDeselect={ resetFontSize }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<FontSizePicker\n\t\t\t\t\t\tvalue={ fontSize }\n\t\t\t\t\t\tonChange={ setFontSize }\n\t\t\t\t\t\tfontSizes={ fontSizes }\n\t\t\t\t\t\tdisableCustomFontSizes={ disableCustomFontSizes }\n\t\t\t\t\t\twithReset={ false }\n\t\t\t\t\t\twithSlider\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ hasAppearanceControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\tlabel={ appearanceControlLabel }\n\t\t\t\t\thasValue={ hasFontAppearance }\n\t\t\t\t\tonDeselect={ resetFontAppearance }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<FontAppearanceControl\n\t\t\t\t\t\tvalue={ {\n\t\t\t\t\t\t\tfontStyle,\n\t\t\t\t\t\t\tfontWeight,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonChange={ ( {\n\t\t\t\t\t\t\tfontStyle: newFontStyle,\n\t\t\t\t\t\t\tfontWeight: newFontWeight,\n\t\t\t\t\t\t} ) => {\n\t\t\t\t\t\t\tsetFontStyle( newFontStyle );\n\t\t\t\t\t\t\tsetFontWeight( newFontWeight );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\thasFontStyles={ hasFontStyles }\n\t\t\t\t\t\thasFontWeights={ hasFontWeights }\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ hasLineHeightEnabled && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\tlabel={ __( 'Line height' ) }\n\t\t\t\t\thasValue={ hasLineHeight }\n\t\t\t\t\tonDeselect={ resetLineHeight }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<LineHeightControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__unstableInputWidth=\"auto\"\n\t\t\t\t\t\tvalue={ lineHeight }\n\t\t\t\t\t\tonChange={ setLineHeight }\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ hasLetterSpacingControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\tlabel={ __( 'Letter spacing' ) }\n\t\t\t\t\thasValue={ hasLetterSpacing }\n\t\t\t\t\tonDeselect={ resetLetterSpacing }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<LetterSpacingControl\n\t\t\t\t\t\tvalue={ letterSpacing }\n\t\t\t\t\t\tonChange={ setLetterSpacing }\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__unstableInputWidth=\"auto\"\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ hasTextTransformControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tlabel={ __( 'Letter case' ) }\n\t\t\t\t\thasValue={ hasTextTransform }\n\t\t\t\t\tonDeselect={ resetTextTransform }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<TextTransformControl\n\t\t\t\t\t\tvalue={ textTransform }\n\t\t\t\t\t\tonChange={ setTextTransform }\n\t\t\t\t\t\tshowNone\n\t\t\t\t\t\tisBlock\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ hasTextDecorationControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\tlabel={ __( 'Text decoration' ) }\n\t\t\t\t\thasValue={ hasTextDecoration }\n\t\t\t\t\tonDeselect={ resetTextDecoration }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t>\n\t\t\t\t\t<TextDecorationControl\n\t\t\t\t\t\tvalue={ textDecoration }\n\t\t\t\t\t\tonChange={ setTextDecoration }\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__unstableInputWidth=\"auto\"\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t</ToolsPanel>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\nimport { typography, color, layout } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useHasBorderPanel } from './border-panel';\nimport { useHasColorPanel } from './color-utils';\nimport { useHasDimensionsPanel } from './dimensions-panel';\nimport { useHasTypographyPanel } from './typography-panel';\nimport { NavigationButtonAsItem } from './navigation-button';\n\nfunction ContextMenu( { name, parentMenu = '' } ) {\n\tconst hasTypographyPanel = useHasTypographyPanel( name );\n\tconst hasColorPanel = useHasColorPanel( name );\n\tconst hasBorderPanel = useHasBorderPanel( name );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( name );\n\tconst hasLayoutPanel = hasBorderPanel || hasDimensionsPanel;\n\n\treturn (\n\t\t<ItemGroup>\n\t\t\t{ hasTypographyPanel && (\n\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\ticon={ typography }\n\t\t\t\t\tpath={ parentMenu + '/typography' }\n\t\t\t\t\taria-label={ __( 'Typography styles' ) }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Typography' ) }\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t) }\n\t\t\t{ hasColorPanel && (\n\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\ticon={ color }\n\t\t\t\t\tpath={ parentMenu + '/colors' }\n\t\t\t\t\taria-label={ __( 'Colors styles' ) }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Colors' ) }\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t) }\n\t\t\t{ hasLayoutPanel && (\n\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\ticon={ layout }\n\t\t\t\t\tpath={ parentMenu + '/layout' }\n\t\t\t\t\taria-label={ __( 'Layout styles' ) }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Layout' ) }\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t) }\n\t\t</ItemGroup>\n\t);\n}\n\nexport default ContextMenu;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"styleEngine\"];","/**\n * External dependencies\n */\nimport { get, isEmpty, kebabCase, pickBy, set } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__EXPERIMENTAL_STYLE_PROPERTY as STYLE_PROPERTY,\n\t__EXPERIMENTAL_ELEMENTS as ELEMENTS,\n\tgetBlockTypes,\n} from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport { useContext, useMemo } from '@wordpress/element';\nimport { getCSSRules } from '@wordpress/style-engine';\nimport {\n\t__unstablePresetDuotoneFilter as PresetDuotoneFilter,\n\t__experimentalGetGapCSSValue as getGapCSSValue,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { PRESET_METADATA, ROOT_BLOCK_SELECTOR, scopeSelector } from './utils';\nimport { getTypographyFontSizeValue } from './typography-utils';\nimport { GlobalStylesContext } from './context';\nimport { useSetting } from './hooks';\n\n// List of block support features that can have their related styles\n// generated under their own feature level selector rather than the block's.\nconst BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS = {\n\t__experimentalBorder: 'border',\n\tcolor: 'color',\n\tspacing: 'spacing',\n\ttypography: 'typography',\n};\n\nfunction compileStyleValue( uncompiledValue ) {\n\tconst VARIABLE_REFERENCE_PREFIX = 'var:';\n\tconst VARIABLE_PATH_SEPARATOR_TOKEN_ATTRIBUTE = '|';\n\tconst VARIABLE_PATH_SEPARATOR_TOKEN_STYLE = '--';\n\n\tif ( uncompiledValue?.startsWith?.( VARIABLE_REFERENCE_PREFIX ) ) {\n\t\tconst variable = uncompiledValue\n\t\t\t.slice( VARIABLE_REFERENCE_PREFIX.length )\n\t\t\t.split( VARIABLE_PATH_SEPARATOR_TOKEN_ATTRIBUTE )\n\t\t\t.join( VARIABLE_PATH_SEPARATOR_TOKEN_STYLE );\n\t\treturn `var(--wp--${ variable })`;\n\t}\n\treturn uncompiledValue;\n}\n\n/**\n * Transform given preset tree into a set of style declarations.\n *\n * @param {Object} blockPresets\n * @param {Object} mergedSettings Merged theme.json settings.\n *\n * @return {Array<Object>} An array of style declarations.\n */\nfunction getPresetsDeclarations( blockPresets = {}, mergedSettings ) {\n\treturn PRESET_METADATA.reduce(\n\t\t( declarations, { path, valueKey, valueFunc, cssVarInfix } ) => {\n\t\t\tconst presetByOrigin = get( blockPresets, path, [] );\n\t\t\t[ 'default', 'theme', 'custom' ].forEach( ( origin ) => {\n\t\t\t\tif ( presetByOrigin[ origin ] ) {\n\t\t\t\t\tpresetByOrigin[ origin ].forEach( ( value ) => {\n\t\t\t\t\t\tif ( valueKey && ! valueFunc ) {\n\t\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t\t`--wp--preset--${ cssVarInfix }--${ kebabCase(\n\t\t\t\t\t\t\t\t\tvalue.slug\n\t\t\t\t\t\t\t\t) }: ${ value[ valueKey ] }`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tvalueFunc &&\n\t\t\t\t\t\t\ttypeof valueFunc === 'function'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t\t`--wp--preset--${ cssVarInfix }--${ kebabCase(\n\t\t\t\t\t\t\t\t\tvalue.slug\n\t\t\t\t\t\t\t\t) }: ${ valueFunc( value, mergedSettings ) }`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn declarations;\n\t\t},\n\t\t[]\n\t);\n}\n\n/**\n * Transform given preset tree into a set of preset class declarations.\n *\n * @param {string} blockSelector\n * @param {Object} blockPresets\n * @return {string} CSS declarations for the preset classes.\n */\nfunction getPresetsClasses( blockSelector, blockPresets = {} ) {\n\treturn PRESET_METADATA.reduce(\n\t\t( declarations, { path, cssVarInfix, classes } ) => {\n\t\t\tif ( ! classes ) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\n\t\t\tconst presetByOrigin = get( blockPresets, path, [] );\n\t\t\t[ 'default', 'theme', 'custom' ].forEach( ( origin ) => {\n\t\t\t\tif ( presetByOrigin[ origin ] ) {\n\t\t\t\t\tpresetByOrigin[ origin ].forEach( ( { slug } ) => {\n\t\t\t\t\t\tclasses.forEach( ( { classSuffix, propertyName } ) => {\n\t\t\t\t\t\t\tconst classSelectorToUse = `.has-${ kebabCase(\n\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t) }-${ classSuffix }`;\n\t\t\t\t\t\t\tconst selectorToUse = blockSelector\n\t\t\t\t\t\t\t\t.split( ',' ) // Selector can be \"h1, h2, h3\"\n\t\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t\t( selector ) =>\n\t\t\t\t\t\t\t\t\t\t`${ selector }${ classSelectorToUse }`\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.join( ',' );\n\t\t\t\t\t\t\tconst value = `var(--wp--preset--${ cssVarInfix }--${ kebabCase(\n\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t) })`;\n\t\t\t\t\t\t\tdeclarations += `${ selectorToUse }{${ propertyName }: ${ value } !important;}`;\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t\treturn declarations;\n\t\t},\n\t\t''\n\t);\n}\n\nfunction getPresetsSvgFilters( blockPresets = {} ) {\n\treturn PRESET_METADATA.filter(\n\t\t// Duotone are the only type of filters for now.\n\t\t( metadata ) => metadata.path.at( -1 ) === 'duotone'\n\t).flatMap( ( metadata ) => {\n\t\tconst presetByOrigin = get( blockPresets, metadata.path, {} );\n\t\treturn [ 'default', 'theme' ]\n\t\t\t.filter( ( origin ) => presetByOrigin[ origin ] )\n\t\t\t.flatMap( ( origin ) =>\n\t\t\t\tpresetByOrigin[ origin ].map( ( preset ) => (\n\t\t\t\t\t<PresetDuotoneFilter\n\t\t\t\t\t\tpreset={ preset }\n\t\t\t\t\t\tkey={ preset.slug }\n\t\t\t\t\t/>\n\t\t\t\t) )\n\t\t\t);\n\t} );\n}\n\nfunction flattenTree( input = {}, prefix, token ) {\n\tlet result = [];\n\tObject.keys( input ).forEach( ( key ) => {\n\t\tconst newKey = prefix + kebabCase( key.replace( '/', '-' ) );\n\t\tconst newLeaf = input[ key ];\n\n\t\tif ( newLeaf instanceof Object ) {\n\t\t\tconst newPrefix = newKey + token;\n\t\t\tresult = [ ...result, ...flattenTree( newLeaf, newPrefix, token ) ];\n\t\t} else {\n\t\t\tresult.push( `${ newKey }: ${ newLeaf }` );\n\t\t}\n\t} );\n\treturn result;\n}\n\n/**\n * Transform given style tree into a set of style declarations.\n *\n * @param {Object}  blockStyles         Block styles.\n *\n * @param {string}  selector            The selector these declarations should attach to.\n *\n * @param {boolean} useRootPaddingAlign Whether to use CSS custom properties in root selector.\n *\n * @param {Object}  tree                A theme.json tree containing layout definitions.\n *\n * @return {Array} An array of style declarations.\n */\nexport function getStylesDeclarations(\n\tblockStyles = {},\n\tselector = '',\n\tuseRootPaddingAlign,\n\ttree = {}\n) {\n\tconst isRoot = ROOT_BLOCK_SELECTOR === selector;\n\tconst output = Object.entries( STYLE_PROPERTY ).reduce(\n\t\t(\n\t\t\tdeclarations,\n\t\t\t[ key, { value, properties, useEngine, rootOnly } ]\n\t\t) => {\n\t\t\tif ( rootOnly && ! isRoot ) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\t\t\tconst pathToValue = value;\n\t\t\tif ( pathToValue[ 0 ] === 'elements' || useEngine ) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\n\t\t\tconst styleValue = get( blockStyles, pathToValue );\n\n\t\t\t// Root-level padding styles don't currently support strings with CSS shorthand values.\n\t\t\t// This may change: https://github.com/WordPress/gutenberg/issues/40132.\n\t\t\tif (\n\t\t\t\tkey === '--wp--style--root--padding' &&\n\t\t\t\t( typeof styleValue === 'string' || ! useRootPaddingAlign )\n\t\t\t) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\n\t\t\tif ( !! properties && typeof styleValue !== 'string' ) {\n\t\t\t\tObject.entries( properties ).forEach( ( entry ) => {\n\t\t\t\t\tconst [ name, prop ] = entry;\n\n\t\t\t\t\tif ( ! get( styleValue, [ prop ], false ) ) {\n\t\t\t\t\t\t// Do not create a declaration\n\t\t\t\t\t\t// for sub-properties that don't have any value.\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst cssProperty = name.startsWith( '--' )\n\t\t\t\t\t\t? name\n\t\t\t\t\t\t: kebabCase( name );\n\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t`${ cssProperty }: ${ compileStyleValue(\n\t\t\t\t\t\t\tget( styleValue, [ prop ] )\n\t\t\t\t\t\t) }`\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t\t} else if ( get( blockStyles, pathToValue, false ) ) {\n\t\t\t\tconst cssProperty = key.startsWith( '--' )\n\t\t\t\t\t? key\n\t\t\t\t\t: kebabCase( key );\n\t\t\t\tdeclarations.push(\n\t\t\t\t\t`${ cssProperty }: ${ compileStyleValue(\n\t\t\t\t\t\tget( blockStyles, pathToValue )\n\t\t\t\t\t) }`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn declarations;\n\t\t},\n\t\t[]\n\t);\n\n\t// The goal is to move everything to server side generated engine styles\n\t// This is temporary as we absorb more and more styles into the engine.\n\tconst extraRules = getCSSRules( blockStyles );\n\textraRules.forEach( ( rule ) => {\n\t\t// Don't output padding properties if padding variables are set.\n\t\tif (\n\t\t\tisRoot &&\n\t\t\tuseRootPaddingAlign &&\n\t\t\trule.key.startsWith( 'padding' )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tconst cssProperty = rule.key.startsWith( '--' )\n\t\t\t? rule.key\n\t\t\t: kebabCase( rule.key );\n\n\t\tlet ruleValue = rule.value;\n\t\tif ( typeof ruleValue !== 'string' && ruleValue?.ref ) {\n\t\t\tconst refPath = ruleValue.ref.split( '.' );\n\t\t\truleValue = get( tree, refPath );\n\t\t\t// Presence of another ref indicates a reference to another dynamic value.\n\t\t\t// Pointing to another dynamic value is not supported.\n\t\t\tif ( ! ruleValue || !! ruleValue?.ref ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Calculate fluid typography rules where available.\n\t\tif ( cssProperty === 'font-size' ) {\n\t\t\t/*\n\t\t\t * getTypographyFontSizeValue() will check\n\t\t\t * if fluid typography has been activated and also\n\t\t\t * whether the incoming value can be converted to a fluid value.\n\t\t\t * Values that already have a \"clamp()\" function will not pass the test,\n\t\t\t * and therefore the original $value will be returned.\n\t\t\t */\n\t\t\truleValue = getTypographyFontSizeValue(\n\t\t\t\t{ size: ruleValue },\n\t\t\t\ttree?.settings?.typography\n\t\t\t);\n\t\t}\n\n\t\toutput.push( `${ cssProperty }: ${ ruleValue }` );\n\t} );\n\n\treturn output;\n}\n\n/**\n * Get generated CSS for layout styles by looking up layout definitions provided\n * in theme.json, and outputting common layout styles, and specific blockGap values.\n *\n * @param {Object}  props\n * @param {Object}  props.tree                  A theme.json tree containing layout definitions.\n * @param {Object}  props.style                 A style object containing spacing values.\n * @param {string}  props.selector              Selector used to group together layout styling rules.\n * @param {boolean} props.hasBlockGapSupport    Whether or not the theme opts-in to blockGap support.\n * @param {boolean} props.hasFallbackGapSupport Whether or not the theme allows fallback gap styles.\n * @param {?string} props.fallbackGapValue      An optional fallback gap value if no real gap value is available.\n * @return {string} Generated CSS rules for the layout styles.\n */\nexport function getLayoutStyles( {\n\ttree,\n\tstyle,\n\tselector,\n\thasBlockGapSupport,\n\thasFallbackGapSupport,\n\tfallbackGapValue,\n} ) {\n\tlet ruleset = '';\n\tlet gapValue = hasBlockGapSupport\n\t\t? getGapCSSValue( style?.spacing?.blockGap )\n\t\t: '';\n\n\t// Ensure a fallback gap value for the root layout definitions,\n\t// and use a fallback value if one is provided for the current block.\n\tif ( hasFallbackGapSupport ) {\n\t\tif ( selector === ROOT_BLOCK_SELECTOR ) {\n\t\t\tgapValue = ! gapValue ? '0.5em' : gapValue;\n\t\t} else if ( ! hasBlockGapSupport && fallbackGapValue ) {\n\t\t\tgapValue = fallbackGapValue;\n\t\t}\n\t}\n\n\tif ( gapValue && tree?.settings?.layout?.definitions ) {\n\t\tObject.values( tree.settings.layout.definitions ).forEach(\n\t\t\t( { className, name, spacingStyles } ) => {\n\t\t\t\t// Allow outputting fallback gap styles for flex layout type when block gap support isn't available.\n\t\t\t\tif ( ! hasBlockGapSupport && 'flex' !== name ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( spacingStyles?.length ) {\n\t\t\t\t\tspacingStyles.forEach( ( spacingStyle ) => {\n\t\t\t\t\t\tconst declarations = [];\n\n\t\t\t\t\t\tif ( spacingStyle.rules ) {\n\t\t\t\t\t\t\tObject.entries( spacingStyle.rules ).forEach(\n\t\t\t\t\t\t\t\t( [ cssProperty, cssValue ] ) => {\n\t\t\t\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t\t\t\t`${ cssProperty }: ${\n\t\t\t\t\t\t\t\t\t\t\tcssValue ? cssValue : gapValue\n\t\t\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( declarations.length ) {\n\t\t\t\t\t\t\tlet combinedSelector = '';\n\n\t\t\t\t\t\t\tif ( ! hasBlockGapSupport ) {\n\t\t\t\t\t\t\t\t// For fallback gap styles, use lower specificity, to ensure styles do not unintentionally override theme styles.\n\t\t\t\t\t\t\t\tcombinedSelector =\n\t\t\t\t\t\t\t\t\tselector === ROOT_BLOCK_SELECTOR\n\t\t\t\t\t\t\t\t\t\t? `:where(.${ className }${\n\t\t\t\t\t\t\t\t\t\t\t\tspacingStyle?.selector || ''\n\t\t\t\t\t\t\t\t\t\t  })`\n\t\t\t\t\t\t\t\t\t\t: `:where(${ selector }.${ className }${\n\t\t\t\t\t\t\t\t\t\t\t\tspacingStyle?.selector || ''\n\t\t\t\t\t\t\t\t\t\t  })`;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcombinedSelector =\n\t\t\t\t\t\t\t\t\tselector === ROOT_BLOCK_SELECTOR\n\t\t\t\t\t\t\t\t\t\t? `${ selector } .${ className }${\n\t\t\t\t\t\t\t\t\t\t\t\tspacingStyle?.selector || ''\n\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t: `${ selector }.${ className }${\n\t\t\t\t\t\t\t\t\t\t\t\tspacingStyle?.selector || ''\n\t\t\t\t\t\t\t\t\t\t  }`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\truleset += `${ combinedSelector } { ${ declarations.join(\n\t\t\t\t\t\t\t\t'; '\n\t\t\t\t\t\t\t) }; }`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t// For backwards compatibility, ensure the legacy block gap CSS variable is still available.\n\t\tif ( selector === ROOT_BLOCK_SELECTOR && hasBlockGapSupport ) {\n\t\t\truleset += `${ selector } { --wp--style--block-gap: ${ gapValue }; }`;\n\t\t}\n\t}\n\n\t// Output base styles\n\tif (\n\t\tselector === ROOT_BLOCK_SELECTOR &&\n\t\ttree?.settings?.layout?.definitions\n\t) {\n\t\tconst validDisplayModes = [ 'block', 'flex', 'grid' ];\n\t\tObject.values( tree.settings.layout.definitions ).forEach(\n\t\t\t( { className, displayMode, baseStyles } ) => {\n\t\t\t\tif (\n\t\t\t\t\tdisplayMode &&\n\t\t\t\t\tvalidDisplayModes.includes( displayMode )\n\t\t\t\t) {\n\t\t\t\t\truleset += `${ selector } .${ className } { display:${ displayMode }; }`;\n\t\t\t\t}\n\n\t\t\t\tif ( baseStyles?.length ) {\n\t\t\t\t\tbaseStyles.forEach( ( baseStyle ) => {\n\t\t\t\t\t\tconst declarations = [];\n\n\t\t\t\t\t\tif ( baseStyle.rules ) {\n\t\t\t\t\t\t\tObject.entries( baseStyle.rules ).forEach(\n\t\t\t\t\t\t\t\t( [ cssProperty, cssValue ] ) => {\n\t\t\t\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t\t\t\t`${ cssProperty }: ${ cssValue }`\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( declarations.length ) {\n\t\t\t\t\t\t\tconst combinedSelector = `${ selector } .${ className }${\n\t\t\t\t\t\t\t\tbaseStyle?.selector || ''\n\t\t\t\t\t\t\t}`;\n\t\t\t\t\t\t\truleset += `${ combinedSelector } { ${ declarations.join(\n\t\t\t\t\t\t\t\t'; '\n\t\t\t\t\t\t\t) }; }`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\treturn ruleset;\n}\n\nexport const getNodesWithStyles = ( tree, blockSelectors ) => {\n\tconst nodes = [];\n\n\tif ( ! tree?.styles ) {\n\t\treturn nodes;\n\t}\n\n\tconst pickStyleKeys = ( treeToPickFrom ) =>\n\t\tpickBy( treeToPickFrom, ( value, key ) =>\n\t\t\t[\n\t\t\t\t'border',\n\t\t\t\t'color',\n\t\t\t\t'dimensions',\n\t\t\t\t'spacing',\n\t\t\t\t'typography',\n\t\t\t\t'filter',\n\t\t\t\t'outline',\n\t\t\t\t'shadow',\n\t\t\t].includes( key )\n\t\t);\n\n\t// Top-level.\n\tconst styles = pickStyleKeys( tree.styles );\n\tif ( !! styles ) {\n\t\tnodes.push( {\n\t\t\tstyles,\n\t\t\tselector: ROOT_BLOCK_SELECTOR,\n\t\t} );\n\t}\n\n\tObject.entries( ELEMENTS ).forEach( ( [ name, selector ] ) => {\n\t\tif ( !! tree.styles?.elements[ name ] ) {\n\t\t\tnodes.push( {\n\t\t\t\tstyles: tree.styles?.elements[ name ],\n\t\t\t\tselector,\n\t\t\t} );\n\t\t}\n\t} );\n\n\t// Iterate over blocks: they can have styles & elements.\n\tObject.entries( tree.styles?.blocks ?? {} ).forEach(\n\t\t( [ blockName, node ] ) => {\n\t\t\tconst blockStyles = pickStyleKeys( node );\n\t\t\tif (\n\t\t\t\t!! blockStyles &&\n\t\t\t\t!! blockSelectors?.[ blockName ]?.selector\n\t\t\t) {\n\t\t\t\tnodes.push( {\n\t\t\t\t\tduotoneSelector:\n\t\t\t\t\t\tblockSelectors[ blockName ].duotoneSelector,\n\t\t\t\t\tfallbackGapValue:\n\t\t\t\t\t\tblockSelectors[ blockName ].fallbackGapValue,\n\t\t\t\t\thasLayoutSupport:\n\t\t\t\t\t\tblockSelectors[ blockName ].hasLayoutSupport,\n\t\t\t\t\tselector: blockSelectors[ blockName ].selector,\n\t\t\t\t\tstyles: blockStyles,\n\t\t\t\t\tfeatureSelectors:\n\t\t\t\t\t\tblockSelectors[ blockName ].featureSelectors,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tObject.entries( node?.elements ?? {} ).forEach(\n\t\t\t\t( [ elementName, value ] ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t!! value &&\n\t\t\t\t\t\t!! blockSelectors?.[ blockName ] &&\n\t\t\t\t\t\t!! ELEMENTS?.[ elementName ]\n\t\t\t\t\t) {\n\t\t\t\t\t\tnodes.push( {\n\t\t\t\t\t\t\tstyles: value,\n\t\t\t\t\t\t\tselector: blockSelectors[ blockName ].selector\n\t\t\t\t\t\t\t\t.split( ',' )\n\t\t\t\t\t\t\t\t.map( ( sel ) => {\n\t\t\t\t\t\t\t\t\tconst elementSelectors =\n\t\t\t\t\t\t\t\t\t\tELEMENTS[ elementName ].split( ',' );\n\t\t\t\t\t\t\t\t\treturn elementSelectors.map(\n\t\t\t\t\t\t\t\t\t\t( elementSelector ) =>\n\t\t\t\t\t\t\t\t\t\t\tsel + ' ' + elementSelector\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t.join( ',' ),\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n\n\treturn nodes;\n};\n\nexport const getNodesWithSettings = ( tree, blockSelectors ) => {\n\tconst nodes = [];\n\n\tif ( ! tree?.settings ) {\n\t\treturn nodes;\n\t}\n\n\tconst pickPresets = ( treeToPickFrom ) => {\n\t\tconst presets = {};\n\t\tPRESET_METADATA.forEach( ( { path } ) => {\n\t\t\tconst value = get( treeToPickFrom, path, false );\n\t\t\tif ( value !== false ) {\n\t\t\t\tset( presets, path, value );\n\t\t\t}\n\t\t} );\n\t\treturn presets;\n\t};\n\n\t// Top-level.\n\tconst presets = pickPresets( tree.settings );\n\tconst custom = tree.settings?.custom;\n\tif ( ! isEmpty( presets ) || !! custom ) {\n\t\tnodes.push( {\n\t\t\tpresets,\n\t\t\tcustom,\n\t\t\tselector: ROOT_BLOCK_SELECTOR,\n\t\t} );\n\t}\n\n\t// Blocks.\n\tObject.entries( tree.settings?.blocks ?? {} ).forEach(\n\t\t( [ blockName, node ] ) => {\n\t\t\tconst blockPresets = pickPresets( node );\n\t\t\tconst blockCustom = node.custom;\n\t\t\tif ( ! isEmpty( blockPresets ) || !! blockCustom ) {\n\t\t\t\tnodes.push( {\n\t\t\t\t\tpresets: blockPresets,\n\t\t\t\t\tcustom: blockCustom,\n\t\t\t\t\tselector: blockSelectors[ blockName ].selector,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t);\n\n\treturn nodes;\n};\n\nexport const toCustomProperties = ( tree, blockSelectors ) => {\n\tconst settings = getNodesWithSettings( tree, blockSelectors );\n\tlet ruleset = '';\n\tsettings.forEach( ( { presets, custom, selector } ) => {\n\t\tconst declarations = getPresetsDeclarations( presets, tree?.settings );\n\t\tconst customProps = flattenTree( custom, '--wp--custom--', '--' );\n\t\tif ( customProps.length > 0 ) {\n\t\t\tdeclarations.push( ...customProps );\n\t\t}\n\n\t\tif ( declarations.length > 0 ) {\n\t\t\truleset = ruleset + `${ selector }{${ declarations.join( ';' ) };}`;\n\t\t}\n\t} );\n\n\treturn ruleset;\n};\n\nexport const toStyles = (\n\ttree,\n\tblockSelectors,\n\thasBlockGapSupport,\n\thasFallbackGapSupport,\n\tdisableLayoutStyles = false\n) => {\n\tconst nodesWithStyles = getNodesWithStyles( tree, blockSelectors );\n\tconst nodesWithSettings = getNodesWithSettings( tree, blockSelectors );\n\tconst useRootPaddingAlign = tree?.settings?.useRootPaddingAwareAlignments;\n\tconst { contentSize, wideSize } = tree?.settings?.layout || {};\n\n\t/*\n\t * Reset default browser margin on the root body element.\n\t * This is set on the root selector **before** generating the ruleset\n\t * from the `theme.json`. This is to ensure that if the `theme.json` declares\n\t * `margin` in its `spacing` declaration for the `body` element then these\n\t * user-generated values take precedence in the CSS cascade.\n\t * @link https://github.com/WordPress/gutenberg/issues/36147.\n\t */\n\tlet ruleset = 'body {margin: 0;';\n\n\tif ( contentSize ) {\n\t\truleset += ` --wp--style--global--content-size: ${ contentSize };`;\n\t}\n\n\tif ( wideSize ) {\n\t\truleset += ` --wp--style--global--wide-size: ${ wideSize };`;\n\t}\n\n\tif ( useRootPaddingAlign ) {\n\t\truleset += `padding-right: 0; padding-left: 0; padding-top: var(--wp--style--root--padding-top); padding-bottom: var(--wp--style--root--padding-bottom) }\n\t\t\t.has-global-padding { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }\n\t\t\t.has-global-padding :where(.has-global-padding) { padding-right: 0; padding-left: 0; }\n\t\t\t.has-global-padding > .alignfull { margin-right: calc(var(--wp--style--root--padding-right) * -1); margin-left: calc(var(--wp--style--root--padding-left) * -1); }\n\t\t\t.has-global-padding :where(.has-global-padding) > .alignfull { margin-right: 0; margin-left: 0; }\n\t\t\t.has-global-padding > .alignfull:where(:not(.has-global-padding)) > :where([class*=\"wp-block-\"]:not(.alignfull):not([class*=\"__\"]),p,h1,h2,h3,h4,h5,h6,ul,ol) { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }\n\t\t\t.has-global-padding :where(.has-global-padding) > .alignfull:where(:not(.has-global-padding)) > :where([class*=\"wp-block-\"]:not(.alignfull):not([class*=\"__\"]),p,h1,h2,h3,h4,h5,h6,ul,ol) { padding-right: 0; padding-left: 0;`;\n\t}\n\n\truleset += '}';\n\n\tnodesWithStyles.forEach(\n\t\t( {\n\t\t\tselector,\n\t\t\tduotoneSelector,\n\t\t\tstyles,\n\t\t\tfallbackGapValue,\n\t\t\thasLayoutSupport,\n\t\t\tfeatureSelectors,\n\t\t} ) => {\n\t\t\t// Process styles for block support features with custom feature level\n\t\t\t// CSS selectors set.\n\t\t\tif ( featureSelectors ) {\n\t\t\t\tObject.entries( featureSelectors ).forEach(\n\t\t\t\t\t( [ featureName, featureSelector ] ) => {\n\t\t\t\t\t\tif ( styles?.[ featureName ] ) {\n\t\t\t\t\t\t\tconst featureStyles = {\n\t\t\t\t\t\t\t\t[ featureName ]: styles[ featureName ],\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tconst featureDeclarations =\n\t\t\t\t\t\t\t\tgetStylesDeclarations( featureStyles );\n\t\t\t\t\t\t\tdelete styles[ featureName ];\n\n\t\t\t\t\t\t\tif ( !! featureDeclarations.length ) {\n\t\t\t\t\t\t\t\truleset =\n\t\t\t\t\t\t\t\t\truleset +\n\t\t\t\t\t\t\t\t\t`${ featureSelector }{${ featureDeclarations.join(\n\t\t\t\t\t\t\t\t\t\t';'\n\t\t\t\t\t\t\t\t\t) } }`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst duotoneStyles = {};\n\t\t\tif ( styles?.filter ) {\n\t\t\t\tduotoneStyles.filter = styles.filter;\n\t\t\t\tdelete styles.filter;\n\t\t\t}\n\n\t\t\t// Process duotone styles (they use color.__experimentalDuotone selector).\n\t\t\tif ( duotoneSelector ) {\n\t\t\t\tconst duotoneDeclarations =\n\t\t\t\t\tgetStylesDeclarations( duotoneStyles );\n\t\t\t\tif ( duotoneDeclarations.length > 0 ) {\n\t\t\t\t\truleset =\n\t\t\t\t\t\truleset +\n\t\t\t\t\t\t`${ duotoneSelector }{${ duotoneDeclarations.join(\n\t\t\t\t\t\t\t';'\n\t\t\t\t\t\t) };}`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Process blockGap and layout styles.\n\t\t\tif (\n\t\t\t\t! disableLayoutStyles &&\n\t\t\t\t( ROOT_BLOCK_SELECTOR === selector || hasLayoutSupport )\n\t\t\t) {\n\t\t\t\truleset += getLayoutStyles( {\n\t\t\t\t\ttree,\n\t\t\t\t\tstyle: styles,\n\t\t\t\t\tselector,\n\t\t\t\t\thasBlockGapSupport,\n\t\t\t\t\thasFallbackGapSupport,\n\t\t\t\t\tfallbackGapValue,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Process the remaining block styles (they use either normal block class or __experimentalSelector).\n\t\t\tconst declarations = getStylesDeclarations(\n\t\t\t\tstyles,\n\t\t\t\tselector,\n\t\t\t\tuseRootPaddingAlign,\n\t\t\t\ttree\n\t\t\t);\n\t\t\tif ( declarations?.length ) {\n\t\t\t\truleset =\n\t\t\t\t\truleset + `${ selector }{${ declarations.join( ';' ) };}`;\n\t\t\t}\n\n\t\t\t// Check for pseudo selector in `styles` and handle separately.\n\t\t\tconst pseudoSelectorStyles = Object.entries( styles ).filter(\n\t\t\t\t( [ key ] ) => key.startsWith( ':' )\n\t\t\t);\n\n\t\t\tif ( pseudoSelectorStyles?.length ) {\n\t\t\t\tpseudoSelectorStyles.forEach(\n\t\t\t\t\t( [ pseudoKey, pseudoStyle ] ) => {\n\t\t\t\t\t\tconst pseudoDeclarations =\n\t\t\t\t\t\t\tgetStylesDeclarations( pseudoStyle );\n\n\t\t\t\t\t\tif ( ! pseudoDeclarations?.length ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// `selector` maybe provided in a form\n\t\t\t\t\t\t// where block level selectors have sub element\n\t\t\t\t\t\t// selectors appended to them as a comma separated\n\t\t\t\t\t\t// string.\n\t\t\t\t\t\t// e.g. `h1 a,h2 a,h3 a,h4 a,h5 a,h6 a`;\n\t\t\t\t\t\t// Split and append pseudo selector to create\n\t\t\t\t\t\t// the proper rules to target the elements.\n\t\t\t\t\t\tconst _selector = selector\n\t\t\t\t\t\t\t.split( ',' )\n\t\t\t\t\t\t\t.map( ( sel ) => sel + pseudoKey )\n\t\t\t\t\t\t\t.join( ',' );\n\n\t\t\t\t\t\tconst pseudoRule = `${ _selector }{${ pseudoDeclarations.join(\n\t\t\t\t\t\t\t';'\n\t\t\t\t\t\t) };}`;\n\n\t\t\t\t\t\truleset = ruleset + pseudoRule;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t);\n\n\t/* Add alignment / layout styles */\n\truleset =\n\t\truleset +\n\t\t'.wp-site-blocks > .alignleft { float: left; margin-right: 2em; }';\n\truleset =\n\t\truleset +\n\t\t'.wp-site-blocks > .alignright { float: right; margin-left: 2em; }';\n\truleset =\n\t\truleset +\n\t\t'.wp-site-blocks > .aligncenter { justify-content: center; margin-left: auto; margin-right: auto; }';\n\n\tif ( hasBlockGapSupport ) {\n\t\t// Use fallback of `0.5em` just in case, however if there is blockGap support, there should nearly always be a real value.\n\t\tconst gapValue =\n\t\t\tgetGapCSSValue( tree?.styles?.spacing?.blockGap ) || '0.5em';\n\t\truleset =\n\t\t\truleset +\n\t\t\t'.wp-site-blocks > * { margin-block-start: 0; margin-block-end: 0; }';\n\t\truleset =\n\t\t\truleset +\n\t\t\t`.wp-site-blocks > * + * { margin-block-start: ${ gapValue }; }`;\n\t}\n\n\tnodesWithSettings.forEach( ( { selector, presets } ) => {\n\t\tif ( ROOT_BLOCK_SELECTOR === selector ) {\n\t\t\t// Do not add extra specificity for top-level classes.\n\t\t\tselector = '';\n\t\t}\n\n\t\tconst classes = getPresetsClasses( selector, presets );\n\t\tif ( ! isEmpty( classes ) ) {\n\t\t\truleset = ruleset + classes;\n\t\t}\n\t} );\n\n\treturn ruleset;\n};\n\nexport function toSvgFilters( tree, blockSelectors ) {\n\tconst nodesWithSettings = getNodesWithSettings( tree, blockSelectors );\n\treturn nodesWithSettings.flatMap( ( { presets } ) => {\n\t\treturn getPresetsSvgFilters( presets );\n\t} );\n}\n\nexport const getBlockSelectors = ( blockTypes ) => {\n\tconst result = {};\n\tblockTypes.forEach( ( blockType ) => {\n\t\tconst name = blockType.name;\n\t\tconst selector =\n\t\t\tblockType?.supports?.__experimentalSelector ??\n\t\t\t'.wp-block-' + name.replace( 'core/', '' ).replace( '/', '-' );\n\t\tconst duotoneSelector =\n\t\t\tblockType?.supports?.color?.__experimentalDuotone ?? null;\n\t\tconst hasLayoutSupport = !! blockType?.supports?.__experimentalLayout;\n\t\tconst fallbackGapValue =\n\t\t\tblockType?.supports?.spacing?.blockGap?.__experimentalDefault;\n\n\t\t// For each block support feature add any custom selectors.\n\t\tconst featureSelectors = {};\n\t\tObject.entries( BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS ).forEach(\n\t\t\t( [ featureKey, featureName ] ) => {\n\t\t\t\tconst featureSelector =\n\t\t\t\t\tblockType?.supports?.[ featureKey ]?.__experimentalSelector;\n\n\t\t\t\tif ( featureSelector ) {\n\t\t\t\t\tfeatureSelectors[ featureName ] = scopeSelector(\n\t\t\t\t\t\tselector,\n\t\t\t\t\t\tfeatureSelector\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tresult[ name ] = {\n\t\t\tduotoneSelector,\n\t\t\tfallbackGapValue,\n\t\t\tfeatureSelectors: Object.keys( featureSelectors ).length\n\t\t\t\t? featureSelectors\n\t\t\t\t: undefined,\n\t\t\thasLayoutSupport,\n\t\t\tname,\n\t\t\tselector,\n\t\t};\n\t} );\n\n\treturn result;\n};\n\n/**\n * If there is a separator block whose color is defined in theme.json via background,\n * update the separator color to the same value by using border color.\n *\n * @param {Object} config Theme.json configuration file object.\n * @return {Object} configTheme.json configuration file object updated.\n */\nfunction updateConfigWithSeparator( config ) {\n\tconst needsSeparatorStyleUpdate =\n\t\tconfig.styles?.blocks[ 'core/separator' ] &&\n\t\tconfig.styles?.blocks[ 'core/separator' ].color?.background &&\n\t\t! config.styles?.blocks[ 'core/separator' ].color?.text &&\n\t\t! config.styles?.blocks[ 'core/separator' ].border?.color;\n\tif ( needsSeparatorStyleUpdate ) {\n\t\treturn {\n\t\t\t...config,\n\t\t\tstyles: {\n\t\t\t\t...config.styles,\n\t\t\t\tblocks: {\n\t\t\t\t\t...config.styles.blocks,\n\t\t\t\t\t'core/separator': {\n\t\t\t\t\t\t...config.styles.blocks[ 'core/separator' ],\n\t\t\t\t\t\tcolor: {\n\t\t\t\t\t\t\t...config.styles.blocks[ 'core/separator' ].color,\n\t\t\t\t\t\t\ttext: config.styles?.blocks[ 'core/separator' ]\n\t\t\t\t\t\t\t\t.color.background,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t}\n\treturn config;\n}\n\nexport function useGlobalStylesOutput() {\n\tlet { merged: mergedConfig } = useContext( GlobalStylesContext );\n\n\tconst [ blockGap ] = useSetting( 'spacing.blockGap' );\n\tconst hasBlockGapSupport = blockGap !== null;\n\tconst hasFallbackGapSupport = ! hasBlockGapSupport; // This setting isn't useful yet: it exists as a placeholder for a future explicit fallback styles support.\n\tconst disableLayoutStyles = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\treturn !! getSettings().disableLayoutStyles;\n\t} );\n\n\treturn useMemo( () => {\n\t\tif ( ! mergedConfig?.styles || ! mergedConfig?.settings ) {\n\t\t\treturn [];\n\t\t}\n\t\tmergedConfig = updateConfigWithSeparator( mergedConfig );\n\t\tconst blockSelectors = getBlockSelectors( getBlockTypes() );\n\t\tconst customProperties = toCustomProperties(\n\t\t\tmergedConfig,\n\t\t\tblockSelectors\n\t\t);\n\t\tconst globalStyles = toStyles(\n\t\t\tmergedConfig,\n\t\t\tblockSelectors,\n\t\t\thasBlockGapSupport,\n\t\t\thasFallbackGapSupport,\n\t\t\tdisableLayoutStyles\n\t\t);\n\t\tconst filters = toSvgFilters( mergedConfig, blockSelectors );\n\t\tconst stylesheets = [\n\t\t\t{\n\t\t\t\tcss: customProperties,\n\t\t\t\tisGlobalStyles: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tcss: globalStyles,\n\t\t\t\tisGlobalStyles: true,\n\t\t\t},\n\t\t];\n\n\t\treturn [ stylesheets, mergedConfig.settings, filters ];\n\t}, [\n\t\thasBlockGapSupport,\n\t\thasFallbackGapSupport,\n\t\tmergedConfig,\n\t\tdisableLayoutStyles,\n\t] );\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\t__unstableIframe as Iframe,\n\t__unstableEditorStyles as EditorStyles,\n} from '@wordpress/block-editor';\nimport {\n\t__unstableMotion as motion,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useReducedMotion, useResizeObserver } from '@wordpress/compose';\nimport { useState, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useSetting, useStyle } from './hooks';\nimport { useGlobalStylesOutput } from './use-global-styles-output';\n\nconst firstFrame = {\n\tstart: {\n\t\tscale: 1,\n\t\topacity: 1,\n\t},\n\thover: {\n\t\tscale: 0,\n\t\topacity: 0,\n\t},\n};\n\nconst midFrame = {\n\thover: {\n\t\topacity: 1,\n\t},\n\tstart: {\n\t\topacity: 0.5,\n\t},\n};\n\nconst secondFrame = {\n\thover: {\n\t\tscale: 1,\n\t\topacity: 1,\n\t},\n\tstart: {\n\t\tscale: 0,\n\t\topacity: 0,\n\t},\n};\n\nconst normalizedWidth = 248;\nconst normalizedHeight = 152;\n\nconst normalizedColorSwatchSize = 32;\n\nconst StylesPreview = ( { label, isFocused, withHoverView } ) => {\n\tconst [ fontWeight ] = useStyle( 'typography.fontWeight' );\n\tconst [ fontFamily = 'serif' ] = useStyle( 'typography.fontFamily' );\n\tconst [ headingFontFamily = fontFamily ] = useStyle(\n\t\t'elements.h1.typography.fontFamily'\n\t);\n\tconst [ headingFontWeight = fontWeight ] = useStyle(\n\t\t'elements.h1.typography.fontWeight'\n\t);\n\tconst [ textColor = 'black' ] = useStyle( 'color.text' );\n\tconst [ headingColor = textColor ] = useStyle( 'elements.h1.color.text' );\n\tconst [ backgroundColor = 'white' ] = useStyle( 'color.background' );\n\tconst [ gradientValue ] = useStyle( 'color.gradient' );\n\tconst [ styles ] = useGlobalStylesOutput();\n\tconst disableMotion = useReducedMotion();\n\tconst [ coreColors ] = useSetting( 'color.palette.core' );\n\tconst [ themeColors ] = useSetting( 'color.palette.theme' );\n\tconst [ customColors ] = useSetting( 'color.palette.custom' );\n\tconst [ isHovered, setIsHovered ] = useState( false );\n\tconst [ containerResizeListener, { width } ] = useResizeObserver();\n\tconst ratio = width ? width / normalizedWidth : 1;\n\n\tconst paletteColors = ( themeColors ?? [] )\n\t\t.concat( customColors ?? [] )\n\t\t.concat( coreColors ?? [] );\n\tconst highlightedColors = paletteColors\n\t\t.filter(\n\t\t\t// we exclude these two colors because they are already visible in the preview.\n\t\t\t( { color } ) => color !== backgroundColor && color !== headingColor\n\t\t)\n\t\t.slice( 0, 2 );\n\n\t// Reset leaked styles from WP common.css and remove main content layout padding and border.\n\tconst editorStyles = useMemo( () => {\n\t\tif ( styles ) {\n\t\t\treturn [\n\t\t\t\t...styles,\n\t\t\t\t{\n\t\t\t\t\tcss: 'html{overflow:hidden}body{min-width: 0;padding: 0;border: none;}',\n\t\t\t\t\tisGlobalStyles: true,\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\n\t\treturn styles;\n\t}, [ styles ] );\n\n\treturn (\n\t\t<Iframe\n\t\t\tclassName=\"edit-site-global-styles-preview__iframe\"\n\t\t\thead={ <EditorStyles styles={ editorStyles } /> }\n\t\t\tstyle={ {\n\t\t\t\theight: normalizedHeight * ratio,\n\t\t\t\tvisibility: ! width ? 'hidden' : 'visible',\n\t\t\t} }\n\t\t\tonMouseEnter={ () => setIsHovered( true ) }\n\t\t\tonMouseLeave={ () => setIsHovered( false ) }\n\t\t\ttabIndex={ -1 }\n\t\t>\n\t\t\t{ containerResizeListener }\n\t\t\t<motion.div\n\t\t\t\tstyle={ {\n\t\t\t\t\theight: normalizedHeight * ratio,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tbackground: gradientValue ?? backgroundColor,\n\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t} }\n\t\t\t\tinitial=\"start\"\n\t\t\t\tanimate={\n\t\t\t\t\t( isHovered || isFocused ) && ! disableMotion && label\n\t\t\t\t\t\t? 'hover'\n\t\t\t\t\t\t: 'start'\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<motion.div\n\t\t\t\t\tvariants={ firstFrame }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tspacing={ 10 * ratio }\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\tfontFamily: headingFontFamily,\n\t\t\t\t\t\t\t\tfontSize: 65 * ratio,\n\t\t\t\t\t\t\t\tcolor: headingColor,\n\t\t\t\t\t\t\t\tfontWeight: headingFontWeight,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tanimate={ { scale: 1, opacity: 1 } }\n\t\t\t\t\t\t\tinitial={ { scale: 0.1, opacity: 0 } }\n\t\t\t\t\t\t\ttransition={ { delay: 0.3, type: 'tween' } }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAa\n\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t<VStack spacing={ 4 * ratio }>\n\t\t\t\t\t\t\t{ highlightedColors.map(\n\t\t\t\t\t\t\t\t( { slug, color }, index ) => (\n\t\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\t\tkey={ slug }\n\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\theight:\n\t\t\t\t\t\t\t\t\t\t\t\tnormalizedColorSwatchSize *\n\t\t\t\t\t\t\t\t\t\t\t\tratio,\n\t\t\t\t\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\t\t\t\t\tnormalizedColorSwatchSize *\n\t\t\t\t\t\t\t\t\t\t\t\tratio,\n\t\t\t\t\t\t\t\t\t\t\tbackground: color,\n\t\t\t\t\t\t\t\t\t\t\tborderRadius:\n\t\t\t\t\t\t\t\t\t\t\t\t( normalizedColorSwatchSize *\n\t\t\t\t\t\t\t\t\t\t\t\t\tratio ) /\n\t\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\tanimate={ { scale: 1, opacity: 1 } }\n\t\t\t\t\t\t\t\t\t\tinitial={ { scale: 0.1, opacity: 0 } }\n\t\t\t\t\t\t\t\t\t\ttransition={ {\n\t\t\t\t\t\t\t\t\t\t\tdelay: index === 1 ? 0.2 : 0.1,\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</HStack>\n\t\t\t\t</motion.div>\n\t\t\t\t<motion.div\n\t\t\t\t\tvariants={ withHoverView && midFrame }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\tfilter: 'blur(60px)',\n\t\t\t\t\t\topacity: 0.1,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tspacing={ 0 }\n\t\t\t\t\t\tjustify=\"flex-start\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ paletteColors\n\t\t\t\t\t\t\t.slice( 0, 4 )\n\t\t\t\t\t\t\t.map( ( { color }, index ) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\tbackground: color,\n\t\t\t\t\t\t\t\t\t\tflexGrow: 1,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t</HStack>\n\t\t\t\t</motion.div>\n\t\t\t\t<motion.div\n\t\t\t\t\tvariants={ secondFrame }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tspacing={ 3 * ratio }\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\tpadding: 10 * ratio,\n\t\t\t\t\t\t\tboxSizing: 'border-box',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ label && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tfontSize: 40 * ratio,\n\t\t\t\t\t\t\t\t\tfontFamily: headingFontFamily,\n\t\t\t\t\t\t\t\t\tcolor: headingColor,\n\t\t\t\t\t\t\t\t\tfontWeight: headingFontWeight,\n\t\t\t\t\t\t\t\t\tlineHeight: '1em',\n\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VStack>\n\t\t\t\t</motion.div>\n\t\t\t</motion.div>\n\t\t</Iframe>\n\t);\n};\n\nexport default StylesPreview;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalHStack as HStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalVStack as VStack,\n\tFlexItem,\n\tCardBody,\n\tCard,\n\tCardDivider,\n\tCardMedia,\n} from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { chevronLeft, chevronRight } from '@wordpress/icons';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { IconWithCurrentColor } from './icon-with-current-color';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport ContextMenu from './context-menu';\nimport StylesPreview from './preview';\n\nfunction ScreenRoot() {\n\tconst { variations } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tvariations:\n\t\t\t\tselect(\n\t\t\t\t\tcoreStore\n\t\t\t\t).__experimentalGetCurrentThemeGlobalStylesVariations(),\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<Card size=\"small\">\n\t\t\t<CardBody>\n\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<CardMedia>\n\t\t\t\t\t\t\t<StylesPreview />\n\t\t\t\t\t\t</CardMedia>\n\t\t\t\t\t</Card>\n\t\t\t\t\t{ !! variations?.length && (\n\t\t\t\t\t\t<ItemGroup>\n\t\t\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\t\t\tpath=\"/variations\"\n\t\t\t\t\t\t\t\taria-label={ __( 'Browse styles' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Browse styles' ) }\n\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t<IconWithCurrentColor\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronLeft : chevronRight\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t) }\n\t\t\t\t\t<ContextMenu />\n\t\t\t\t</VStack>\n\t\t\t</CardBody>\n\n\t\t\t<CardDivider />\n\n\t\t\t<CardBody>\n\t\t\t\t<Spacer\n\t\t\t\t\tas=\"p\"\n\t\t\t\t\tpaddingTop={ 2 }\n\t\t\t\t\t/*\n\t\t\t\t\t * 13px matches the text inset of the NavigationButton (12px padding, plus the width of the button's border).\n\t\t\t\t\t * This is an ad hoc override for this particular instance only and should be reconsidered before making into a pattern.\n\t\t\t\t\t */\n\t\t\t\t\tpaddingX=\"13px\"\n\t\t\t\t\tmarginBottom={ 4 }\n\t\t\t\t>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Customize the appearance of specific blocks for the whole site.'\n\t\t\t\t\t) }\n\t\t\t\t</Spacer>\n\t\t\t\t<ItemGroup>\n\t\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\t\tpath=\"/blocks\"\n\t\t\t\t\t\taria-label={ __( 'Blocks styles' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t<FlexItem>{ __( 'Blocks' ) }</FlexItem>\n\t\t\t\t\t\t\t<IconWithCurrentColor\n\t\t\t\t\t\t\t\ticon={ isRTL() ? chevronLeft : chevronRight }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t</NavigationButtonAsItem>\n\t\t\t\t</ItemGroup>\n\t\t\t</CardBody>\n\t\t</Card>\n\t);\n}\n\nexport default ScreenRoot;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalHeading as Heading,\n\t__experimentalView as View,\n\t__experimentalNavigatorBackButton as NavigatorBackButton,\n} from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { chevronRight, chevronLeft } from '@wordpress/icons';\n\nfunction ScreenHeader( { title, description } ) {\n\treturn (\n\t\t<VStack spacing={ 0 }>\n\t\t\t<View>\n\t\t\t\t<Spacer marginBottom={ 0 } paddingX={ 4 } paddingY={ 3 }>\n\t\t\t\t\t<HStack spacing={ 2 }>\n\t\t\t\t\t\t<NavigatorBackButton\n\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t// TODO: This style override is also used in ToolsPanelHeader.\n\t\t\t\t\t\t\t\t// It should be supported out-of-the-box by Button.\n\t\t\t\t\t\t\t\t{ minWidth: 24, padding: 0 }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ticon={ isRTL() ? chevronRight : chevronLeft }\n\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\taria-label={ __( 'Navigate to the previous view' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Spacer>\n\t\t\t\t\t\t\t<Heading level={ 5 }>{ title }</Heading>\n\t\t\t\t\t\t</Spacer>\n\t\t\t\t\t</HStack>\n\t\t\t\t</Spacer>\n\t\t\t</View>\n\t\t\t{ description && (\n\t\t\t\t<p className=\"edit-site-global-styles-header__description\">\n\t\t\t\t\t{ description }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\nexport default ScreenHeader;\n","/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { __, sprintf, _n } from '@wordpress/i18n';\nimport {\n\tFlexItem,\n\tSearchControl,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { useState, useMemo, useEffect, useRef } from '@wordpress/element';\nimport { BlockIcon } from '@wordpress/block-editor';\nimport { useDebounce } from '@wordpress/compose';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport { useHasBorderPanel } from './border-panel';\nimport { useHasColorPanel } from './color-utils';\nimport { useHasDimensionsPanel } from './dimensions-panel';\nimport { useHasTypographyPanel } from './typography-panel';\nimport ScreenHeader from './header';\nimport { NavigationButtonAsItem } from './navigation-button';\n\nfunction useSortedBlockTypes() {\n\tconst blockItems = useSelect(\n\t\t( select ) => select( blocksStore ).getBlockTypes(),\n\t\t[]\n\t);\n\t// Ensure core blocks are prioritized in the returned results,\n\t// because third party blocks can be registered earlier than\n\t// the core blocks (usually by using the `init` action),\n\t// thus affecting the display order.\n\t// We don't sort reusable blocks as they are handled differently.\n\tconst groupByType = ( blocks, block ) => {\n\t\tconst { core, noncore } = blocks;\n\t\tconst type = block.name.startsWith( 'core/' ) ? core : noncore;\n\t\ttype.push( block );\n\t\treturn blocks;\n\t};\n\tconst { core: coreItems, noncore: nonCoreItems } = blockItems.reduce(\n\t\tgroupByType,\n\t\t{ core: [], noncore: [] }\n\t);\n\treturn [ ...coreItems, ...nonCoreItems ];\n}\n\nfunction BlockMenuItem( { block } ) {\n\tconst hasTypographyPanel = useHasTypographyPanel( block.name );\n\tconst hasColorPanel = useHasColorPanel( block.name );\n\tconst hasBorderPanel = useHasBorderPanel( block.name );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( block.name );\n\tconst hasLayoutPanel = hasBorderPanel || hasDimensionsPanel;\n\tconst hasBlockMenuItem =\n\t\thasTypographyPanel || hasColorPanel || hasLayoutPanel;\n\n\tif ( ! hasBlockMenuItem ) {\n\t\treturn null;\n\t}\n\n\tconst navigationButtonLabel = sprintf(\n\t\t// translators: %s: is the name of a block e.g., 'Image' or 'Table'.\n\t\t__( '%s block styles' ),\n\t\tblock.title\n\t);\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={ '/blocks/' + block.name }\n\t\t\taria-label={ navigationButtonLabel }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<BlockIcon icon={ block.icon } />\n\t\t\t\t<FlexItem>{ block.title }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction ScreenBlockList() {\n\tconst sortedBlockTypes = useSortedBlockTypes();\n\tconst [ filterValue, setFilterValue ] = useState( '' );\n\tconst debouncedSpeak = useDebounce( speak, 500 );\n\tconst isMatchingSearchTerm = useSelect(\n\t\t( select ) => select( blocksStore ).isMatchingSearchTerm,\n\t\t[]\n\t);\n\tconst filteredBlockTypes = useMemo( () => {\n\t\tif ( ! filterValue ) {\n\t\t\treturn sortedBlockTypes;\n\t\t}\n\t\treturn sortedBlockTypes.filter( ( blockType ) =>\n\t\t\tisMatchingSearchTerm( blockType, filterValue )\n\t\t);\n\t}, [ filterValue, sortedBlockTypes, isMatchingSearchTerm ] );\n\n\tconst blockTypesListRef = useRef();\n\n\t// Announce search results on change\n\tuseEffect( () => {\n\t\tif ( ! filterValue ) {\n\t\t\treturn;\n\t\t}\n\t\t// We extract the results from the wrapper div's `ref` because\n\t\t// filtered items can contain items that will eventually not\n\t\t// render and there is no reliable way to detect when a child\n\t\t// will return `null`.\n\t\t// TODO: We should find a better way of handling this as it's\n\t\t// fragile and depends on the number of rendered elements of `BlockMenuItem`,\n\t\t// which is now one.\n\t\t// @see https://github.com/WordPress/gutenberg/pull/39117#discussion_r816022116\n\t\tconst count = blockTypesListRef.current.childElementCount;\n\t\tconst resultsFoundMessage = sprintf(\n\t\t\t/* translators: %d: number of results. */\n\t\t\t_n( '%d result found.', '%d results found.', count ),\n\t\t\tcount\n\t\t);\n\t\tdebouncedSpeak( resultsFoundMessage, count );\n\t}, [ filterValue, debouncedSpeak ] );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Blocks' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Customize the appearance of specific blocks and for the whole site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<SearchControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tclassName=\"edit-site-block-types-search\"\n\t\t\t\tonChange={ setFilterValue }\n\t\t\t\tvalue={ filterValue }\n\t\t\t\tlabel={ __( 'Search for blocks' ) }\n\t\t\t\tplaceholder={ __( 'Search' ) }\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tref={ blockTypesListRef }\n\t\t\t\tclassName=\"edit-site-block-types-item-list\"\n\t\t\t>\n\t\t\t\t{ filteredBlockTypes.map( ( block ) => (\n\t\t\t\t\t<BlockMenuItem\n\t\t\t\t\t\tblock={ block }\n\t\t\t\t\t\tkey={ 'menu-itemblock-' + block.name }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ScreenBlockList;\n","/**\n * WordPress dependencies\n */\nimport { getBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport ContextMenu from './context-menu';\nimport ScreenHeader from './header';\n\nfunction ScreenBlock( { name } ) {\n\tconst blockType = getBlockType( name );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader title={ blockType.title } />\n\t\t\t<ContextMenu parentMenu={ '/blocks/' + name } name={ name } />\n\t\t</>\n\t);\n}\n\nexport default ScreenBlock;\n","/**\n * WordPress dependencies\n */\nimport { __experimentalHeading as Heading } from '@wordpress/components';\n\nfunction Subtitle( { children } ) {\n\treturn (\n\t\t<Heading className=\"edit-site-global-styles-subtitle\" level={ 2 }>\n\t\t\t{ children }\n\t\t</Heading>\n\t);\n}\n\nexport default Subtitle;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tFlexItem,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { useStyle } from './hooks';\nimport Subtitle from './subtitle';\nimport TypographyPanel from './typography-panel';\n\nfunction Item( { name, parentMenu, element, label } ) {\n\tconst hasSupport = ! name;\n\tconst prefix =\n\t\telement === 'text' || ! element ? '' : `elements.${ element }.`;\n\tconst extraStyles =\n\t\telement === 'link'\n\t\t\t? {\n\t\t\t\t\ttextDecoration: 'underline',\n\t\t\t  }\n\t\t\t: {};\n\tconst [ fontFamily ] = useStyle( prefix + 'typography.fontFamily', name );\n\tconst [ fontStyle ] = useStyle( prefix + 'typography.fontStyle', name );\n\tconst [ fontWeight ] = useStyle( prefix + 'typography.fontWeight', name );\n\tconst [ letterSpacing ] = useStyle(\n\t\tprefix + 'typography.letterSpacing',\n\t\tname\n\t);\n\tconst [ backgroundColor ] = useStyle( prefix + 'color.background', name );\n\tconst [ gradientValue ] = useStyle( prefix + 'color.gradient', name );\n\tconst [ color ] = useStyle( prefix + 'color.text', name );\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\tconst navigationButtonLabel = sprintf(\n\t\t// translators: %s: is a subset of Typography, e.g., 'text' or 'links'.\n\t\t__( 'Typography %s styles' ),\n\t\tlabel\n\t);\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={ parentMenu + '/typography/' + element }\n\t\t\taria-label={ navigationButtonLabel }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<FlexItem\n\t\t\t\t\tclassName=\"edit-site-global-styles-screen-typography__indicator\"\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tfontFamily: fontFamily ?? 'serif',\n\t\t\t\t\t\tbackground: gradientValue ?? backgroundColor,\n\t\t\t\t\t\tcolor,\n\t\t\t\t\t\tfontStyle,\n\t\t\t\t\t\tfontWeight,\n\t\t\t\t\t\tletterSpacing,\n\t\t\t\t\t\t...extraStyles,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Aa' ) }\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem>{ label }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction ScreenTypography( { name } ) {\n\tconst parentMenu = name === undefined ? '' : '/blocks/' + name;\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Typography' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Manage the typography settings for different elements.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t{ ! name && (\n\t\t\t\t<div className=\"edit-site-global-styles-screen-typography\">\n\t\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t\t<Subtitle>{ __( 'Elements' ) }</Subtitle>\n\t\t\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\telement=\"text\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Text' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\telement=\"link\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Links' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\telement=\"heading\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Headings' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\telement=\"button\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Buttons' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t</VStack>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ /* No typography elements support yet for blocks. */ }\n\t\t\t{ !! name && <TypographyPanel name={ name } element=\"text\" /> }\n\t\t</>\n\t);\n}\n\nexport default ScreenTypography;\n","/**\n * Internal dependencies\n */\nimport { useStyle } from './hooks';\n\nexport default function TypographyPreview( { name, element, headingLevel } ) {\n\tlet prefix = '';\n\tif ( element === 'heading' ) {\n\t\tprefix = `elements.${ headingLevel }.`;\n\t} else if ( element && element !== 'text' ) {\n\t\tprefix = `elements.${ element }.`;\n\t}\n\n\tconst [ fontFamily ] = useStyle( prefix + 'typography.fontFamily', name );\n\tconst [ gradientValue ] = useStyle( prefix + 'color.gradient', name );\n\tconst [ backgroundColor ] = useStyle( prefix + 'color.background', name );\n\tconst [ color ] = useStyle( prefix + 'color.text', name );\n\tconst [ fontSize ] = useStyle( prefix + 'typography.fontSize', name );\n\tconst [ fontStyle ] = useStyle( prefix + 'typography.fontStyle', name );\n\tconst [ fontWeight ] = useStyle( prefix + 'typography.fontWeight', name );\n\tconst [ letterSpacing ] = useStyle(\n\t\tprefix + 'typography.letterSpacing',\n\t\tname\n\t);\n\tconst extraStyles =\n\t\telement === 'link'\n\t\t\t? {\n\t\t\t\t\ttextDecoration: 'underline',\n\t\t\t  }\n\t\t\t: {};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"edit-site-typography-preview\"\n\t\t\tstyle={ {\n\t\t\t\tfontFamily: fontFamily ?? 'serif',\n\t\t\t\tbackground: gradientValue ?? backgroundColor,\n\t\t\t\tcolor,\n\t\t\t\tfontSize,\n\t\t\t\tfontStyle,\n\t\t\t\tfontWeight,\n\t\t\t\tletterSpacing,\n\t\t\t\t...extraStyles,\n\t\t\t} }\n\t\t>\n\t\t\tAa\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalSpacer as Spacer,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport TypographyPanel from './typography-panel';\nimport ScreenHeader from './header';\nimport TypographyPreview from './typography-preview';\n\nconst elements = {\n\ttext: {\n\t\tdescription: __( 'Manage the fonts used on the site.' ),\n\t\ttitle: __( 'Text' ),\n\t},\n\tlink: {\n\t\tdescription: __( 'Manage the fonts and typography used on the links.' ),\n\t\ttitle: __( 'Links' ),\n\t},\n\theading: {\n\t\tdescription: __( 'Manage the fonts and typography used on headings.' ),\n\t\ttitle: __( 'Headings' ),\n\t},\n\tbutton: {\n\t\tdescription: __( 'Manage the fonts and typography used on buttons.' ),\n\t\ttitle: __( 'Buttons' ),\n\t},\n};\n\nfunction ScreenTypographyElement( { name, element } ) {\n\tconst [ headingLevel, setHeadingLevel ] = useState( 'heading' );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ elements[ element ].title }\n\t\t\t\tdescription={ elements[ element ].description }\n\t\t\t/>\n\t\t\t<Spacer marginX={ 4 }>\n\t\t\t\t<TypographyPreview\n\t\t\t\t\tname={ name }\n\t\t\t\t\telement={ element }\n\t\t\t\t\theadingLevel={ headingLevel }\n\t\t\t\t/>\n\t\t\t</Spacer>\n\t\t\t{ element === 'heading' && (\n\t\t\t\t<Spacer marginX={ 4 } marginBottom=\"1em\">\n\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\tlabel={ __( 'Select heading level' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tvalue={ headingLevel }\n\t\t\t\t\t\tonChange={ setHeadingLevel }\n\t\t\t\t\t\tisBlock\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"heading\"\n\t\t\t\t\t\t\t/* translators: 'All' refers to selecting all heading levels \n\t\t\t\t\t\t\tand applying the same style to h1-h6. */\n\t\t\t\t\t\t\tlabel={ __( 'All' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h1\"\n\t\t\t\t\t\t\tlabel={ __( 'H1' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h2\"\n\t\t\t\t\t\t\tlabel={ __( 'H2' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h3\"\n\t\t\t\t\t\t\tlabel={ __( 'H3' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h4\"\n\t\t\t\t\t\t\tlabel={ __( 'H4' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h5\"\n\t\t\t\t\t\t\tlabel={ __( 'H5' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"h6\"\n\t\t\t\t\t\t\tlabel={ __( 'H6' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t</Spacer>\n\t\t\t) }\n\t\t\t<TypographyPanel\n\t\t\t\tname={ name }\n\t\t\t\telement={ element }\n\t\t\t\theadingLevel={ headingLevel }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenTypographyElement;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst shuffle = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/SVG\">\n\t\t<Path d=\"M17.192 6.75L15.47 5.03l1.06-1.06 3.537 3.53-3.537 3.53-1.06-1.06 1.723-1.72h-3.19c-.602 0-.993.202-1.28.498-.309.319-.538.792-.695 1.383-.13.488-.222 1.023-.296 1.508-.034.664-.116 1.413-.303 2.117-.193.721-.513 1.467-1.068 2.04-.575.594-1.359.954-2.357.954H4v-1.5h4.003c.601 0 .993-.202 1.28-.498.308-.319.538-.792.695-1.383.149-.557.216-1.093.288-1.662l.039-.31a9.653 9.653 0 0 1 .272-1.653c.193-.722.513-1.467 1.067-2.04.576-.594 1.36-.954 2.358-.954h3.19zM8.004 6.75c.8 0 1.46.23 1.988.628a6.24 6.24 0 0 0-.684 1.396 1.725 1.725 0 0 0-.024-.026c-.287-.296-.679-.498-1.28-.498H4v-1.5h4.003zM12.699 14.726c-.161.459-.38.94-.684 1.396.527.397 1.188.628 1.988.628h3.19l-1.722 1.72 1.06 1.06L20.067 16l-3.537-3.53-1.06 1.06 1.723 1.72h-3.19c-.602 0-.993-.202-1.28-.498a1.96 1.96 0 0 1-.024-.026z\" />\n\t</SVG>\n);\n\nexport default shuffle;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Flex } from '@wordpress/components';\n\nfunction ColorIndicatorWrapper( { className, ...props } ) {\n\treturn (\n\t\t<Flex\n\t\t\tclassName={ classnames(\n\t\t\t\t'edit-site-global-styles__color-indicator-wrapper',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n\nexport default ColorIndicatorWrapper;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\tFlexItem,\n\t__experimentalHStack as HStack,\n\t__experimentalZStack as ZStack,\n\t__experimentalVStack as VStack,\n\tColorIndicator,\n\tButton,\n} from '@wordpress/components';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { shuffle } from '@wordpress/icons';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Subtitle from './subtitle';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { useColorRandomizer, useSetting } from './hooks';\nimport ColorIndicatorWrapper from './color-indicator-wrapper';\n\nconst EMPTY_COLORS = [];\n\nfunction Palette( { name } ) {\n\tconst [ customColors ] = useSetting( 'color.palette.custom' );\n\tconst [ themeColors ] = useSetting( 'color.palette.theme' );\n\tconst [ defaultColors ] = useSetting( 'color.palette.default' );\n\n\tconst [ defaultPaletteEnabled ] = useSetting(\n\t\t'color.defaultPalette',\n\t\tname\n\t);\n\n\tconst [ randomizeThemeColors ] = useColorRandomizer();\n\n\tconst colors = useMemo(\n\t\t() => [\n\t\t\t...( customColors || EMPTY_COLORS ),\n\t\t\t...( themeColors || EMPTY_COLORS ),\n\t\t\t...( defaultColors && defaultPaletteEnabled\n\t\t\t\t? defaultColors\n\t\t\t\t: EMPTY_COLORS ),\n\t\t],\n\t\t[ customColors, themeColors, defaultColors, defaultPaletteEnabled ]\n\t);\n\n\tconst screenPath = ! name\n\t\t? '/colors/palette'\n\t\t: '/blocks/' + name + '/colors/palette';\n\tconst paletteButtonText =\n\t\tcolors.length > 0\n\t\t\t? sprintf(\n\t\t\t\t\t// Translators: %d: Number of palette colors.\n\t\t\t\t\t_n( '%d color', '%d colors', colors.length ),\n\t\t\t\t\tcolors.length\n\t\t\t  )\n\t\t\t: __( 'Add custom colors' );\n\n\treturn (\n\t\t<VStack spacing={ 3 }>\n\t\t\t<Subtitle>{ __( 'Palette' ) }</Subtitle>\n\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t<NavigationButtonAsItem\n\t\t\t\t\tpath={ screenPath }\n\t\t\t\t\taria-label={ __( 'Color palettes' ) }\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tdirection={\n\t\t\t\t\t\t\tcolors.length === 0 ? 'row-reverse' : 'row'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ZStack isLayered={ false } offset={ -8 }>\n\t\t\t\t\t\t\t{ colors\n\t\t\t\t\t\t\t\t.slice( 0, 5 )\n\t\t\t\t\t\t\t\t.map( ( { color }, index ) => (\n\t\t\t\t\t\t\t\t\t<ColorIndicatorWrapper\n\t\t\t\t\t\t\t\t\t\tkey={ `${ color }-${ index }` }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ColorIndicator colorValue={ color } />\n\t\t\t\t\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</ZStack>\n\t\t\t\t\t\t<FlexItem>{ paletteButtonText }</FlexItem>\n\t\t\t\t\t</HStack>\n\t\t\t\t</NavigationButtonAsItem>\n\t\t\t</ItemGroup>\n\t\t\t{ randomizeThemeColors && (\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\ticon={ shuffle }\n\t\t\t\t\tonClick={ randomizeThemeColors }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Randomize colors' ) }\n\t\t\t\t</Button>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\nexport default Palette;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalZStack as ZStack,\n\tFlexItem,\n\tColorIndicator,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport Palette from './palette';\nimport { NavigationButtonAsItem } from './navigation-button';\nimport { getSupportedGlobalStylesPanels, useStyle } from './hooks';\nimport Subtitle from './subtitle';\nimport ColorIndicatorWrapper from './color-indicator-wrapper';\n\nfunction BackgroundColorItem( { name, parentMenu } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport =\n\t\tsupports.includes( 'backgroundColor' ) ||\n\t\tsupports.includes( 'background' );\n\tconst [ backgroundColor ] = useStyle( 'color.background', name );\n\tconst [ gradientValue ] = useStyle( 'color.gradient', name );\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={ parentMenu + '/colors/background' }\n\t\t\taria-label={ __( 'Colors background styles' ) }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\tcolorValue={ gradientValue ?? backgroundColor }\n\t\t\t\t\t\tdata-testid=\"background-color-indicator\"\n\t\t\t\t\t/>\n\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t<FlexItem className=\"edit-site-global-styles__color-label\">\n\t\t\t\t\t{ __( 'Background' ) }\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction TextColorItem( { name, parentMenu } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport = supports.includes( 'color' );\n\tconst [ color ] = useStyle( 'color.text', name );\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={ parentMenu + '/colors/text' }\n\t\t\taria-label={ __( 'Colors text styles' ) }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\tcolorValue={ color }\n\t\t\t\t\t\tdata-testid=\"text-color-indicator\"\n\t\t\t\t\t/>\n\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t<FlexItem className=\"edit-site-global-styles__color-label\">\n\t\t\t\t\t{ __( 'Text' ) }\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction LinkColorItem( { name, parentMenu } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport = supports.includes( 'linkColor' );\n\tconst [ color ] = useStyle( 'elements.link.color.text', name );\n\tconst [ colorHover ] = useStyle( 'elements.link.:hover.color.text', name );\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={ parentMenu + '/colors/link' }\n\t\t\taria-label={ __( 'Colors link styles' ) }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<ZStack isLayered={ false } offset={ -8 }>\n\t\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t\t<ColorIndicator colorValue={ color } />\n\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t\t<ColorIndicator colorValue={ colorHover } />\n\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t</ZStack>\n\t\t\t\t<FlexItem className=\"edit-site-global-styles__color-label\">\n\t\t\t\t\t{ __( 'Links' ) }\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction HeadingColorItem( { name, parentMenu } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport = supports.includes( 'color' );\n\tconst [ color ] = useStyle( 'elements.heading.color.text', name );\n\tconst [ bgColor ] = useStyle( 'elements.heading.color.background', name );\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButtonAsItem\n\t\t\tpath={ parentMenu + '/colors/heading' }\n\t\t\taria-label={ __( 'Colors heading styles' ) }\n\t\t>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<ZStack isLayered={ false } offset={ -8 }>\n\t\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t\t<ColorIndicator colorValue={ bgColor } />\n\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t\t<ColorIndicator colorValue={ color } />\n\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t</ZStack>\n\t\t\t\t<FlexItem>{ __( 'Headings' ) }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction ButtonColorItem( { name, parentMenu } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport = supports.includes( 'buttonColor' );\n\tconst [ color ] = useStyle( 'elements.button.color.text', name );\n\tconst [ bgColor ] = useStyle( 'elements.button.color.background', name );\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButtonAsItem path={ parentMenu + '/colors/button' }>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<ZStack isLayered={ false } offset={ -8 }>\n\t\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t\t<ColorIndicator colorValue={ bgColor } />\n\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t\t<ColorIndicatorWrapper expanded={ false }>\n\t\t\t\t\t\t<ColorIndicator colorValue={ color } />\n\t\t\t\t\t</ColorIndicatorWrapper>\n\t\t\t\t</ZStack>\n\t\t\t\t<FlexItem className=\"edit-site-global-styles__color-label\">\n\t\t\t\t\t{ __( 'Buttons' ) }\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButtonAsItem>\n\t);\n}\n\nfunction ScreenColors( { name } ) {\n\tconst parentMenu = name === undefined ? '' : '/blocks/' + name;\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Colors' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Manage palettes and the default color of different global elements on the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<div className=\"edit-site-global-styles-screen-colors\">\n\t\t\t\t<VStack spacing={ 10 }>\n\t\t\t\t\t<Palette name={ name } />\n\n\t\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t\t<Subtitle>{ __( 'Elements' ) }</Subtitle>\n\t\t\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t\t\t<BackgroundColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<LinkColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<HeadingColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ButtonColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t</VStack>\n\t\t\t\t</VStack>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ScreenColors;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalPaletteEdit as PaletteEdit,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useSetting } from './hooks';\n\nexport default function ColorPalettePanel( { name } ) {\n\tconst [ themeColors, setThemeColors ] = useSetting(\n\t\t'color.palette.theme',\n\t\tname\n\t);\n\tconst [ baseThemeColors ] = useSetting(\n\t\t'color.palette.theme',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ defaultColors, setDefaultColors ] = useSetting(\n\t\t'color.palette.default',\n\t\tname\n\t);\n\tconst [ baseDefaultColors ] = useSetting(\n\t\t'color.palette.default',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ customColors, setCustomColors ] = useSetting(\n\t\t'color.palette.custom',\n\t\tname\n\t);\n\n\tconst [ defaultPaletteEnabled ] = useSetting(\n\t\t'color.defaultPalette',\n\t\tname\n\t);\n\treturn (\n\t\t<VStack\n\t\t\tclassName=\"edit-site-global-styles-color-palette-panel\"\n\t\t\tspacing={ 10 }\n\t\t>\n\t\t\t{ !! themeColors && !! themeColors.length && (\n\t\t\t\t<PaletteEdit\n\t\t\t\t\tcanReset={ themeColors !== baseThemeColors }\n\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\tcolors={ themeColors }\n\t\t\t\t\tonChange={ setThemeColors }\n\t\t\t\t\tpaletteLabel={ __( 'Theme' ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ !! defaultColors &&\n\t\t\t\t!! defaultColors.length &&\n\t\t\t\t!! defaultPaletteEnabled && (\n\t\t\t\t\t<PaletteEdit\n\t\t\t\t\t\tcanReset={ defaultColors !== baseDefaultColors }\n\t\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\t\tcolors={ defaultColors }\n\t\t\t\t\t\tonChange={ setDefaultColors }\n\t\t\t\t\t\tpaletteLabel={ __( 'Default' ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t<PaletteEdit\n\t\t\t\tcolors={ customColors }\n\t\t\t\tonChange={ setCustomColors }\n\t\t\t\tpaletteLabel={ __( 'Custom' ) }\n\t\t\t\temptyMessage={ __(\n\t\t\t\t\t'Custom colors are empty! Add some colors to create your own color palette.'\n\t\t\t\t) }\n\t\t\t\tslugPrefix=\"custom-\"\n\t\t\t/>\n\t\t</VStack>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalVStack as VStack,\n\t__experimentalPaletteEdit as PaletteEdit,\n\t__experimentalSpacer as Spacer,\n\tDuotonePicker,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useSetting } from './hooks';\nimport Subtitle from './subtitle';\n\nconst noop = () => {};\n\nexport default function GradientPalettePanel( { name } ) {\n\tconst [ themeGradients, setThemeGradients ] = useSetting(\n\t\t'color.gradients.theme',\n\t\tname\n\t);\n\tconst [ baseThemeGradients ] = useSetting(\n\t\t'color.gradients.theme',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ defaultGradients, setDefaultGradients ] = useSetting(\n\t\t'color.gradients.default',\n\t\tname\n\t);\n\tconst [ baseDefaultGradients ] = useSetting(\n\t\t'color.gradients.default',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ customGradients, setCustomGradients ] = useSetting(\n\t\t'color.gradients.custom',\n\t\tname\n\t);\n\n\tconst [ defaultPaletteEnabled ] = useSetting(\n\t\t'color.defaultGradients',\n\t\tname\n\t);\n\n\tconst [ customDuotone ] = useSetting( 'color.duotone.custom' ) || [];\n\tconst [ defaultDuotone ] = useSetting( 'color.duotone.default' ) || [];\n\tconst [ themeDuotone ] = useSetting( 'color.duotone.theme' ) || [];\n\tconst [ defaultDuotoneEnabled ] = useSetting( 'color.defaultDuotone' );\n\n\tconst duotonePalette = [\n\t\t...( customDuotone || [] ),\n\t\t...( themeDuotone || [] ),\n\t\t...( defaultDuotone && defaultDuotoneEnabled ? defaultDuotone : [] ),\n\t];\n\n\treturn (\n\t\t<VStack\n\t\t\tclassName=\"edit-site-global-styles-gradient-palette-panel\"\n\t\t\tspacing={ 10 }\n\t\t>\n\t\t\t{ !! themeGradients && !! themeGradients.length && (\n\t\t\t\t<PaletteEdit\n\t\t\t\t\tcanReset={ themeGradients !== baseThemeGradients }\n\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\tgradients={ themeGradients }\n\t\t\t\t\tonChange={ setThemeGradients }\n\t\t\t\t\tpaletteLabel={ __( 'Theme' ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ !! defaultGradients &&\n\t\t\t\t!! defaultGradients.length &&\n\t\t\t\t!! defaultPaletteEnabled && (\n\t\t\t\t\t<PaletteEdit\n\t\t\t\t\t\tcanReset={ defaultGradients !== baseDefaultGradients }\n\t\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\t\tgradients={ defaultGradients }\n\t\t\t\t\t\tonChange={ setDefaultGradients }\n\t\t\t\t\t\tpaletteLabel={ __( 'Default' ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t<PaletteEdit\n\t\t\t\tgradients={ customGradients }\n\t\t\t\tonChange={ setCustomGradients }\n\t\t\t\tpaletteLabel={ __( 'Custom' ) }\n\t\t\t\temptyMessage={ __(\n\t\t\t\t\t'Custom gradients are empty! Add some gradients to create your own palette.'\n\t\t\t\t) }\n\t\t\t\tslugPrefix=\"custom-\"\n\t\t\t/>\n\t\t\t{ !! duotonePalette && !! duotonePalette.length && (\n\t\t\t\t<div>\n\t\t\t\t\t<Subtitle>{ __( 'Duotone' ) }</Subtitle>\n\t\t\t\t\t<Spacer margin={ 3 } />\n\t\t\t\t\t<DuotonePicker\n\t\t\t\t\t\tduotonePalette={ duotonePalette }\n\t\t\t\t\t\tdisableCustomDuotone={ true }\n\t\t\t\t\t\tdisableCustomColors={ true }\n\t\t\t\t\t\tclearable={ false }\n\t\t\t\t\t\tonChange={ noop }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { TabPanel } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ColorPalettePanel from './color-palette-panel';\nimport GradientPalettePanel from './gradients-palette-panel';\nimport ScreenHeader from './header';\n\nfunction ScreenColorPalette( { name } ) {\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Palette' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Palettes are used to provide default color options for blocks and various design tools. Here you can edit the colors with their labels.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<TabPanel\n\t\t\t\ttabs={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'solid',\n\t\t\t\t\t\ttitle: 'Solid',\n\t\t\t\t\t\tvalue: 'solid',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'gradient',\n\t\t\t\t\t\ttitle: 'Gradient',\n\t\t\t\t\t\tvalue: 'gradient',\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t{ ( tab ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ tab.value === 'solid' && (\n\t\t\t\t\t\t\t<ColorPalettePanel name={ name } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ tab.value === 'gradient' && (\n\t\t\t\t\t\t\t<GradientPalettePanel name={ name } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</TabPanel>\n\t\t</>\n\t);\n}\n\nexport default ScreenColorPalette;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseColorsPerOrigin,\n\tuseGradientsPerOrigin,\n\tuseSetting,\n\tuseStyle,\n} from './hooks';\n\nfunction ScreenBackgroundColor( { name } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ gradients ] = useSetting( 'color.gradients', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\tconst [ areCustomGradientsEnabled ] = useSetting(\n\t\t'color.customGradient',\n\t\tname\n\t);\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\tconst gradientsPerOrigin = useGradientsPerOrigin( name );\n\n\tconst [ isBackgroundEnabled ] = useSetting( 'color.background', name );\n\n\tconst hasBackgroundColor =\n\t\tsupports.includes( 'backgroundColor' ) &&\n\t\tisBackgroundEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\tconst hasGradientColor =\n\t\tsupports.includes( 'background' ) &&\n\t\t( gradients.length > 0 || areCustomGradientsEnabled );\n\tconst [ backgroundColor, setBackgroundColor ] = useStyle(\n\t\t'color.background',\n\t\tname\n\t);\n\tconst [ userBackgroundColor ] = useStyle(\n\t\t'color.background',\n\t\tname,\n\t\t'user'\n\t);\n\tconst [ gradient, setGradient ] = useStyle( 'color.gradient', name );\n\tconst [ userGradient ] = useStyle( 'color.gradient', name, 'user' );\n\n\tif ( ! hasBackgroundColor && ! hasGradientColor ) {\n\t\treturn null;\n\t}\n\n\tlet backgroundSettings = {};\n\tif ( hasBackgroundColor ) {\n\t\tbackgroundSettings = {\n\t\t\tcolorValue: backgroundColor,\n\t\t\tonColorChange: setBackgroundColor,\n\t\t};\n\t\tif ( backgroundColor ) {\n\t\t\tbackgroundSettings.clearable =\n\t\t\t\tbackgroundColor === userBackgroundColor;\n\t\t}\n\t}\n\n\tlet gradientSettings = {};\n\tif ( hasGradientColor ) {\n\t\tgradientSettings = {\n\t\t\tgradientValue: gradient,\n\t\t\tonGradientChange: setGradient,\n\t\t};\n\t\tif ( gradient ) {\n\t\t\tgradientSettings.clearable = gradient === userGradient;\n\t\t}\n\t}\n\n\tconst controlProps = {\n\t\t...backgroundSettings,\n\t\t...gradientSettings,\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Background' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set a background color or gradient for the whole site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ColorGradientControl\n\t\t\t\tclassName=\"edit-site-screen-background-color__control\"\n\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\tgradients={ gradientsPerOrigin }\n\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\tdisableCustomGradients={ ! areCustomGradientsEnabled }\n\t\t\t\t__experimentalHasMultipleOrigins\n\t\t\t\tshowTitle={ false }\n\t\t\t\tenableAlpha\n\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t{ ...controlProps }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenBackgroundColor;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseSetting,\n\tuseStyle,\n\tuseColorsPerOrigin,\n} from './hooks';\n\nfunction ScreenTextColor( { name } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\tconst [ isTextEnabled ] = useSetting( 'color.text', name );\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\n\tconst hasTextColor =\n\t\tsupports.includes( 'color' ) &&\n\t\tisTextEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\n\tconst [ color, setColor ] = useStyle( 'color.text', name );\n\tconst [ userColor ] = useStyle( 'color.text', name, 'user' );\n\n\tif ( ! hasTextColor ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Text' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set the default color used for text across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ColorGradientControl\n\t\t\t\tclassName=\"edit-site-screen-text-color__control\"\n\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\t__experimentalHasMultipleOrigins\n\t\t\t\tshowTitle={ false }\n\t\t\t\tenableAlpha\n\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\tcolorValue={ color }\n\t\t\t\tonColorChange={ setColor }\n\t\t\t\tclearable={ color === userColor }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenTextColor;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\nimport { TabPanel } from '@wordpress/components';\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseSetting,\n\tuseStyle,\n\tuseColorsPerOrigin,\n} from './hooks';\n\nfunction ScreenLinkColor( { name } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\n\tconst [ isLinkEnabled ] = useSetting( 'color.link', name );\n\n\tconst hasLinkColor =\n\t\tsupports.includes( 'linkColor' ) &&\n\t\tisLinkEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\n\tconst pseudoStates = {\n\t\tdefault: {\n\t\t\tlabel: __( 'Default' ),\n\t\t\tvalue: useStyle( 'elements.link.color.text', name )[ 0 ],\n\t\t\thandler: useStyle( 'elements.link.color.text', name )[ 1 ],\n\t\t\tuserValue: useStyle(\n\t\t\t\t'elements.link.color.text',\n\t\t\t\tname,\n\t\t\t\t'user'\n\t\t\t)[ 0 ],\n\t\t},\n\t\thover: {\n\t\t\tlabel: __( 'Hover' ),\n\t\t\tvalue: useStyle( 'elements.link.:hover.color.text', name )[ 0 ],\n\t\t\thandler: useStyle( 'elements.link.:hover.color.text', name )[ 1 ],\n\t\t\tuserValue: useStyle(\n\t\t\t\t'elements.link.:hover.color.text',\n\t\t\t\tname,\n\t\t\t\t'user'\n\t\t\t)[ 0 ],\n\t\t},\n\t};\n\n\tif ( ! hasLinkColor ) {\n\t\treturn null;\n\t}\n\n\tconst tabs = Object.entries( pseudoStates ).map(\n\t\t( [ selector, config ] ) => {\n\t\t\treturn {\n\t\t\t\tname: selector,\n\t\t\t\ttitle: config.label,\n\t\t\t\tclassName: `color-text-${ selector }`,\n\t\t\t};\n\t\t}\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Links' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set the colors used for links across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<TabPanel tabs={ tabs }>\n\t\t\t\t{ ( tab ) => {\n\t\t\t\t\tconst pseudoSelectorConfig =\n\t\t\t\t\t\tpseudoStates[ tab.name ] ?? null;\n\n\t\t\t\t\tif ( ! pseudoSelectorConfig ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ColorGradientControl\n\t\t\t\t\t\t\t\tclassName=\"edit-site-screen-link-color__control\"\n\t\t\t\t\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\t\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\t\t\t\t\t__experimentalHasMultipleOrigins\n\t\t\t\t\t\t\t\tshowTitle={ false }\n\t\t\t\t\t\t\t\tenableAlpha\n\t\t\t\t\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t\t\t\t\tcolorValue={ pseudoSelectorConfig.value }\n\t\t\t\t\t\t\t\tonColorChange={ pseudoSelectorConfig.handler }\n\t\t\t\t\t\t\t\tclearable={\n\t\t\t\t\t\t\t\t\tpseudoSelectorConfig.value ===\n\t\t\t\t\t\t\t\t\tpseudoSelectorConfig.userValue\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t</TabPanel>\n\t\t</>\n\t);\n}\n\nexport default ScreenLinkColor;\n","/**\n * WordPress dependencies\n */\nimport { sprintf, __ } from '@wordpress/i18n';\nimport {\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n} from '@wordpress/components';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseSetting,\n\tuseStyle,\n\tuseColorsPerOrigin,\n\tuseGradientsPerOrigin,\n} from './hooks';\n\nfunction ScreenHeadingColor( { name } ) {\n\tconst [ selectedLevel, setCurrentTab ] = useState( 'heading' );\n\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ gradients ] = useSetting( 'color.gradients', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\tconst [ areCustomGradientsEnabled ] = useSetting(\n\t\t'color.customGradient',\n\t\tname\n\t);\n\tconst [ isTextEnabled ] = useSetting( 'color.text', name );\n\tconst [ isBackgroundEnabled ] = useSetting( 'color.background', name );\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\tconst gradientsPerOrigin = useGradientsPerOrigin( name );\n\n\tconst hasTextColor =\n\t\tsupports.includes( 'color' ) &&\n\t\tisTextEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\n\tconst hasBackgroundColor =\n\t\tsupports.includes( 'backgroundColor' ) &&\n\t\tisBackgroundEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\tconst hasGradientColor =\n\t\tsupports.includes( 'background' ) &&\n\t\t( gradients.length > 0 || areCustomGradientsEnabled );\n\n\tconst [ color, setColor ] = useStyle(\n\t\t'elements.' + selectedLevel + '.color.text',\n\t\tname\n\t);\n\tconst [ userColor ] = useStyle(\n\t\t'elements.' + selectedLevel + '.color.text',\n\t\tname,\n\t\t'user'\n\t);\n\n\tconst [ backgroundColor, setBackgroundColor ] = useStyle(\n\t\t'elements.' + selectedLevel + '.color.background',\n\t\tname\n\t);\n\tconst [ userBackgroundColor ] = useStyle(\n\t\t'elements.' + selectedLevel + '.color.background',\n\t\tname,\n\t\t'user'\n\t);\n\tconst [ gradient, setGradient ] = useStyle(\n\t\t'elements.' + selectedLevel + '.color.gradient',\n\t\tname\n\t);\n\tconst [ userGradient ] = useStyle(\n\t\t'elements.' + selectedLevel + '.color.gradient',\n\t\tname,\n\t\t'user'\n\t);\n\n\tif ( ! hasTextColor && ! hasBackgroundColor && ! hasGradientColor ) {\n\t\treturn null;\n\t}\n\n\tlet backgroundSettings = {};\n\tif ( hasBackgroundColor ) {\n\t\tbackgroundSettings = {\n\t\t\tcolorValue: backgroundColor,\n\t\t\tonColorChange: setBackgroundColor,\n\t\t};\n\t\tif ( backgroundColor ) {\n\t\t\tbackgroundSettings.clearable =\n\t\t\t\tbackgroundColor === userBackgroundColor;\n\t\t}\n\t}\n\n\tlet gradientSettings = {};\n\tif ( hasGradientColor ) {\n\t\tgradientSettings = {\n\t\t\tgradientValue: gradient,\n\t\t\tonGradientChange: setGradient,\n\t\t};\n\t\tif ( gradient ) {\n\t\t\tgradientSettings.clearable = gradient === userGradient;\n\t\t}\n\t}\n\n\tconst controlProps = {\n\t\t...backgroundSettings,\n\t\t...gradientSettings,\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Headings' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set the default color used for headings across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<div className=\"edit-site-global-styles-screen-heading-color\">\n\t\t\t\t<h4>{ __( 'Select heading level' ) }</h4>\n\n\t\t\t\t<ToggleGroupControl\n\t\t\t\t\tlabel={ __( 'Select heading level' ) }\n\t\t\t\t\thideLabelFromVision={ true }\n\t\t\t\t\tvalue={ selectedLevel }\n\t\t\t\t\tonChange={ setCurrentTab }\n\t\t\t\t\tisBlock\n\t\t\t\t>\n\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\tvalue=\"heading\"\n\t\t\t\t\t\t/* translators: 'All' refers to selecting all heading levels \n\t\t\t\t\t\tand applying the same style to h1-h6. */\n\t\t\t\t\t\tlabel={ __( 'All' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleGroupControlOption value=\"h1\" label={ __( 'H1' ) } />\n\t\t\t\t\t<ToggleGroupControlOption value=\"h2\" label={ __( 'H2' ) } />\n\t\t\t\t\t<ToggleGroupControlOption value=\"h3\" label={ __( 'H3' ) } />\n\t\t\t\t\t<ToggleGroupControlOption value=\"h4\" label={ __( 'H4' ) } />\n\t\t\t\t\t<ToggleGroupControlOption value=\"h5\" label={ __( 'H5' ) } />\n\t\t\t\t\t<ToggleGroupControlOption value=\"h6\" label={ __( 'H6' ) } />\n\t\t\t\t</ToggleGroupControl>\n\t\t\t</div>\n\t\t\t{ hasTextColor && (\n\t\t\t\t<div className=\"edit-site-global-styles-screen-heading-color\">\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t{ selectedLevel === 'heading'\n\t\t\t\t\t\t\t? __( 'Text color for all heading levels' )\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: heading level (h1-h6) */\n\t\t\t\t\t\t\t\t\t__( 'Text color for %s' ),\n\t\t\t\t\t\t\t\t\tselectedLevel.toUpperCase()\n\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t</h4>\n\t\t\t\t\t<ColorGradientControl\n\t\t\t\t\t\tclassName=\"edit-site-screen-heading-text-color__control\"\n\t\t\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\t\t\t__experimentalHasMultipleOrigins\n\t\t\t\t\t\tshowTitle={ false }\n\t\t\t\t\t\tenableAlpha\n\t\t\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t\t\tcolorValue={ color }\n\t\t\t\t\t\tonColorChange={ setColor }\n\t\t\t\t\t\tclearable={ color === userColor }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t{ hasBackgroundColor && (\n\t\t\t\t<div className=\"edit-site-global-styles-screen-heading-color\">\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t{ selectedLevel === 'heading'\n\t\t\t\t\t\t\t? __( 'Background color for all heading levels' )\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: heading level (h1-h6) */\n\t\t\t\t\t\t\t\t\t__( 'Background color for %s' ),\n\t\t\t\t\t\t\t\t\tselectedLevel.toUpperCase()\n\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t</h4>\n\t\t\t\t\t<ColorGradientControl\n\t\t\t\t\t\tclassName=\"edit-site-screen-heading-background-color__control\"\n\t\t\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\t\t\tgradients={ gradientsPerOrigin }\n\t\t\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\t\t\tdisableCustomGradients={ ! areCustomGradientsEnabled }\n\t\t\t\t\t\t__experimentalHasMultipleOrigins\n\t\t\t\t\t\tshowTitle={ false }\n\t\t\t\t\t\tenableAlpha\n\t\t\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t\t\t{ ...controlProps }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ScreenHeadingColor;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseSetting,\n\tuseStyle,\n\tuseColorsPerOrigin,\n} from './hooks';\n\nfunction ScreenButtonColor( { name } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\n\tconst [ isBackgroundEnabled ] = useSetting( 'color.background', name );\n\n\tconst hasButtonColor =\n\t\tsupports.includes( 'buttonColor' ) &&\n\t\tisBackgroundEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\n\tconst [ buttonTextColor, setButtonTextColor ] = useStyle(\n\t\t'elements.button.color.text',\n\t\tname\n\t);\n\tconst [ userButtonTextColor ] = useStyle(\n\t\t'elements.button.color.text',\n\t\tname,\n\t\t'user'\n\t);\n\n\tconst [ buttonBgColor, setButtonBgColor ] = useStyle(\n\t\t'elements.button.color.background',\n\t\tname\n\t);\n\tconst [ userButtonBgColor ] = useStyle(\n\t\t'elements.button.color.background',\n\t\tname,\n\t\t'user'\n\t);\n\n\tif ( ! hasButtonColor ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Buttons' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set the default colors used for buttons across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<h4 className=\"edit-site-global-styles-section-title\">\n\t\t\t\t{ __( 'Text color' ) }\n\t\t\t</h4>\n\n\t\t\t<ColorGradientControl\n\t\t\t\tclassName=\"edit-site-screen-button-color__control\"\n\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\t__experimentalHasMultipleOrigins\n\t\t\t\tshowTitle={ false }\n\t\t\t\tenableAlpha\n\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\tcolorValue={ buttonTextColor }\n\t\t\t\tonColorChange={ setButtonTextColor }\n\t\t\t\tclearable={ buttonTextColor === userButtonTextColor }\n\t\t\t/>\n\n\t\t\t<h4 className=\"edit-site-global-styles-section-title\">\n\t\t\t\t{ __( 'Background color' ) }\n\t\t\t</h4>\n\n\t\t\t<ColorGradientControl\n\t\t\t\tclassName=\"edit-site-screen-button-color__control\"\n\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\t__experimentalHasMultipleOrigins\n\t\t\t\tshowTitle={ false }\n\t\t\t\tenableAlpha\n\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\tcolorValue={ buttonBgColor }\n\t\t\t\tonColorChange={ setButtonBgColor }\n\t\t\t\tclearable={ buttonBgColor === userButtonBgColor }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenButtonColor;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BorderPanel, { useHasBorderPanel } from './border-panel';\nimport DimensionsPanel, { useHasDimensionsPanel } from './dimensions-panel';\nimport ScreenHeader from './header';\n\nfunction ScreenLayout( { name } ) {\n\tconst hasBorderPanel = useHasBorderPanel( name );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( name );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader title={ __( 'Layout' ) } />\n\t\t\t{ hasDimensionsPanel && <DimensionsPanel name={ name } /> }\n\t\t\t{ hasBorderPanel && <BorderPanel name={ name } /> }\n\t\t</>\n\t);\n}\n\nexport default ScreenLayout;\n","/**\n * External dependencies\n */\nimport { mergeWith, isEmpty, mapValues } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from './context';\n\nfunction mergeTreesCustomizer( _, srcValue ) {\n\t// We only pass as arrays the presets,\n\t// in which case we want the new array of values\n\t// to override the old array (no merging).\n\tif ( Array.isArray( srcValue ) ) {\n\t\treturn srcValue;\n\t}\n}\n\nexport function mergeBaseAndUserConfigs( base, user ) {\n\treturn mergeWith( {}, base, user, mergeTreesCustomizer );\n}\n\nconst cleanEmptyObject = ( object ) => {\n\tif (\n\t\tobject === null ||\n\t\ttypeof object !== 'object' ||\n\t\tArray.isArray( object )\n\t) {\n\t\treturn object;\n\t}\n\tconst cleanedNestedObjects = Object.fromEntries(\n\t\tObject.entries( mapValues( object, cleanEmptyObject ) ).filter(\n\t\t\t( [ , value ] ) => Boolean( value )\n\t\t)\n\t);\n\treturn isEmpty( cleanedNestedObjects ) ? undefined : cleanedNestedObjects;\n};\n\nfunction useGlobalStylesUserConfig() {\n\tconst { globalStylesId, isReady, settings, styles } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedEntityRecord, hasFinishedResolution } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst _globalStylesId =\n\t\t\t\tselect( coreStore ).__experimentalGetCurrentGlobalStylesId();\n\t\t\tconst record = _globalStylesId\n\t\t\t\t? getEditedEntityRecord(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t_globalStylesId\n\t\t\t\t  )\n\t\t\t\t: undefined;\n\n\t\t\tlet hasResolved = false;\n\t\t\tif (\n\t\t\t\thasFinishedResolution(\n\t\t\t\t\t'__experimentalGetCurrentGlobalStylesId'\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\thasResolved = _globalStylesId\n\t\t\t\t\t? hasFinishedResolution( 'getEditedEntityRecord', [\n\t\t\t\t\t\t\t'root',\n\t\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t\t_globalStylesId,\n\t\t\t\t\t  ] )\n\t\t\t\t\t: true;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tglobalStylesId: _globalStylesId,\n\t\t\t\tisReady: hasResolved,\n\t\t\t\tsettings: record?.settings,\n\t\t\t\tstyles: record?.styles,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst { getEditedEntityRecord } = useSelect( coreStore );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst config = useMemo( () => {\n\t\treturn {\n\t\t\tsettings: settings ?? {},\n\t\t\tstyles: styles ?? {},\n\t\t};\n\t}, [ settings, styles ] );\n\n\tconst setConfig = useCallback(\n\t\t( callback ) => {\n\t\t\tconst record = getEditedEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'globalStyles',\n\t\t\t\tglobalStylesId\n\t\t\t);\n\t\t\tconst currentConfig = {\n\t\t\t\tstyles: record?.styles ?? {},\n\t\t\t\tsettings: record?.settings ?? {},\n\t\t\t};\n\t\t\tconst updatedConfig = callback( currentConfig );\n\t\t\teditEntityRecord( 'root', 'globalStyles', globalStylesId, {\n\t\t\t\tstyles: cleanEmptyObject( updatedConfig.styles ) || {},\n\t\t\t\tsettings: cleanEmptyObject( updatedConfig.settings ) || {},\n\t\t\t} );\n\t\t},\n\t\t[ globalStylesId ]\n\t);\n\n\treturn [ isReady, config, setConfig ];\n}\n\nfunction useGlobalStylesBaseConfig() {\n\tconst baseConfig = useSelect( ( select ) => {\n\t\treturn select(\n\t\t\tcoreStore\n\t\t).__experimentalGetCurrentThemeBaseGlobalStyles();\n\t}, [] );\n\n\treturn [ !! baseConfig, baseConfig ];\n}\n\nfunction useGlobalStylesContext() {\n\tconst [ isUserConfigReady, userConfig, setUserConfig ] =\n\t\tuseGlobalStylesUserConfig();\n\tconst [ isBaseConfigReady, baseConfig ] = useGlobalStylesBaseConfig();\n\tconst mergedConfig = useMemo( () => {\n\t\tif ( ! baseConfig || ! userConfig ) {\n\t\t\treturn {};\n\t\t}\n\t\treturn mergeBaseAndUserConfigs( baseConfig, userConfig );\n\t}, [ userConfig, baseConfig ] );\n\tconst context = useMemo( () => {\n\t\treturn {\n\t\t\tisReady: isUserConfigReady && isBaseConfigReady,\n\t\t\tuser: userConfig,\n\t\t\tbase: baseConfig,\n\t\t\tmerged: mergedConfig,\n\t\t\tsetUserConfig,\n\t\t};\n\t}, [\n\t\tmergedConfig,\n\t\tuserConfig,\n\t\tbaseConfig,\n\t\tsetUserConfig,\n\t\tisUserConfigReady,\n\t\tisBaseConfigReady,\n\t] );\n\n\treturn context;\n}\n\nexport function GlobalStylesProvider( { children } ) {\n\tconst context = useGlobalStylesContext();\n\tif ( ! context.isReady ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<GlobalStylesContext.Provider value={ context }>\n\t\t\t{ children }\n\t\t</GlobalStylesContext.Provider>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { isEqual } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tuseMemo,\n\tuseContext,\n\tuseState,\n\tuseEffect,\n\tuseRef,\n} from '@wordpress/element';\nimport { ENTER } from '@wordpress/keycodes';\nimport {\n\t__experimentalGrid as Grid,\n\tCard,\n\tCardBody,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { mergeBaseAndUserConfigs } from './global-styles-provider';\nimport { GlobalStylesContext } from './context';\nimport StylesPreview from './preview';\nimport ScreenHeader from './header';\n\nfunction compareVariations( a, b ) {\n\treturn isEqual( a.styles, b.styles ) && isEqual( a.settings, b.settings );\n}\n\nfunction Variation( { variation } ) {\n\tconst [ isFocused, setIsFocused ] = useState( false );\n\tconst { base, user, setUserConfig } = useContext( GlobalStylesContext );\n\tconst context = useMemo( () => {\n\t\treturn {\n\t\t\tuser: {\n\t\t\t\tsettings: variation.settings ?? {},\n\t\t\t\tstyles: variation.styles ?? {},\n\t\t\t},\n\t\t\tbase,\n\t\t\tmerged: mergeBaseAndUserConfigs( base, variation ),\n\t\t\tsetUserConfig: () => {},\n\t\t};\n\t}, [ variation, base ] );\n\n\tconst selectVariation = () => {\n\t\tsetUserConfig( () => {\n\t\t\treturn {\n\t\t\t\tsettings: variation.settings,\n\t\t\t\tstyles: variation.styles,\n\t\t\t};\n\t\t} );\n\t};\n\n\tconst selectOnEnter = ( event ) => {\n\t\tif ( event.keyCode === ENTER ) {\n\t\t\tevent.preventDefault();\n\t\t\tselectVariation();\n\t\t}\n\t};\n\n\tconst isActive = useMemo( () => {\n\t\treturn compareVariations( user, variation );\n\t}, [ user, variation ] );\n\n\treturn (\n\t\t<GlobalStylesContext.Provider value={ context }>\n\t\t\t<div\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'edit-site-global-styles-variations_item',\n\t\t\t\t\t{\n\t\t\t\t\t\t'is-active': isActive,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\trole=\"button\"\n\t\t\t\tonClick={ selectVariation }\n\t\t\t\tonKeyDown={ selectOnEnter }\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\taria-label={ variation?.title }\n\t\t\t\taria-current={ isActive }\n\t\t\t\tonFocus={ () => setIsFocused( true ) }\n\t\t\t\tonBlur={ () => setIsFocused( false ) }\n\t\t\t>\n\t\t\t\t<div className=\"edit-site-global-styles-variations_item-preview\">\n\t\t\t\t\t<StylesPreview\n\t\t\t\t\t\tlabel={ variation?.title }\n\t\t\t\t\t\tisFocused={ isFocused }\n\t\t\t\t\t\twithHoverView\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</GlobalStylesContext.Provider>\n\t);\n}\n\nfunction ScreenStyleVariations() {\n\tconst { variations, mode } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tvariations:\n\t\t\t\tselect(\n\t\t\t\t\tcoreStore\n\t\t\t\t).__experimentalGetCurrentThemeGlobalStylesVariations(),\n\n\t\t\tmode: select( blockEditorStore ).__unstableGetEditorMode(),\n\t\t};\n\t}, [] );\n\n\tconst withEmptyVariation = useMemo( () => {\n\t\treturn [\n\t\t\t{\n\t\t\t\ttitle: __( 'Default' ),\n\t\t\t\tsettings: {},\n\t\t\t\tstyles: {},\n\t\t\t},\n\t\t\t...variations.map( ( variation ) => ( {\n\t\t\t\t...variation,\n\t\t\t\tsettings: variation.settings ?? {},\n\t\t\t\tstyles: variation.styles ?? {},\n\t\t\t} ) ),\n\t\t];\n\t}, [ variations ] );\n\n\tconst { __unstableSetEditorMode } = useDispatch( blockEditorStore );\n\tconst shouldRevertInitialMode = useRef( null );\n\tuseEffect( () => {\n\t\t// ignore changes to zoom-out mode as we explictily change to it on mount.\n\t\tif ( mode !== 'zoom-out' ) {\n\t\t\tshouldRevertInitialMode.current = false;\n\t\t}\n\t}, [ mode ] );\n\n\t// Intentionality left without any dependency.\n\t// This effect should only run the first time the component is rendered.\n\t// The effect opens the zoom-out view if it is not open before when applying a style variation.\n\tuseEffect( () => {\n\t\tif ( mode !== 'zoom-out' ) {\n\t\t\t__unstableSetEditorMode( 'zoom-out' );\n\t\t\tshouldRevertInitialMode.current = true;\n\t\t\treturn () => {\n\t\t\t\t// if there were not mode changes revert to the initial mode when unmounting.\n\t\t\t\tif ( shouldRevertInitialMode.current ) {\n\t\t\t\t\t__unstableSetEditorMode( mode );\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}, [] );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\tback=\"/\"\n\t\t\t\ttitle={ __( 'Browse styles' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Choose a variation to change the look of the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<Card size=\"small\" isBorderless>\n\t\t\t\t<CardBody>\n\t\t\t\t\t<Grid columns={ 2 }>\n\t\t\t\t\t\t{ withEmptyVariation?.map( ( variation, index ) => (\n\t\t\t\t\t\t\t<Variation key={ index } variation={ variation } />\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</Grid>\n\t\t\t\t</CardBody>\n\t\t\t</Card>\n\t\t</>\n\t);\n}\n\nexport default ScreenStyleVariations;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalNavigatorProvider as NavigatorProvider,\n\t__experimentalNavigatorScreen as NavigatorScreen,\n} from '@wordpress/components';\nimport { getBlockTypes } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport ScreenRoot from './screen-root';\nimport ScreenBlockList from './screen-block-list';\nimport ScreenBlock from './screen-block';\nimport ScreenTypography from './screen-typography';\nimport ScreenTypographyElement from './screen-typography-element';\nimport ScreenColors from './screen-colors';\nimport ScreenColorPalette from './screen-color-palette';\nimport ScreenBackgroundColor from './screen-background-color';\nimport ScreenTextColor from './screen-text-color';\nimport ScreenLinkColor from './screen-link-color';\nimport ScreenHeadingColor from './screen-heading-color';\nimport ScreenButtonColor from './screen-button-color';\nimport ScreenLayout from './screen-layout';\nimport ScreenStyleVariations from './screen-style-variations';\n\nfunction GlobalStylesNavigationScreen( { className, ...props } ) {\n\treturn (\n\t\t<NavigatorScreen\n\t\t\tclassName={ [\n\t\t\t\t'edit-site-global-styles-sidebar__navigator-screen',\n\t\t\t\tclassName,\n\t\t\t]\n\t\t\t\t.filter( Boolean )\n\t\t\t\t.join( ' ' ) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n\nfunction ContextScreens( { name } ) {\n\tconst parentMenu = name === undefined ? '' : '/blocks/' + name;\n\n\treturn (\n\t\t<>\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/typography' }>\n\t\t\t\t<ScreenTypography name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/typography/text' }\n\t\t\t>\n\t\t\t\t<ScreenTypographyElement name={ name } element=\"text\" />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/typography/link' }\n\t\t\t>\n\t\t\t\t<ScreenTypographyElement name={ name } element=\"link\" />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/typography/heading' }\n\t\t\t>\n\t\t\t\t<ScreenTypographyElement name={ name } element=\"heading\" />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/typography/button' }\n\t\t\t>\n\t\t\t\t<ScreenTypographyElement name={ name } element=\"button\" />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/colors' }>\n\t\t\t\t<ScreenColors name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/colors/palette' }\n\t\t\t>\n\t\t\t\t<ScreenColorPalette name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/colors/background' }\n\t\t\t>\n\t\t\t\t<ScreenBackgroundColor name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/colors/text' }>\n\t\t\t\t<ScreenTextColor name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/colors/link' }>\n\t\t\t\t<ScreenLinkColor name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/colors/heading' }\n\t\t\t>\n\t\t\t\t<ScreenHeadingColor name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/colors/button' }\n\t\t\t>\n\t\t\t\t<ScreenButtonColor name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/layout' }>\n\t\t\t\t<ScreenLayout name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\t\t</>\n\t);\n}\n\nfunction GlobalStylesUI() {\n\tconst blocks = getBlockTypes();\n\n\treturn (\n\t\t<NavigatorProvider\n\t\t\tclassName=\"edit-site-global-styles-sidebar__navigator-provider\"\n\t\t\tinitialPath=\"/\"\n\t\t>\n\t\t\t<GlobalStylesNavigationScreen path=\"/\">\n\t\t\t\t<ScreenRoot />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path=\"/variations\">\n\t\t\t\t<ScreenStyleVariations />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path=\"/blocks\">\n\t\t\t\t<ScreenBlockList />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t{ blocks.map( ( block ) => (\n\t\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\t\tkey={ 'menu-block-' + block.name }\n\t\t\t\t\tpath={ '/blocks/' + block.name }\n\t\t\t\t>\n\t\t\t\t\t<ScreenBlock name={ block.name } />\n\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t) ) }\n\n\t\t\t<ContextScreens />\n\n\t\t\t{ blocks.map( ( block ) => (\n\t\t\t\t<ContextScreens\n\t\t\t\t\tkey={ 'screens-block-' + block.name }\n\t\t\t\t\tname={ block.name }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</NavigatorProvider>\n\t);\n}\n\nexport default GlobalStylesUI;\n","/**\n * WordPress dependencies\n */\nimport { DropdownMenu, FlexItem, FlexBlock, Flex } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { styles, moreVertical } from '@wordpress/icons';\nimport { useDispatch } from '@wordpress/data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport DefaultSidebar from './default-sidebar';\nimport { GlobalStylesUI, useGlobalStylesReset } from '../global-styles';\n\nexport default function GlobalStylesSidebar() {\n\tconst [ canReset, onReset ] = useGlobalStylesReset();\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\treturn (\n\t\t<DefaultSidebar\n\t\t\tclassName=\"edit-site-global-styles-sidebar\"\n\t\t\tidentifier=\"edit-site/global-styles\"\n\t\t\ttitle={ __( 'Styles' ) }\n\t\t\ticon={ styles }\n\t\t\tcloseLabel={ __( 'Close global styles sidebar' ) }\n\t\t\tpanelClassName=\"edit-site-global-styles-sidebar__panel\"\n\t\t\theader={\n\t\t\t\t<Flex>\n\t\t\t\t\t<FlexBlock>\n\t\t\t\t\t\t<strong>{ __( 'Styles' ) }</strong>\n\t\t\t\t\t</FlexBlock>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\tlabel={ __( 'More Global Styles Actions' ) }\n\t\t\t\t\t\t\tcontrols={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: __( 'Reset to defaults' ),\n\t\t\t\t\t\t\t\t\tonClick: onReset,\n\t\t\t\t\t\t\t\t\tisDisabled: ! canReset,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: __( 'Welcome Guide' ),\n\t\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\t\ttoggle(\n\t\t\t\t\t\t\t\t\t\t\t'core/edit-site',\n\t\t\t\t\t\t\t\t\t\t\t'welcomeGuideStyles'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t}\n\t\t>\n\t\t\t<GlobalStylesUI />\n\t\t</DefaultSidebar>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst navigation = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z\" />\n\t</SVG>\n);\n\nexport default navigation;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalListView as ListView,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\n\nconst ALLOWED_BLOCKS = {\n\t'core/navigation': [\n\t\t'core/navigation-link',\n\t\t'core/search',\n\t\t'core/social-links',\n\t\t'core/page-list',\n\t\t'core/spacer',\n\t\t'core/home-link',\n\t\t'core/site-title',\n\t\t'core/site-logo',\n\t\t'core/navigation-submenu',\n\t],\n\t'core/social-links': [ 'core/social-link' ],\n\t'core/navigation-submenu': [\n\t\t'core/navigation-link',\n\t\t'core/navigation-submenu',\n\t],\n\t'core/navigation-link': [\n\t\t'core/navigation-link',\n\t\t'core/navigation-submenu',\n\t],\n};\n\nexport default function NavigationMenu( { innerBlocks, id } ) {\n\tconst { updateBlockListSettings } = useDispatch( blockEditorStore );\n\n\t//TODO: Block settings are normally updated as a side effect of rendering InnerBlocks in BlockList\n\t//Think through a better way of doing this, possible with adding allowed blocks to block library metadata\n\tuseEffect( () => {\n\t\tupdateBlockListSettings( '', {\n\t\t\tallowedBlocks: ALLOWED_BLOCKS[ 'core/navigation' ],\n\t\t} );\n\t\tinnerBlocks.forEach( ( block ) => {\n\t\t\tif ( ALLOWED_BLOCKS[ block.name ] ) {\n\t\t\t\tupdateBlockListSettings( block.clientId, {\n\t\t\t\t\tallowedBlocks: ALLOWED_BLOCKS[ block.name ],\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t}, [ updateBlockListSettings, innerBlocks ] );\n\treturn <ListView id={ id } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useState, useEffect } from '@wordpress/element';\nimport { SelectControl } from '@wordpress/components';\nimport { store as coreStore, useEntityBlockEditor } from '@wordpress/core-data';\nimport {\n\tstore as blockEditorStore,\n\tBlockEditorProvider,\n} from '@wordpress/block-editor';\nimport { speak } from '@wordpress/a11y';\nimport { useInstanceId } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport NavigationMenu from './navigation-menu';\n\nconst NAVIGATION_MENUS_QUERY = [ { per_page: -1, status: 'publish' } ];\n\nexport default function NavigationInspector() {\n\tconst {\n\t\tselectedNavigationBlockId,\n\t\tclientIdToRef,\n\t\tnavigationMenus,\n\t\tisResolvingNavigationMenus,\n\t\thasResolvedNavigationMenus,\n\t\tfirstNavigationBlockId,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\t__experimentalGetActiveBlockIdByBlockNames,\n\t\t\t__experimentalGetGlobalBlocksByName,\n\t\t\tgetBlock,\n\t\t} = select( blockEditorStore );\n\n\t\tconst { getEntityRecords, hasFinishedResolution, isResolving } =\n\t\t\tselect( coreStore );\n\n\t\tconst navigationMenusQuery = [\n\t\t\t'postType',\n\t\t\t'wp_navigation',\n\t\t\tNAVIGATION_MENUS_QUERY[ 0 ],\n\t\t];\n\n\t\t// Get the active Navigation block (if present).\n\t\tconst selectedNavId =\n\t\t\t__experimentalGetActiveBlockIdByBlockNames( 'core/navigation' );\n\n\t\t// Get all Navigation blocks currently within the editor canvas.\n\t\tconst navBlockIds =\n\t\t\t__experimentalGetGlobalBlocksByName( 'core/navigation' );\n\t\tconst idToRef = {};\n\t\tnavBlockIds.forEach( ( id ) => {\n\t\t\tidToRef[ id ] = getBlock( id )?.attributes?.ref;\n\t\t} );\n\t\treturn {\n\t\t\tselectedNavigationBlockId: selectedNavId,\n\t\t\tfirstNavigationBlockId: navBlockIds?.[ 0 ],\n\t\t\tclientIdToRef: idToRef,\n\t\t\tnavigationMenus: getEntityRecords( ...navigationMenusQuery ),\n\t\t\tisResolvingNavigationMenus: isResolving(\n\t\t\t\t'getEntityRecords',\n\t\t\t\tnavigationMenusQuery\n\t\t\t),\n\t\t\thasResolvedNavigationMenus: hasFinishedResolution(\n\t\t\t\t'getEntityRecords',\n\t\t\t\tnavigationMenusQuery\n\t\t\t),\n\t\t};\n\t}, [] );\n\n\tconst navMenuListId = useInstanceId(\n\t\tNavigationMenu,\n\t\t'edit-site-navigation-inspector-menu'\n\t);\n\n\tconst firstNavRefInTemplate = clientIdToRef[ firstNavigationBlockId ];\n\tconst firstNavigationMenuRef = navigationMenus?.[ 0 ]?.id;\n\n\t// Default Navigation Menu is either:\n\t// - the Navigation Menu referenced by the first Nav block within the template.\n\t// - the first of the available Navigation Menus (`wp_navigation`) posts.\n\tconst defaultNavigationMenuId =\n\t\tfirstNavRefInTemplate || firstNavigationMenuRef;\n\n\t// The Navigation Menu manually selected by the user within the Nav inspector.\n\tconst [ currentMenuId, setCurrentMenuId ] = useState(\n\t\tfirstNavRefInTemplate\n\t);\n\n\t// If a Nav block is selected within the canvas then set the\n\t// Navigation Menu referenced by it's `ref` attribute  to be\n\t// active within the Navigation sidebar.\n\tuseEffect( () => {\n\t\tif ( selectedNavigationBlockId ) {\n\t\t\tsetCurrentMenuId( clientIdToRef[ selectedNavigationBlockId ] );\n\t\t}\n\t}, [ selectedNavigationBlockId ] );\n\n\tlet options = [];\n\tif ( navigationMenus ) {\n\t\toptions = navigationMenus.map( ( { id, title } ) => ( {\n\t\t\tvalue: id,\n\t\t\tlabel: title.rendered,\n\t\t} ) );\n\t}\n\n\tconst [ innerBlocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\t'wp_navigation',\n\t\t{ id: currentMenuId || defaultNavigationMenuId }\n\t);\n\n\tconst { isLoadingInnerBlocks, hasLoadedInnerBlocks } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isResolving, hasFinishedResolution } = select( coreStore );\n\t\t\treturn {\n\t\t\t\tisLoadingInnerBlocks: isResolving( 'getEntityRecord', [\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_navigation',\n\t\t\t\t\tcurrentMenuId || defaultNavigationMenuId,\n\t\t\t\t] ),\n\t\t\t\thasLoadedInnerBlocks: hasFinishedResolution(\n\t\t\t\t\t'getEntityRecord',\n\t\t\t\t\t[\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t'wp_navigation',\n\t\t\t\t\t\tcurrentMenuId || defaultNavigationMenuId,\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ currentMenuId, defaultNavigationMenuId ]\n\t);\n\n\tconst isLoading = ! ( hasResolvedNavigationMenus && hasLoadedInnerBlocks );\n\n\tconst hasMoreThanOneNavigationMenu = navigationMenus?.length > 1;\n\n\tconst hasNavigationMenus = !! navigationMenus?.length;\n\n\t// Entity block editor will return entities that are not currently published.\n\t// Guard by only allowing their usage if there are published Nav Menus.\n\tconst publishedInnerBlocks = hasNavigationMenus ? innerBlocks : [];\n\n\tconst hasInnerBlocks = !! publishedInnerBlocks?.length;\n\n\tuseEffect( () => {\n\t\tif ( isResolvingNavigationMenus ) {\n\t\t\tspeak( 'Loading Navigation sidebar menus.' );\n\t\t}\n\n\t\tif ( hasResolvedNavigationMenus ) {\n\t\t\tspeak( 'Navigation sidebar menus have loaded.' );\n\t\t}\n\t}, [ isResolvingNavigationMenus, hasResolvedNavigationMenus ] );\n\n\tuseEffect( () => {\n\t\tif ( isLoadingInnerBlocks ) {\n\t\t\tspeak( 'Loading Navigation sidebar selected menu items.' );\n\t\t}\n\n\t\tif ( hasLoadedInnerBlocks ) {\n\t\t\tspeak( 'Navigation sidebar selected menu items have loaded.' );\n\t\t}\n\t}, [ isLoadingInnerBlocks, hasLoadedInnerBlocks ] );\n\n\treturn (\n\t\t<div className=\"edit-site-navigation-inspector\">\n\t\t\t{ hasResolvedNavigationMenus && ! hasNavigationMenus && (\n\t\t\t\t<p className=\"edit-site-navigation-inspector__empty-msg\">\n\t\t\t\t\t{ __( 'There are no Navigation Menus.' ) }\n\t\t\t\t</p>\n\t\t\t) }\n\n\t\t\t{ ! hasResolvedNavigationMenus && (\n\t\t\t\t<div className=\"edit-site-navigation-inspector__placeholder\" />\n\t\t\t) }\n\t\t\t{ hasResolvedNavigationMenus && hasMoreThanOneNavigationMenu && (\n\t\t\t\t<SelectControl\n\t\t\t\t\taria-controls={\n\t\t\t\t\t\t// aria-controls should only apply when referenced element is in DOM\n\t\t\t\t\t\thasLoadedInnerBlocks ? navMenuListId : undefined\n\t\t\t\t\t}\n\t\t\t\t\tvalue={ currentMenuId || defaultNavigationMenuId }\n\t\t\t\t\toptions={ options }\n\t\t\t\t\tonChange={ ( newMenuId ) =>\n\t\t\t\t\t\tsetCurrentMenuId( Number( newMenuId ) )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ isLoading && (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"edit-site-navigation-inspector__placeholder is-child\" />\n\t\t\t\t\t<div className=\"edit-site-navigation-inspector__placeholder is-child\" />\n\t\t\t\t\t<div className=\"edit-site-navigation-inspector__placeholder is-child\" />\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t{ hasInnerBlocks && ! isLoading && (\n\t\t\t\t<BlockEditorProvider\n\t\t\t\t\tvalue={ publishedInnerBlocks }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tonInput={ onInput }\n\t\t\t\t>\n\t\t\t\t\t<NavigationMenu\n\t\t\t\t\t\tid={ navMenuListId }\n\t\t\t\t\t\tinnerBlocks={ publishedInnerBlocks }\n\t\t\t\t\t/>\n\t\t\t\t</BlockEditorProvider>\n\t\t\t) }\n\n\t\t\t{ ! hasInnerBlocks && ! isLoading && (\n\t\t\t\t<p className=\"edit-site-navigation-inspector__empty-msg\">\n\t\t\t\t\t{ __( 'Navigation Menu is empty.' ) }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { FlexBlock, Flex } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { navigation } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport DefaultSidebar from '../default-sidebar';\nimport NavigationInspector from './navigation-inspector';\n\nexport default function NavigationMenuSidebar() {\n\treturn (\n\t\t<DefaultSidebar\n\t\t\tclassName=\"edit-site-navigation-menu-sidebar\"\n\t\t\tidentifier=\"edit-site/navigation-menu\"\n\t\t\ttitle={ __( 'Navigation' ) }\n\t\t\ticon={ navigation }\n\t\t\tcloseLabel={ __( 'Close navigation menu sidebar' ) }\n\t\t\tpanelClassName=\"edit-site-navigation-menu-sidebar__panel\"\n\t\t\theader={\n\t\t\t\t<Flex>\n\t\t\t\t\t<FlexBlock>\n\t\t\t\t\t\t<strong>{ __( 'Navigation Menus' ) }</strong>\n\t\t\t\t\t\t<span className=\"edit-site-navigation-sidebar__beta\">\n\t\t\t\t\t\t\t{ __( 'Beta' ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</FlexBlock>\n\t\t\t\t</Flex>\n\t\t\t}\n\t\t>\n\t\t\t<NavigationInspector />\n\t\t</DefaultSidebar>\n\t);\n}\n","export const SIDEBAR_TEMPLATE = 'edit-site/template';\nexport const SIDEBAR_BLOCK = 'edit-site/block-inspector';\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME } from '../../../store/constants';\nimport { SIDEBAR_BLOCK, SIDEBAR_TEMPLATE } from '../constants';\n\nconst SettingsHeader = ( { sidebarName } ) => {\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\tconst openTemplateSettings = () =>\n\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_TEMPLATE );\n\tconst openBlockSettings = () =>\n\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_BLOCK );\n\n\tconst [ templateAriaLabel, templateActiveClass ] =\n\t\tsidebarName === SIDEBAR_TEMPLATE\n\t\t\t? // translators: ARIA label for the Template sidebar tab, selected.\n\t\t\t  [ __( 'Template (selected)' ), 'is-active' ]\n\t\t\t: // translators: ARIA label for the Template Settings Sidebar tab, not selected.\n\t\t\t  [ __( 'Template' ), '' ];\n\n\tconst [ blockAriaLabel, blockActiveClass ] =\n\t\tsidebarName === SIDEBAR_BLOCK\n\t\t\t? // translators: ARIA label for the Block Settings Sidebar tab, selected.\n\t\t\t  [ __( 'Block (selected)' ), 'is-active' ]\n\t\t\t: // translators: ARIA label for the Block Settings Sidebar tab, not selected.\n\t\t\t  [ __( 'Block' ), '' ];\n\n\t/* Use a list so screen readers will announce how many tabs there are. */\n\treturn (\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={ openTemplateSettings }\n\t\t\t\t\tclassName={ `edit-site-sidebar-edit-mode__panel-tab ${ templateActiveClass }` }\n\t\t\t\t\taria-label={ templateAriaLabel }\n\t\t\t\t\t// translators: Data label for the Template Settings Sidebar tab.\n\t\t\t\t\tdata-label={ __( 'Template' ) }\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\t// translators: Text label for the Template Settings Sidebar tab.\n\t\t\t\t\t\t__( 'Template' )\n\t\t\t\t\t}\n\t\t\t\t</Button>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={ openBlockSettings }\n\t\t\t\t\tclassName={ `edit-site-sidebar-edit-mode__panel-tab ${ blockActiveClass }` }\n\t\t\t\t\taria-label={ blockAriaLabel }\n\t\t\t\t\t// translators: Data label for the Block Settings Sidebar tab.\n\t\t\t\t\tdata-label={ __( 'Block' ) }\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\t// translators: Text label for the Block Settings Sidebar tab.\n\t\t\t\t\t\t__( 'Block' )\n\t\t\t\t\t}\n\t\t\t\t</Button>\n\t\t\t</li>\n\t\t</ul>\n\t);\n};\n\nexport default SettingsHeader;\n","/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { DropdownMenu, MenuGroup, MenuItem } from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\nimport isTemplateRevertable from '../../../utils/is-template-revertable';\n\nexport default function Actions( { template } ) {\n\tconst { revertTemplate } = useDispatch( editSiteStore );\n\tconst isRevertable = isTemplateRevertable( template );\n\tif ( ! isRevertable ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<DropdownMenu\n\t\t\ticon={ moreVertical }\n\t\t\tlabel={ __( 'Actions' ) }\n\t\t\tclassName=\"edit-site-template-card__actions\"\n\t\t\ttoggleProps={ { isSmall: true } }\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<MenuGroup>\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t'Use the template as supplied by the theme.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\trevertTemplate( template );\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Clear customizations' ) }\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</MenuGroup>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\t__experimentalHeading as Heading,\n} from '@wordpress/components';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\nfunction TemplateAreaItem( { area, clientId } ) {\n\tconst { selectBlock, toggleBlockHighlight } =\n\t\tuseDispatch( blockEditorStore );\n\tconst templatePartArea = useSelect(\n\t\t( select ) => {\n\t\t\tconst defaultAreas =\n\t\t\t\tselect(\n\t\t\t\t\teditorStore\n\t\t\t\t).__experimentalGetDefaultTemplatePartAreas();\n\n\t\t\treturn defaultAreas.find(\n\t\t\t\t( defaultArea ) => defaultArea.area === area\n\t\t\t);\n\t\t},\n\t\t[ area ]\n\t);\n\n\tconst highlightBlock = () => toggleBlockHighlight( clientId, true );\n\tconst cancelHighlightBlock = () => toggleBlockHighlight( clientId, false );\n\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"edit-site-template-card__template-areas-item\"\n\t\t\ticon={ templatePartArea?.icon }\n\t\t\tonMouseOver={ highlightBlock }\n\t\t\tonMouseLeave={ cancelHighlightBlock }\n\t\t\tonFocus={ highlightBlock }\n\t\t\tonBlur={ cancelHighlightBlock }\n\t\t\tonClick={ () => {\n\t\t\t\tselectBlock( clientId );\n\t\t\t} }\n\t\t>\n\t\t\t{ templatePartArea?.label }\n\t\t</Button>\n\t);\n}\n\nexport default function TemplateAreas() {\n\tconst templateParts = useSelect(\n\t\t( select ) => select( editSiteStore ).getCurrentTemplateTemplateParts(),\n\t\t[]\n\t);\n\n\tif ( ! templateParts.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<section className=\"edit-site-template-card__template-areas\">\n\t\t\t<Heading\n\t\t\t\tlevel={ 3 }\n\t\t\t\tclassName=\"edit-site-template-card__template-areas-title\"\n\t\t\t>\n\t\t\t\t{ __( 'Areas' ) }\n\t\t\t</Heading>\n\n\t\t\t<ul className=\"edit-site-template-card__template-areas-list\">\n\t\t\t\t{ templateParts.map( ( { templatePart, block } ) => (\n\t\t\t\t\t<li key={ templatePart.slug }>\n\t\t\t\t\t\t<TemplateAreaItem\n\t\t\t\t\t\t\tarea={ templatePart.area }\n\t\t\t\t\t\t\tclientId={ block.clientId }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t</section>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { Icon } from '@wordpress/components';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\nimport TemplateActions from './template-actions';\nimport TemplateAreas from './template-areas';\n\nexport default function TemplateCard() {\n\tconst {\n\t\tinfo: { title, description, icon },\n\t\ttemplate,\n\t} = useSelect( ( select ) => {\n\t\tconst { getEditedPostType, getEditedPostId } = select( editSiteStore );\n\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\tconst { __experimentalGetTemplateInfo: getTemplateInfo } =\n\t\t\tselect( editorStore );\n\n\t\tconst postType = getEditedPostType();\n\t\tconst postId = getEditedPostId();\n\t\tconst record = getEditedEntityRecord( 'postType', postType, postId );\n\n\t\tconst info = record ? getTemplateInfo( record ) : {};\n\n\t\treturn { info, template: record };\n\t}, [] );\n\n\tif ( ! title && ! description ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"edit-site-template-card\">\n\t\t\t<Icon className=\"edit-site-template-card__icon\" icon={ icon } />\n\t\t\t<div className=\"edit-site-template-card__content\">\n\t\t\t\t<div className=\"edit-site-template-card__header\">\n\t\t\t\t\t<h2 className=\"edit-site-template-card__title\">\n\t\t\t\t\t\t{ decodeEntities( title ) }\n\t\t\t\t\t</h2>\n\t\t\t\t\t<TemplateActions template={ template } />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"edit-site-template-card__description\">\n\t\t\t\t\t{ decodeEntities( description ) }\n\t\t\t\t</div>\n\t\t\t\t<TemplateAreas />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill, PanelBody } from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { drawerLeft, drawerRight } from '@wordpress/icons';\nimport { useEffect, Fragment } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport DefaultSidebar from './default-sidebar';\nimport GlobalStylesSidebar from './global-styles-sidebar';\nimport NavigationMenuSidebar from './navigation-menu-sidebar';\nimport { STORE_NAME } from '../../store/constants';\nimport SettingsHeader from './settings-header';\nimport TemplateCard from './template-card';\nimport { SIDEBAR_BLOCK, SIDEBAR_TEMPLATE } from './constants';\nimport { store as editSiteStore } from '../../store';\n\nconst { Slot: InspectorSlot, Fill: InspectorFill } = createSlotFill(\n\t'EditSiteSidebarInspector'\n);\nexport const SidebarInspectorFill = InspectorFill;\n\nexport function SidebarComplementaryAreaFills() {\n\tconst {\n\t\tsidebar,\n\t\tisEditorSidebarOpened,\n\t\thasBlockSelection,\n\t\tsupportsGlobalStyles,\n\t} = useSelect( ( select ) => {\n\t\tconst _sidebar =\n\t\t\tselect( interfaceStore ).getActiveComplementaryArea( STORE_NAME );\n\t\tconst _isEditorSidebarOpened = [\n\t\t\tSIDEBAR_BLOCK,\n\t\t\tSIDEBAR_TEMPLATE,\n\t\t].includes( _sidebar );\n\t\tconst settings = select( editSiteStore ).getSettings();\n\t\treturn {\n\t\t\tsidebar: _sidebar,\n\t\t\tisEditorSidebarOpened: _isEditorSidebarOpened,\n\t\t\thasBlockSelection:\n\t\t\t\t!! select( blockEditorStore ).getBlockSelectionStart(),\n\t\t\tsupportsGlobalStyles: ! settings?.supportsTemplatePartsMode,\n\t\t};\n\t}, [] );\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\n\tuseEffect( () => {\n\t\tif ( ! isEditorSidebarOpened ) return;\n\t\tif ( hasBlockSelection ) {\n\t\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_BLOCK );\n\t\t} else {\n\t\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_TEMPLATE );\n\t\t}\n\t}, [ hasBlockSelection, isEditorSidebarOpened ] );\n\n\tlet sidebarName = sidebar;\n\tif ( ! isEditorSidebarOpened ) {\n\t\tsidebarName = hasBlockSelection ? SIDEBAR_BLOCK : SIDEBAR_TEMPLATE;\n\t}\n\n\t// Conditionally include NavMenu sidebar in Plugin only.\n\t// Optimise for dead code elimination.\n\t// See https://github.com/WordPress/gutenberg/blob/trunk/docs/how-to-guides/feature-flags.md#dead-code-elimination.\n\tlet MaybeNavigationMenuSidebar = Fragment;\n\n\tif ( process.env.IS_GUTENBERG_PLUGIN ) {\n\t\tMaybeNavigationMenuSidebar = NavigationMenuSidebar;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<DefaultSidebar\n\t\t\t\tidentifier={ sidebarName }\n\t\t\t\ttitle={ __( 'Settings' ) }\n\t\t\t\ticon={ isRTL() ? drawerLeft : drawerRight }\n\t\t\t\tcloseLabel={ __( 'Close settings sidebar' ) }\n\t\t\t\theader={ <SettingsHeader sidebarName={ sidebarName } /> }\n\t\t\t\theaderClassName=\"edit-site-sidebar-edit-mode__panel-tabs\"\n\t\t\t>\n\t\t\t\t{ sidebarName === SIDEBAR_TEMPLATE && (\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<TemplateCard />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t) }\n\t\t\t\t{ sidebarName === SIDEBAR_BLOCK && (\n\t\t\t\t\t<InspectorSlot bubblesVirtually />\n\t\t\t\t) }\n\t\t\t</DefaultSidebar>\n\t\t\t{ supportsGlobalStyles && <GlobalStylesSidebar /> }\n\t\t\t<MaybeNavigationMenuSidebar />\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst home = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 4L4 7.9V20h16V7.9L12 4zm6.5 14.5H14V13h-4v5.5H5.5V8.8L12 5.7l6.5 3.1v9.7z\" />\n\t</SVG>\n);\n\nexport default home;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst symbolFilled = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\n\t</SVG>\n);\n\nexport default symbolFilled;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalNavigation as Navigation,\n\t__experimentalNavigationBackButton as NavigationBackButton,\n\t__experimentalNavigationGroup as NavigationGroup,\n\t__experimentalNavigationItem as NavigationItem,\n\t__experimentalNavigationMenu as NavigationMenu,\n} from '@wordpress/components';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { ESCAPE } from '@wordpress/keycodes';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport {\n\thome as siteIcon,\n\tlayout as templateIcon,\n\tsymbolFilled as templatePartIcon,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { useLink } from '../../routes/link';\nimport { store as editSiteStore } from '../../../store';\n\nconst SITE_EDITOR_KEY = 'site-editor';\n\nfunction NavLink( { params, replace, ...props } ) {\n\tconst linkProps = useLink( params, replace );\n\n\treturn <NavigationItem { ...linkProps } { ...props } />;\n}\n\nconst NavigationPanel = ( { activeItem } ) => {\n\tconst {\n\t\thomeTemplate,\n\t\tisNavigationOpen,\n\t\tisTemplatePartsMode,\n\t\tsiteTitle,\n\t\tdashboardLink,\n\t} = useSelect( ( select ) => {\n\t\tconst { getEntityRecord } = select( coreDataStore );\n\t\tconst { getSettings, isNavigationOpened } = select( editSiteStore );\n\n\t\tconst siteData =\n\t\t\tgetEntityRecord( 'root', '__unstableBase', undefined ) || {};\n\t\tconst {\n\t\t\tsupportsTemplatePartsMode,\n\t\t\t__unstableHomeTemplate,\n\t\t\t__experimentalDashboardLink,\n\t\t} = getSettings();\n\n\t\treturn {\n\t\t\tsiteTitle: siteData.name,\n\t\t\thomeTemplate: __unstableHomeTemplate,\n\t\t\tdashboardLink: __experimentalDashboardLink,\n\t\t\tisNavigationOpen: isNavigationOpened(),\n\t\t\tisTemplatePartsMode: !! supportsTemplatePartsMode,\n\t\t};\n\t}, [] );\n\tconst { setIsNavigationPanelOpened } = useDispatch( editSiteStore );\n\n\tconst closeOnEscape = ( event ) => {\n\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\tevent.preventDefault();\n\t\t\tsetIsNavigationPanelOpened( false );\n\t\t}\n\t};\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div\n\t\t\tclassName={ classnames( `edit-site-navigation-panel`, {\n\t\t\t\t'is-open': isNavigationOpen,\n\t\t\t} ) }\n\t\t\tonKeyDown={ closeOnEscape }\n\t\t>\n\t\t\t<div className=\"edit-site-navigation-panel__inner\">\n\t\t\t\t<div className=\"edit-site-navigation-panel__site-title-container\">\n\t\t\t\t\t<div className=\"edit-site-navigation-panel__site-title\">\n\t\t\t\t\t\t{ decodeEntities( siteTitle ) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"edit-site-navigation-panel__scroll-container\">\n\t\t\t\t\t<Navigation activeItem={ activeItem }>\n\t\t\t\t\t\t<NavigationBackButton\n\t\t\t\t\t\t\tbackButtonLabel={ __( 'Dashboard' ) }\n\t\t\t\t\t\t\tclassName=\"edit-site-navigation-panel__back-to-dashboard\"\n\t\t\t\t\t\t\thref={ dashboardLink ?? 'index.php' }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<NavigationMenu>\n\t\t\t\t\t\t\t<NavigationGroup title={ __( 'Editor' ) }>\n\t\t\t\t\t\t\t\t{ ! isTemplatePartsMode && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\t\t\ticon={ siteIcon }\n\t\t\t\t\t\t\t\t\t\t\ttitle={ __( 'Site' ) }\n\t\t\t\t\t\t\t\t\t\t\titem={ SITE_EDITOR_KEY }\n\t\t\t\t\t\t\t\t\t\t\tparams={ {\n\t\t\t\t\t\t\t\t\t\t\t\tpostId: homeTemplate?.postId,\n\t\t\t\t\t\t\t\t\t\t\t\tpostType:\n\t\t\t\t\t\t\t\t\t\t\t\t\thomeTemplate?.postType,\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\t\t\ticon={ templateIcon }\n\t\t\t\t\t\t\t\t\t\t\ttitle={ __( 'Templates' ) }\n\t\t\t\t\t\t\t\t\t\t\titem=\"wp_template\"\n\t\t\t\t\t\t\t\t\t\t\tparams={ {\n\t\t\t\t\t\t\t\t\t\t\t\tpostId: undefined,\n\t\t\t\t\t\t\t\t\t\t\t\tpostType: 'wp_template',\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\ticon={ templatePartIcon }\n\t\t\t\t\t\t\t\t\ttitle={ __( 'Template Parts' ) }\n\t\t\t\t\t\t\t\t\titem=\"wp_template_part\"\n\t\t\t\t\t\t\t\t\tparams={ {\n\t\t\t\t\t\t\t\t\t\tpostId: undefined,\n\t\t\t\t\t\t\t\t\t\tpostType: 'wp_template_part',\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</NavigationGroup>\n\t\t\t\t\t\t</NavigationMenu>\n\t\t\t\t\t</Navigation>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default NavigationPanel;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst wordpress = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z\" />\n\t</SVG>\n);\n\nexport default wordpress;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect, useRef } from '@wordpress/element';\nimport {\n\tButton,\n\tIcon,\n\t__unstableMotion as motion,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { wordpress } from '@wordpress/icons';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { useReducedMotion } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\nfunction NavigationToggle( { icon } ) {\n\tconst { isNavigationOpen, isRequestingSiteIcon, siteIconUrl } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord, isResolving } = select( coreDataStore );\n\t\t\tconst siteData =\n\t\t\t\tgetEntityRecord( 'root', '__unstableBase', undefined ) || {};\n\n\t\t\treturn {\n\t\t\t\tisNavigationOpen: select( editSiteStore ).isNavigationOpened(),\n\t\t\t\tisRequestingSiteIcon: isResolving( 'core', 'getEntityRecord', [\n\t\t\t\t\t'root',\n\t\t\t\t\t'__unstableBase',\n\t\t\t\t\tundefined,\n\t\t\t\t] ),\n\t\t\t\tsiteIconUrl: siteData.site_icon_url,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\tconst { setIsNavigationPanelOpened } = useDispatch( editSiteStore );\n\n\tconst disableMotion = useReducedMotion();\n\n\tconst navigationToggleRef = useRef();\n\n\tuseEffect( () => {\n\t\t// TODO: Remove this effect when alternative solution is merged.\n\t\t// See: https://github.com/WordPress/gutenberg/pull/37314\n\t\tif ( ! isNavigationOpen ) {\n\t\t\tnavigationToggleRef.current.focus();\n\t\t}\n\t}, [ isNavigationOpen ] );\n\n\tconst toggleNavigationPanel = () =>\n\t\tsetIsNavigationPanelOpened( ! isNavigationOpen );\n\n\tlet buttonIcon = <Icon size=\"36px\" icon={ wordpress } />;\n\n\tconst effect = {\n\t\texpand: {\n\t\t\tscale: 1.25,\n\t\t\ttransition: { type: 'tween', duration: '0.3' },\n\t\t},\n\t};\n\n\tif ( siteIconUrl ) {\n\t\tbuttonIcon = (\n\t\t\t<motion.img\n\t\t\t\tvariants={ ! disableMotion && effect }\n\t\t\t\talt={ __( 'Site Icon' ) }\n\t\t\t\tclassName=\"edit-site-navigation-toggle__site-icon\"\n\t\t\t\tsrc={ siteIconUrl }\n\t\t\t/>\n\t\t);\n\t} else if ( isRequestingSiteIcon ) {\n\t\tbuttonIcon = null;\n\t} else if ( icon ) {\n\t\tbuttonIcon = <Icon size=\"36px\" icon={ icon } />;\n\t}\n\n\tconst classes = classnames( {\n\t\t'edit-site-navigation-toggle__button': true,\n\t\t'has-icon': siteIconUrl,\n\t} );\n\n\treturn (\n\t\t<motion.div\n\t\t\tclassName={\n\t\t\t\t'edit-site-navigation-toggle' +\n\t\t\t\t( isNavigationOpen ? ' is-open' : '' )\n\t\t\t}\n\t\t\twhileHover=\"expand\"\n\t\t>\n\t\t\t<Button\n\t\t\t\tclassName={ classes }\n\t\t\t\tlabel={ __( 'Toggle navigation' ) }\n\t\t\t\tref={ navigationToggleRef }\n\t\t\t\t// isPressed will add unwanted styles.\n\t\t\t\taria-pressed={ isNavigationOpen }\n\t\t\t\tonClick={ toggleNavigationPanel }\n\t\t\t\tshowTooltip\n\t\t\t>\n\t\t\t\t{ buttonIcon }\n\t\t\t</Button>\n\t\t</motion.div>\n\t);\n}\n\nexport default NavigationToggle;\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { createSlotFill } from '@wordpress/components';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport NavigationPanel from './navigation-panel';\nimport NavigationToggle from './navigation-toggle';\n\nexport const {\n\tFill: NavigationPanelPreviewFill,\n\tSlot: NavigationPanelPreviewSlot,\n} = createSlotFill( 'EditSiteNavigationPanelPreview' );\n\nconst { Fill: NavigationSidebarFill, Slot: NavigationSidebarSlot } =\n\tcreateSlotFill( 'EditSiteNavigationSidebar' );\n\nfunction NavigationSidebar( { isDefaultOpen = false, activeTemplateType } ) {\n\tconst isDesktopViewport = useViewportMatch( 'medium' );\n\tconst { setIsNavigationPanelOpened } = useDispatch( editSiteStore );\n\n\tuseEffect(\n\t\tfunction autoOpenNavigationPanelOnViewportChange() {\n\t\t\tsetIsNavigationPanelOpened( isDefaultOpen && isDesktopViewport );\n\t\t},\n\t\t[ isDefaultOpen, isDesktopViewport, setIsNavigationPanelOpened ]\n\t);\n\n\treturn (\n\t\t<NavigationSidebarFill>\n\t\t\t<NavigationToggle />\n\t\t\t<NavigationPanel activeItem={ activeTemplateType } />\n\t\t\t<NavigationPanelPreviewSlot />\n\t\t</NavigationSidebarFill>\n\t);\n}\n\nNavigationSidebar.Slot = NavigationSidebarSlot;\n\nexport default NavigationSidebar;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"reusableBlocks\"];","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tBlockSettingsMenuControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nexport default function ConvertToRegularBlocks( { clientId } ) {\n\tconst { getBlocks } = useSelect( blockEditorStore );\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\n\tconst canRemove = useSelect(\n\t\t( select ) => select( blockEditorStore ).canRemoveBlock( clientId ),\n\t\t[ clientId ]\n\t);\n\n\tif ( ! canRemove ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockSettingsMenuControls>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\treplaceBlocks( clientId, getBlocks( clientId ) );\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Detach blocks from template part' ) }\n\t\t\t\t</MenuItem>\n\t\t\t) }\n\t\t</BlockSettingsMenuControls>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n\tIcon,\n\tBaseControl,\n\tTextControl,\n\tFlex,\n\tFlexItem,\n\tFlexBlock,\n\tButton,\n\tModal,\n\t__experimentalRadioGroup as RadioGroup,\n\t__experimentalRadio as Radio,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { useInstanceId } from '@wordpress/compose';\nimport { store as editorStore } from '@wordpress/editor';\nimport { check } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_PART_AREA_GENERAL } from '../../store/constants';\n\nexport default function CreateTemplatePartModal( { closeModal, onCreate } ) {\n\tconst [ title, setTitle ] = useState( '' );\n\tconst [ area, setArea ] = useState( TEMPLATE_PART_AREA_GENERAL );\n\tconst [ isSubmitting, setIsSubmitting ] = useState( false );\n\tconst instanceId = useInstanceId( CreateTemplatePartModal );\n\n\tconst templatePartAreas = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).__experimentalGetDefaultTemplatePartAreas(),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Create a template part' ) }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ closeModal }\n\t\t\toverlayClassName=\"edit-site-create-template-part-modal\"\n\t\t>\n\t\t\t<form\n\t\t\t\tonSubmit={ async ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tif ( ! title ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetIsSubmitting( true );\n\t\t\t\t\tawait onCreate( { title, area } );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\tvalue={ title }\n\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<BaseControl\n\t\t\t\t\tlabel={ __( 'Area' ) }\n\t\t\t\t\tid={ `edit-site-create-template-part-modal__area-selection-${ instanceId }` }\n\t\t\t\t\tclassName=\"edit-site-create-template-part-modal__area-base-control\"\n\t\t\t\t>\n\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\tlabel={ __( 'Area' ) }\n\t\t\t\t\t\tclassName=\"edit-site-create-template-part-modal__area-radio-group\"\n\t\t\t\t\t\tid={ `edit-site-create-template-part-modal__area-selection-${ instanceId }` }\n\t\t\t\t\t\tonChange={ setArea }\n\t\t\t\t\t\tchecked={ area }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ templatePartAreas.map(\n\t\t\t\t\t\t\t( { icon, label, area: value, description } ) => (\n\t\t\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\t\t\tkey={ label }\n\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\tclassName=\"edit-site-create-template-part-modal__area-radio\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Flex align=\"start\" justify=\"start\">\n\t\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t\t<FlexBlock className=\"edit-site-create-template-part-modal__option-label\">\n\t\t\t\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t\t\t\t\t<div>{ description }</div>\n\t\t\t\t\t\t\t\t\t\t</FlexBlock>\n\n\t\t\t\t\t\t\t\t\t\t<FlexItem className=\"edit-site-create-template-part-modal__checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t{ area === value && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon icon={ check } />\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t\t</Radio>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) }\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t</BaseControl>\n\t\t\t\t<Flex\n\t\t\t\t\tclassName=\"edit-site-create-template-part-modal__modal-actions\"\n\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={ ! title }\n\t\t\t\t\t\t\tisBusy={ isSubmitting }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Create' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { kebabCase } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tBlockSettingsMenuControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { MenuItem } from '@wordpress/components';\nimport { createBlock, serialize } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { symbolFilled } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport CreateTemplatePartModal from '../create-template-part-modal';\nimport { store as editSiteStore } from '../../store';\n\nexport default function ConvertToTemplatePart( { clientIds, blocks } ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\n\tconst { canCreate } = useSelect( ( select ) => {\n\t\tconst { supportsTemplatePartsMode } =\n\t\t\tselect( editSiteStore ).getSettings();\n\t\treturn {\n\t\t\tcanCreate: ! supportsTemplatePartsMode,\n\t\t};\n\t}, [] );\n\n\tif ( ! canCreate ) {\n\t\treturn null;\n\t}\n\n\tconst onConvert = async ( { title, area } ) => {\n\t\t// Currently template parts only allow latin chars.\n\t\t// Fallback slug will receive suffix by default.\n\t\tconst cleanSlug =\n\t\t\tkebabCase( title ).replace( /[^\\w-]+/g, '' ) || 'wp-custom-part';\n\n\t\tconst templatePart = await saveEntityRecord(\n\t\t\t'postType',\n\t\t\t'wp_template_part',\n\t\t\t{\n\t\t\t\tslug: cleanSlug,\n\t\t\t\ttitle,\n\t\t\t\tcontent: serialize( blocks ),\n\t\t\t\tarea,\n\t\t\t}\n\t\t);\n\t\treplaceBlocks(\n\t\t\tclientIds,\n\t\t\tcreateBlock( 'core/template-part', {\n\t\t\t\tslug: templatePart.slug,\n\t\t\t\ttheme: templatePart.theme,\n\t\t\t} )\n\t\t);\n\t\tcreateSuccessNotice( __( 'Template part created.' ), {\n\t\t\ttype: 'snackbar',\n\t\t} );\n\n\t\t// The modal and this component will be unmounted because of `replaceBlocks` above,\n\t\t// so no need to call `closeModal` or `onClose`.\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<BlockSettingsMenuControls>\n\t\t\t\t{ () => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\ticon={ symbolFilled }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetIsModalOpen( true );\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Create Template part' ) }\n\t\t\t\t\t</MenuItem>\n\t\t\t\t) }\n\t\t\t</BlockSettingsMenuControls>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<CreateTemplatePartModal\n\t\t\t\t\tcloseModal={ () => {\n\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t} }\n\t\t\t\t\tonCreate={ onConvert }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ConvertToRegularBlocks from './convert-to-regular';\nimport ConvertToTemplatePart from './convert-to-template-part';\n\nexport default function TemplatePartConverter() {\n\tconst { clientIds, blocks } = useSelect( ( select ) => {\n\t\tconst { getSelectedBlockClientIds, getBlocksByClientId } =\n\t\t\tselect( blockEditorStore );\n\t\tconst selectedBlockClientIds = getSelectedBlockClientIds();\n\t\treturn {\n\t\t\tclientIds: selectedBlockClientIds,\n\t\t\tblocks: getBlocksByClientId( selectedBlockClientIds ),\n\t\t};\n\t}, [] );\n\n\t// Allow converting a single template part to standard blocks.\n\tif ( blocks.length === 1 && blocks[ 0 ]?.name === 'core/template-part' ) {\n\t\treturn <ConvertToRegularBlocks clientId={ clientIds[ 0 ] } />;\n\t}\n\n\treturn <ConvertToTemplatePart clientIds={ clientIds } blocks={ blocks } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst pencil = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z\" />\n\t</SVG>\n);\n\nexport default pencil;\n","/**\n * Internal dependencies\n */\n\nimport { default as pencil } from './pencil';\nexport default pencil;\n","/**\n * WordPress dependencies\n */\nimport { getPathAndQueryString } from '@wordpress/url';\nimport { useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { Button } from '@wordpress/components';\nimport { edit } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\n\nexport default function NavigateToLink( {\n\ttype,\n\tid,\n\tactivePage,\n\tonActivePageChange,\n} ) {\n\tconst post = useSelect(\n\t\t( select ) =>\n\t\t\ttype &&\n\t\t\tid &&\n\t\t\ttype !== 'URL' &&\n\t\t\tselect( coreStore ).getEntityRecord( 'postType', type, id ),\n\t\t[ type, id ]\n\t);\n\n\tconst onClick = useMemo( () => {\n\t\tif ( ! post?.link ) return null;\n\t\tconst path = getPathAndQueryString( post.link );\n\t\tif ( path === activePage?.path ) return null;\n\t\treturn () =>\n\t\t\tonActivePageChange( {\n\t\t\t\ttype,\n\t\t\t\tslug: post.slug,\n\t\t\t\tpath,\n\t\t\t\tcontext: {\n\t\t\t\t\tpostType: post.type,\n\t\t\t\t\tpostId: post.id,\n\t\t\t\t},\n\t\t\t} );\n\t}, [ post, activePage?.path, onActivePageChange ] );\n\n\treturn (\n\t\tonClick && (\n\t\t\t<Button\n\t\t\t\ticon={ edit }\n\t\t\t\tlabel={ __( 'Edit Page Template' ) }\n\t\t\t\tonClick={ onClick }\n\t\t\t/>\n\t\t)\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { speak } from '@wordpress/a11y';\nimport { MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport { STORE_NAME } from '../../store/constants';\nimport { SIDEBAR_BLOCK } from '../sidebar-edit-mode/constants';\n\nexport default function BlockInspectorButton( { onClick = () => {} } ) {\n\tconst { shortcut, isBlockInspectorOpen } = useSelect(\n\t\t( select ) => ( {\n\t\t\tshortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getShortcutRepresentation(\n\t\t\t\t'core/edit-site/toggle-block-settings-sidebar'\n\t\t\t),\n\t\t\tisBlockInspectorOpen:\n\t\t\t\tselect( interfaceStore ).getActiveComplementaryArea(\n\t\t\t\t\teditSiteStore.name\n\t\t\t\t) === SIDEBAR_BLOCK,\n\t\t} ),\n\t\t[]\n\t);\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\n\tconst label = isBlockInspectorOpen\n\t\t? __( 'Hide more settings' )\n\t\t: __( 'Show more settings' );\n\n\treturn (\n\t\t<MenuItem\n\t\t\tonClick={ () => {\n\t\t\t\tif ( isBlockInspectorOpen ) {\n\t\t\t\t\tdisableComplementaryArea( STORE_NAME );\n\t\t\t\t\tspeak( __( 'Block settings closed' ) );\n\t\t\t\t} else {\n\t\t\t\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_BLOCK );\n\t\t\t\t\tspeak(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Additional settings are now available in the Editor block settings sidebar'\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// Close dropdown menu.\n\t\t\t\tonClick();\n\t\t\t} }\n\t\t\tshortcut={ shortcut }\n\t\t>\n\t\t\t{ label }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst arrowLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z\" />\n\t</SVG>\n);\n\nexport default arrowLeft;\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { arrowLeft } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useLocation, useHistory } from '../routes';\n\nfunction BackButton() {\n\tconst location = useLocation();\n\tconst history = useHistory();\n\tconst isTemplatePart = location.params.postType === 'wp_template_part';\n\tconst previousTemplateId = location.state?.fromTemplateId;\n\n\tif ( ! isTemplatePart || ! previousTemplateId ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"edit-site-visual-editor__back-button\"\n\t\t\ticon={ arrowLeft }\n\t\t\tonClick={ () => {\n\t\t\t\thistory.back();\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Back' ) }\n\t\t</Button>\n\t);\n}\n\nexport default BackButton;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { LEFT, RIGHT } from '@wordpress/keycodes';\nimport { VisuallyHidden } from '@wordpress/components';\n\nconst DELTA_DISTANCE = 20; // The distance to resize per keydown in pixels.\n\nexport default function ResizeHandle( { direction, resizeWidthBy } ) {\n\tfunction handleKeyDown( event ) {\n\t\tconst { keyCode } = event;\n\n\t\tif (\n\t\t\t( direction === 'left' && keyCode === LEFT ) ||\n\t\t\t( direction === 'right' && keyCode === RIGHT )\n\t\t) {\n\t\t\tresizeWidthBy( DELTA_DISTANCE );\n\t\t} else if (\n\t\t\t( direction === 'left' && keyCode === RIGHT ) ||\n\t\t\t( direction === 'right' && keyCode === LEFT )\n\t\t) {\n\t\t\tresizeWidthBy( -DELTA_DISTANCE );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<button\n\t\t\t\tclassName={ `resizable-editor__drag-handle is-${ direction }` }\n\t\t\t\taria-label={ __( 'Drag to resize' ) }\n\t\t\t\taria-describedby={ `resizable-editor__resize-help-${ direction }` }\n\t\t\t\tonKeyDown={ handleKeyDown }\n\t\t\t/>\n\t\t\t<VisuallyHidden\n\t\t\t\tid={ `resizable-editor__resize-help-${ direction }` }\n\t\t\t>\n\t\t\t\t{ __( 'Use left and right arrow keys to resize the canvas.' ) }\n\t\t\t</VisuallyHidden>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useState, useRef, useCallback } from '@wordpress/element';\nimport { ResizableBox } from '@wordpress/components';\nimport {\n\t__experimentalUseResizeCanvas as useResizeCanvas,\n\t__unstableEditorStyles as EditorStyles,\n\t__unstableIframe as Iframe,\n\t__unstableUseMouseMoveTypingReset as useMouseMoveTypingReset,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { useMergeRefs, useResizeObserver } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport ResizeHandle from './resize-handle';\n\n// Removes the inline styles in the drag handles.\nconst HANDLE_STYLES_OVERRIDE = {\n\tposition: undefined,\n\tuserSelect: undefined,\n\tcursor: undefined,\n\twidth: undefined,\n\theight: undefined,\n\ttop: undefined,\n\tright: undefined,\n\tbottom: undefined,\n\tleft: undefined,\n};\n\nfunction ResizableEditor( { enableResizing, settings, children, ...props } ) {\n\tconst [ resizeObserver, sizes ] = useResizeObserver();\n\tconst { deviceType, isZoomOutMode } = useSelect(\n\t\t( select ) => ( {\n\t\t\tdeviceType:\n\t\t\t\tselect( editSiteStore ).__experimentalGetPreviewDeviceType(),\n\t\t\tisZoomOutMode:\n\t\t\t\tselect( blockEditorStore ).__unstableGetEditorMode() ===\n\t\t\t\t'zoom-out',\n\t\t} ),\n\t\t[]\n\t);\n\tconst deviceStyles = useResizeCanvas( deviceType );\n\tconst [ width, setWidth ] = useState( '100%' );\n\tconst iframeRef = useRef();\n\tconst mouseMoveTypingResetRef = useMouseMoveTypingReset();\n\tconst ref = useMergeRefs( [ iframeRef, mouseMoveTypingResetRef ] );\n\n\tconst resizeWidthBy = useCallback( ( deltaPixels ) => {\n\t\tif ( iframeRef.current ) {\n\t\t\tsetWidth( iframeRef.current.offsetWidth + deltaPixels );\n\t\t}\n\t}, [] );\n\treturn (\n\t\t<ResizableBox\n\t\t\tsize={ {\n\t\t\t\twidth: enableResizing ? width : '100%',\n\t\t\t\theight: enableResizing && sizes.height ? sizes.height : '100%',\n\t\t\t} }\n\t\t\tonResizeStop={ ( event, direction, element ) => {\n\t\t\t\tsetWidth( element.style.width );\n\t\t\t} }\n\t\t\tminWidth={ 300 }\n\t\t\tmaxWidth=\"100%\"\n\t\t\tmaxHeight=\"100%\"\n\t\t\tenable={ {\n\t\t\t\tright: enableResizing,\n\t\t\t\tleft: enableResizing,\n\t\t\t} }\n\t\t\tshowHandle={ enableResizing }\n\t\t\t// The editor is centered horizontally, resizing it only\n\t\t\t// moves half the distance. Hence double the ratio to correctly\n\t\t\t// align the cursor to the resizer handle.\n\t\t\tresizeRatio={ 2 }\n\t\t\thandleComponent={ {\n\t\t\t\tleft: (\n\t\t\t\t\t<ResizeHandle\n\t\t\t\t\t\tdirection=\"left\"\n\t\t\t\t\t\tresizeWidthBy={ resizeWidthBy }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\tright: (\n\t\t\t\t\t<ResizeHandle\n\t\t\t\t\t\tdirection=\"right\"\n\t\t\t\t\t\tresizeWidthBy={ resizeWidthBy }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t} }\n\t\t\thandleClasses={ undefined }\n\t\t\thandleStyles={ {\n\t\t\t\tleft: HANDLE_STYLES_OVERRIDE,\n\t\t\t\tright: HANDLE_STYLES_OVERRIDE,\n\t\t\t} }\n\t\t>\n\t\t\t<Iframe\n\t\t\t\tisZoomedOut={ isZoomOutMode }\n\t\t\t\tstyle={ enableResizing ? {} : deviceStyles }\n\t\t\t\thead={\n\t\t\t\t\t<>\n\t\t\t\t\t\t<EditorStyles styles={ settings.styles } />\n\t\t\t\t\t\t<style>{\n\t\t\t\t\t\t\t// Forming a \"block formatting context\" to prevent margin collapsing.\n\t\t\t\t\t\t\t// @see https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context\n\t\t\t\t\t\t\t`.is-root-container { display: flow-root; }\n\t\t\t\t\t\t\tbody { position: relative; }`\n\t\t\t\t\t\t}</style>\n\t\t\t\t\t\t{ enableResizing && (\n\t\t\t\t\t\t\t<style>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// Some themes will have `min-height: 100vh` for the root container,\n\t\t\t\t\t\t\t\t\t// which isn't a requirement in auto resize mode.\n\t\t\t\t\t\t\t\t\t`.is-root-container { min-height: 0 !important; }`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</style>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\tassets={ settings.__unstableResolvedAssets }\n\t\t\t\tref={ ref }\n\t\t\t\tname=\"editor-canvas\"\n\t\t\t\tclassName=\"edit-site-visual-editor__editor-canvas\"\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t{ /* Filters need to be rendered before children to avoid Safari rendering issues. */ }\n\t\t\t\t{ settings.svgFilters }\n\t\t\t\t{ resizeObserver }\n\t\t\t\t{ children }\n\t\t\t</Iframe>\n\t\t</ResizableBox>\n\t);\n}\n\nexport default ResizableEditor;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useCallback, useMemo, useRef, Fragment } from '@wordpress/element';\nimport {\n\tuseEntityBlockEditor,\n\t__experimentalFetchMedia as fetchMedia,\n\tstore as coreStore,\n} from '@wordpress/core-data';\nimport {\n\tBlockList,\n\tBlockEditorProvider,\n\t__experimentalLinkControl,\n\tBlockInspector,\n\tBlockTools,\n\t__unstableBlockToolbarLastItem,\n\t__unstableBlockSettingsMenuFirstItem,\n\t__unstableUseTypingObserver as useTypingObserver,\n\tBlockEditorKeyboardShortcuts,\n\tstore as blockEditorStore,\n\t__unstableBlockNameContext,\n} from '@wordpress/block-editor';\nimport { useMergeRefs, useViewportMatch } from '@wordpress/compose';\nimport { ReusableBlocksMenuItems } from '@wordpress/reusable-blocks';\nimport { listView } from '@wordpress/icons';\nimport { ToolbarButton, ToolbarGroup } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport TemplatePartConverter from '../template-part-converter';\nimport NavigateToLink from '../navigate-to-link';\nimport { SidebarInspectorFill } from '../sidebar-edit-mode';\nimport { store as editSiteStore } from '../../store';\nimport BlockInspectorButton from './block-inspector-button';\nimport BackButton from './back-button';\nimport ResizableEditor from './resizable-editor';\n\nconst LAYOUT = {\n\ttype: 'default',\n\t// At the root level of the site editor, no alignments should be allowed.\n\talignments: [],\n};\n\nconst NAVIGATION_SIDEBAR_NAME = 'edit-site/navigation-menu';\n\nexport default function BlockEditor( { setIsInserterOpen } ) {\n\tconst {\n\t\tstoredSettings,\n\t\ttemplateType,\n\t\ttemplateId,\n\t\tpage,\n\t\tisNavigationSidebarOpen,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getSettings, getEditedPostType, getEditedPostId, getPage } =\n\t\t\t\tselect( editSiteStore );\n\n\t\t\treturn {\n\t\t\t\tstoredSettings: getSettings( setIsInserterOpen ),\n\t\t\t\ttemplateType: getEditedPostType(),\n\t\t\t\ttemplateId: getEditedPostId(),\n\t\t\t\tpage: getPage(),\n\t\t\t\tisNavigationSidebarOpen:\n\t\t\t\t\tselect( interfaceStore ).getActiveComplementaryArea(\n\t\t\t\t\t\teditSiteStore.name\n\t\t\t\t\t) === NAVIGATION_SIDEBAR_NAME,\n\t\t\t};\n\t\t},\n\t\t[ setIsInserterOpen ]\n\t);\n\n\tconst settingsBlockPatterns =\n\t\tstoredSettings.__experimentalAdditionalBlockPatterns ?? // WP 6.0\n\t\tstoredSettings.__experimentalBlockPatterns; // WP 5.9\n\tconst settingsBlockPatternCategories =\n\t\tstoredSettings.__experimentalAdditionalBlockPatternCategories ?? // WP 6.0\n\t\tstoredSettings.__experimentalBlockPatternCategories; // WP 5.9\n\n\tconst { restBlockPatterns, restBlockPatternCategories } = useSelect(\n\t\t( select ) => ( {\n\t\t\trestBlockPatterns: select( coreStore ).getBlockPatterns(),\n\t\t\trestBlockPatternCategories:\n\t\t\t\tselect( coreStore ).getBlockPatternCategories(),\n\t\t} ),\n\t\t[]\n\t);\n\n\tconst blockPatterns = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\t...( settingsBlockPatterns || [] ),\n\t\t\t\t...( restBlockPatterns || [] ),\n\t\t\t]\n\t\t\t\t.filter(\n\t\t\t\t\t( x, index, arr ) =>\n\t\t\t\t\t\tindex === arr.findIndex( ( y ) => x.name === y.name )\n\t\t\t\t)\n\t\t\t\t.filter( ( { postTypes } ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t! postTypes ||\n\t\t\t\t\t\t( Array.isArray( postTypes ) &&\n\t\t\t\t\t\t\tpostTypes.includes( templateType ) )\n\t\t\t\t\t);\n\t\t\t\t} ),\n\t\t[ settingsBlockPatterns, restBlockPatterns, templateType ]\n\t);\n\n\tconst blockPatternCategories = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\t...( settingsBlockPatternCategories || [] ),\n\t\t\t\t...( restBlockPatternCategories || [] ),\n\t\t\t].filter(\n\t\t\t\t( x, index, arr ) =>\n\t\t\t\t\tindex === arr.findIndex( ( y ) => x.name === y.name )\n\t\t\t),\n\t\t[ settingsBlockPatternCategories, restBlockPatternCategories ]\n\t);\n\n\tconst settings = useMemo( () => {\n\t\tconst {\n\t\t\t__experimentalAdditionalBlockPatterns,\n\t\t\t__experimentalAdditionalBlockPatternCategories,\n\t\t\t...restStoredSettings\n\t\t} = storedSettings;\n\n\t\treturn {\n\t\t\t...restStoredSettings,\n\t\t\t__unstableFetchMedia: fetchMedia,\n\t\t\t__experimentalBlockPatterns: blockPatterns,\n\t\t\t__experimentalBlockPatternCategories: blockPatternCategories,\n\t\t};\n\t}, [ storedSettings, blockPatterns, blockPatternCategories ] );\n\n\tconst [ blocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\ttemplateType\n\t);\n\tconst { setPage } = useDispatch( editSiteStore );\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\tconst toggleNavigationSidebar = useCallback( () => {\n\t\tconst toggleComplementaryArea = isNavigationSidebarOpen\n\t\t\t? disableComplementaryArea\n\t\t\t: enableComplementaryArea;\n\t\ttoggleComplementaryArea( editSiteStore.name, NAVIGATION_SIDEBAR_NAME );\n\t}, [ isNavigationSidebarOpen ] );\n\tconst contentRef = useRef();\n\tconst mergedRefs = useMergeRefs( [ contentRef, useTypingObserver() ] );\n\tconst isMobileViewport = useViewportMatch( 'small', '<' );\n\tconst { clearSelectedBlock } = useDispatch( blockEditorStore );\n\n\tconst isTemplatePart = templateType === 'wp_template_part';\n\tconst hasBlocks = blocks.length !== 0;\n\n\tconst NavMenuSidebarToggle = () => (\n\t\t<ToolbarGroup>\n\t\t\t<ToolbarButton\n\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\tlabel={\n\t\t\t\t\tisNavigationSidebarOpen\n\t\t\t\t\t\t? __( 'Close list view' )\n\t\t\t\t\t\t: __( 'Open list view' )\n\t\t\t\t}\n\t\t\t\tonClick={ toggleNavigationSidebar }\n\t\t\t\ticon={ listView }\n\t\t\t\tisActive={ isNavigationSidebarOpen }\n\t\t\t/>\n\t\t</ToolbarGroup>\n\t);\n\n\t// Conditionally include NavMenu sidebar in Plugin only.\n\t// Optimise for dead code elimination.\n\t// See https://github.com/WordPress/gutenberg/blob/trunk/docs/how-to-guides/feature-flags.md#dead-code-elimination.\n\tlet MaybeNavMenuSidebarToggle = Fragment;\n\n\tif ( process.env.IS_GUTENBERG_PLUGIN ) {\n\t\tMaybeNavMenuSidebarToggle = NavMenuSidebarToggle;\n\t}\n\n\treturn (\n\t\t<BlockEditorProvider\n\t\t\tsettings={ settings }\n\t\t\tvalue={ blocks }\n\t\t\tonInput={ onInput }\n\t\t\tonChange={ onChange }\n\t\t\tuseSubRegistry={ false }\n\t\t>\n\t\t\t<TemplatePartConverter />\n\t\t\t<__experimentalLinkControl.ViewerFill>\n\t\t\t\t{ useCallback(\n\t\t\t\t\t( fillProps ) => (\n\t\t\t\t\t\t<NavigateToLink\n\t\t\t\t\t\t\t{ ...fillProps }\n\t\t\t\t\t\t\tactivePage={ page }\n\t\t\t\t\t\t\tonActivePageChange={ setPage }\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\t[ page ]\n\t\t\t\t) }\n\t\t\t</__experimentalLinkControl.ViewerFill>\n\t\t\t<SidebarInspectorFill>\n\t\t\t\t<BlockInspector />\n\t\t\t</SidebarInspectorFill>\n\t\t\t<BlockTools\n\t\t\t\tclassName={ classnames( 'edit-site-visual-editor', {\n\t\t\t\t\t'is-focus-mode': isTemplatePart,\n\t\t\t\t} ) }\n\t\t\t\t__unstableContentRef={ contentRef }\n\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t// Clear selected block when clicking on the gray background.\n\t\t\t\t\tif ( event.target === event.currentTarget ) {\n\t\t\t\t\t\tclearSelectedBlock();\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<BlockEditorKeyboardShortcuts.Register />\n\t\t\t\t<BackButton />\n\t\t\t\t<ResizableEditor\n\t\t\t\t\t// Reinitialize the editor and reset the states when the template changes.\n\t\t\t\t\tkey={ templateId }\n\t\t\t\t\tenableResizing={\n\t\t\t\t\t\tisTemplatePart &&\n\t\t\t\t\t\t// Disable resizing in mobile viewport.\n\t\t\t\t\t\t! isMobileViewport\n\t\t\t\t\t}\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tcontentRef={ mergedRefs }\n\t\t\t\t>\n\t\t\t\t\t<BlockList\n\t\t\t\t\t\tclassName=\"edit-site-block-editor__block-list wp-site-blocks\"\n\t\t\t\t\t\t__experimentalLayout={ LAYOUT }\n\t\t\t\t\t\trenderAppender={\n\t\t\t\t\t\t\tisTemplatePart && hasBlocks ? false : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</ResizableEditor>\n\t\t\t\t<__unstableBlockSettingsMenuFirstItem>\n\t\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t\t<BlockInspectorButton onClick={ onClose } />\n\t\t\t\t\t) }\n\t\t\t\t</__unstableBlockSettingsMenuFirstItem>\n\t\t\t\t<__unstableBlockToolbarLastItem>\n\t\t\t\t\t<__unstableBlockNameContext.Consumer>\n\t\t\t\t\t\t{ ( blockName ) =>\n\t\t\t\t\t\t\tblockName === 'core/navigation' && (\n\t\t\t\t\t\t\t\t<MaybeNavMenuSidebarToggle />\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</__unstableBlockNameContext.Consumer>\n\t\t\t\t</__unstableBlockToolbarLastItem>\n\t\t\t</BlockTools>\n\t\t\t<ReusableBlocksMenuItems />\n\t\t</BlockEditorProvider>\n\t);\n}\n","/**\n * External dependencies\n */\nimport Textarea from 'react-autosize-textarea';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useState, useRef } from '@wordpress/element';\nimport { useInstanceId } from '@wordpress/compose';\nimport { VisuallyHidden } from '@wordpress/components';\n\nexport default function CodeEditorTextArea( { value, onChange, onInput } ) {\n\tconst [ stateValue, setStateValue ] = useState( value );\n\tconst [ isDirty, setIsDirty ] = useState( false );\n\tconst instanceId = useInstanceId( CodeEditorTextArea );\n\tconst valueRef = useRef();\n\n\tif ( ! isDirty && stateValue !== value ) {\n\t\tsetStateValue( value );\n\t}\n\n\t/**\n\t * Handles a textarea change event to notify the onChange prop callback and\n\t * reflect the new value in the component's own state. This marks the start\n\t * of the user's edits, if not already changed, preventing future props\n\t * changes to value from replacing the rendered value. This is expected to\n\t * be followed by a reset to dirty state via `stopEditing`.\n\t *\n\t * @see stopEditing\n\t *\n\t * @param {Event} event Change event.\n\t */\n\tconst onChangeHandler = ( event ) => {\n\t\tconst newValue = event.target.value;\n\t\tonInput( newValue );\n\t\tsetStateValue( newValue );\n\t\tsetIsDirty( true );\n\t\tvalueRef.current = newValue;\n\t};\n\n\t/**\n\t * Function called when the user has completed their edits, responsible for\n\t * ensuring that changes, if made, are surfaced to the onPersist prop\n\t * callback and resetting dirty state.\n\t */\n\tconst stopEditing = () => {\n\t\tif ( isDirty ) {\n\t\t\tonChange( stateValue );\n\t\t\tsetIsDirty( false );\n\t\t}\n\t};\n\n\t// Ensure changes aren't lost when component unmounts.\n\tuseEffect( () => {\n\t\treturn () => {\n\t\t\tif ( valueRef.current ) {\n\t\t\t\tonChange( valueRef.current );\n\t\t\t}\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<>\n\t\t\t<VisuallyHidden\n\t\t\t\tas=\"label\"\n\t\t\t\thtmlFor={ `code-editor-text-area-${ instanceId }` }\n\t\t\t>\n\t\t\t\t{ __( 'Type text or HTML' ) }\n\t\t\t</VisuallyHidden>\n\t\t\t<Textarea\n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\tvalue={ stateValue }\n\t\t\t\tonChange={ onChangeHandler }\n\t\t\t\tonBlur={ stopEditing }\n\t\t\t\tclassName=\"edit-site-code-editor-text-area\"\n\t\t\t\tid={ `code-editor-text-area-${ instanceId }` }\n\t\t\t\tplaceholder={ __( 'Start writing with text or HTML' ) }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { parse, __unstableSerializeAndClean } from '@wordpress/blocks';\nimport { useEntityBlockEditor, useEntityProp } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport CodeEditorTextArea from './code-editor-text-area';\n\nexport default function CodeEditor() {\n\tconst { templateType, shortcut } = useSelect( ( select ) => {\n\t\tconst { getEditedPostType } = select( editSiteStore );\n\t\tconst { getShortcutRepresentation } = select( keyboardShortcutsStore );\n\t\treturn {\n\t\t\ttemplateType: getEditedPostType(),\n\t\t\tshortcut: getShortcutRepresentation( 'core/edit-site/toggle-mode' ),\n\t\t};\n\t}, [] );\n\tconst [ contentStructure, setContent ] = useEntityProp(\n\t\t'postType',\n\t\ttemplateType,\n\t\t'content'\n\t);\n\tconst [ blocks, , onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\ttemplateType\n\t);\n\n\t// Replicates the logic found in getEditedPostContent().\n\tlet content;\n\tif ( contentStructure instanceof Function ) {\n\t\tcontent = contentStructure( { blocks } );\n\t} else if ( blocks ) {\n\t\t// If we have parsed blocks already, they should be our source of truth.\n\t\t// Parsing applies block deprecations and legacy block conversions that\n\t\t// unparsed content will not have.\n\t\tcontent = __unstableSerializeAndClean( blocks );\n\t} else {\n\t\tcontent = contentStructure;\n\t}\n\n\tconst { switchEditorMode } = useDispatch( editSiteStore );\n\treturn (\n\t\t<div className=\"edit-site-code-editor\">\n\t\t\t<div className=\"edit-site-code-editor__toolbar\">\n\t\t\t\t<h2>{ __( 'Editing code' ) }</h2>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tonClick={ () => switchEditorMode( 'visual' ) }\n\t\t\t\t\tshortcut={ shortcut }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Exit code editor' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t<div className=\"edit-site-code-editor__body\">\n\t\t\t\t<CodeEditorTextArea\n\t\t\t\t\tvalue={ content }\n\t\t\t\t\tonChange={ ( newContent ) => {\n\t\t\t\t\t\tonChange( parse( newContent ), {\n\t\t\t\t\t\t\tselection: undefined,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tonInput={ setContent }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport { SIDEBAR_BLOCK } from '../sidebar-edit-mode/constants';\nimport { STORE_NAME } from '../../store/constants';\n\nfunction KeyboardShortcuts() {\n\tconst { __experimentalGetDirtyEntityRecords, isSavingEntityRecord } =\n\t\tuseSelect( coreStore );\n\tconst { getEditorMode } = useSelect( editSiteStore );\n\tconst isListViewOpen = useSelect(\n\t\t( select ) => select( editSiteStore ).isListViewOpened(),\n\t\t[]\n\t);\n\tconst isBlockInspectorOpen = useSelect(\n\t\t( select ) =>\n\t\t\tselect( interfaceStore ).getActiveComplementaryArea(\n\t\t\t\teditSiteStore.name\n\t\t\t) === SIDEBAR_BLOCK,\n\t\t[]\n\t);\n\tconst { redo, undo } = useDispatch( coreStore );\n\tconst { setIsListViewOpened, switchEditorMode } =\n\t\tuseDispatch( editSiteStore );\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\tconst { setIsSaveViewOpened } = useDispatch( editSiteStore );\n\n\tuseShortcut( 'core/edit-site/save', ( event ) => {\n\t\tevent.preventDefault();\n\n\t\tconst dirtyEntityRecords = __experimentalGetDirtyEntityRecords();\n\t\tconst isDirty = !! dirtyEntityRecords.length;\n\t\tconst isSaving = dirtyEntityRecords.some( ( record ) =>\n\t\t\tisSavingEntityRecord( record.kind, record.name, record.key )\n\t\t);\n\n\t\tif ( ! isSaving && isDirty ) {\n\t\t\tsetIsSaveViewOpened( true );\n\t\t}\n\t} );\n\n\tuseShortcut( 'core/edit-site/undo', ( event ) => {\n\t\tundo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/edit-site/redo', ( event ) => {\n\t\tredo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/edit-site/toggle-list-view', () => {\n\t\tsetIsListViewOpened( ! isListViewOpen );\n\t} );\n\n\tuseShortcut( 'core/edit-site/toggle-block-settings-sidebar', ( event ) => {\n\t\t// This shortcut has no known clashes, but use preventDefault to prevent any\n\t\t// obscure shortcuts from triggering.\n\t\tevent.preventDefault();\n\n\t\tif ( isBlockInspectorOpen ) {\n\t\t\tdisableComplementaryArea( STORE_NAME );\n\t\t} else {\n\t\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_BLOCK );\n\t\t}\n\t} );\n\n\tuseShortcut( 'core/edit-site/toggle-mode', () => {\n\t\tswitchEditorMode( getEditorMode() === 'visual' ? 'text' : 'visual' );\n\t} );\n\n\treturn null;\n}\n\nfunction KeyboardShortcutsRegister() {\n\t// Registering the shortcuts.\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/save',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Save your changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 's',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/undo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Undo your last changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/redo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Redo your last undo.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/toggle-list-view',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Open the block list view.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'o',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/toggle-block-settings-sidebar',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Show or hide the block settings sidebar.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: ',',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/keyboard-shortcuts',\n\t\t\tcategory: 'main',\n\t\t\tdescription: __( 'Display these keyboard shortcuts.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'h',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/next-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the next part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrl',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'n',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/previous-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the previous part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'p',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\t\tcharacter: '~',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/toggle-mode',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Switch between visual editor and code editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'secondary',\n\t\t\t\tcharacter: 'm',\n\t\t\t},\n\t\t} );\n\t}, [ registerShortcut ] );\n\n\treturn null;\n}\n\nKeyboardShortcuts.Register = KeyboardShortcutsRegister;\nexport default KeyboardShortcuts;\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { useLocation } from '../routes';\nimport { store as editSiteStore } from '../../store';\n\nexport default function URLQueryController() {\n\tconst { setTemplate, setTemplatePart, setPage } =\n\t\tuseDispatch( editSiteStore );\n\tconst {\n\t\tparams: { postId, postType },\n\t} = useLocation();\n\n\t// Set correct entity on page navigation.\n\tuseEffect( () => {\n\t\tif ( 'page' === postType || 'post' === postType ) {\n\t\t\tsetPage( { context: { postType, postId } } ); // Resolves correct template based on ID.\n\t\t} else if ( 'wp_template' === postType ) {\n\t\t\tsetTemplate( postId );\n\t\t} else if ( 'wp_template_part' === postType ) {\n\t\t\tsetTemplatePart( postId );\n\t\t}\n\t}, [ postId, postType ] );\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst close = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z\" />\n\t</SVG>\n);\n\nexport default close;\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Button, VisuallyHidden } from '@wordpress/components';\nimport { __experimentalLibrary as Library } from '@wordpress/block-editor';\nimport { close } from '@wordpress/icons';\nimport {\n\tuseViewportMatch,\n\t__experimentalUseDialog as useDialog,\n} from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nexport default function InserterSidebar() {\n\tconst { setIsInserterOpened } = useDispatch( editSiteStore );\n\tconst insertionPoint = useSelect(\n\t\t( select ) => select( editSiteStore ).__experimentalGetInsertionPoint(),\n\t\t[]\n\t);\n\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\tconst TagName = ! isMobile ? VisuallyHidden : 'div';\n\tconst [ inserterDialogRef, inserterDialogProps ] = useDialog( {\n\t\tonClose: () => setIsInserterOpened( false ),\n\t\tfocusOnMount: null,\n\t} );\n\n\tconst libraryRef = useRef();\n\tuseEffect( () => {\n\t\tlibraryRef.current.focusSearch();\n\t}, [] );\n\n\treturn (\n\t\t<div\n\t\t\tref={ inserterDialogRef }\n\t\t\t{ ...inserterDialogProps }\n\t\t\tclassName=\"edit-site-editor__inserter-panel\"\n\t\t>\n\t\t\t<TagName className=\"edit-site-editor__inserter-panel-header\">\n\t\t\t\t<Button\n\t\t\t\t\ticon={ close }\n\t\t\t\t\tlabel={ __( 'Close block inserter' ) }\n\t\t\t\t\tonClick={ () => setIsInserterOpened( false ) }\n\t\t\t\t/>\n\t\t\t</TagName>\n\t\t\t<div className=\"edit-site-editor__inserter-panel-content\">\n\t\t\t\t<Library\n\t\t\t\t\tshowInserterHelpPanel\n\t\t\t\t\tshouldFocusBlock={ isMobile }\n\t\t\t\t\trootClientId={ insertionPoint.rootClientId }\n\t\t\t\t\t__experimentalInsertionIndex={\n\t\t\t\t\t\tinsertionPoint.insertionIndex\n\t\t\t\t\t}\n\t\t\t\t\t__experimentalFilterValue={ insertionPoint.filterValue }\n\t\t\t\t\tref={ libraryRef }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalListView as ListView } from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\nimport {\n\tuseFocusOnMount,\n\tuseFocusReturn,\n\tuseInstanceId,\n\tuseMergeRefs,\n} from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { closeSmall } from '@wordpress/icons';\nimport { ESCAPE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nexport default function ListViewSidebar() {\n\tconst { setIsListViewOpened } = useDispatch( editSiteStore );\n\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\n\tconst headerFocusReturnRef = useFocusReturn();\n\tconst contentFocusReturnRef = useFocusReturn();\n\tfunction closeOnEscape( event ) {\n\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\tsetIsListViewOpened( false );\n\t\t}\n\t}\n\n\tconst instanceId = useInstanceId( ListViewSidebar );\n\tconst labelId = `edit-site-editor__list-view-panel-label-${ instanceId }`;\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div\n\t\t\taria-labelledby={ labelId }\n\t\t\tclassName=\"edit-site-editor__list-view-panel\"\n\t\t\tonKeyDown={ closeOnEscape }\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"edit-site-editor__list-view-panel-header\"\n\t\t\t\tref={ headerFocusReturnRef }\n\t\t\t>\n\t\t\t\t<strong id={ labelId }>{ __( 'List View' ) }</strong>\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Close List View Sidebar' ) }\n\t\t\t\t\tonClick={ () => setIsListViewOpened( false ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"edit-site-editor__list-view-panel-content\"\n\t\t\t\tref={ useMergeRefs( [\n\t\t\t\t\tcontentFocusReturnRef,\n\t\t\t\t\tfocusOnMountRef,\n\t\t\t\t] ) }\n\t\t\t>\n\t\t\t\t<ListView />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { Warning } from '@wordpress/block-editor';\nimport { useCopyToClipboard } from '@wordpress/compose';\n\nfunction CopyButton( { text, children } ) {\n\tconst ref = useCopyToClipboard( text );\n\treturn (\n\t\t<Button variant=\"secondary\" ref={ ref }>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nexport default function ErrorBoundaryWarning( {\n\tmessage,\n\terror,\n\treboot,\n\tdashboardLink,\n} ) {\n\tconst actions = [];\n\n\tif ( reboot ) {\n\t\tactions.push(\n\t\t\t<Button key=\"recovery\" onClick={ reboot } variant=\"secondary\">\n\t\t\t\t{ __( 'Attempt Recovery' ) }\n\t\t\t</Button>\n\t\t);\n\t}\n\n\tif ( error ) {\n\t\tactions.push(\n\t\t\t<CopyButton key=\"copy-error\" text={ error.stack }>\n\t\t\t\t{ __( 'Copy Error' ) }\n\t\t\t</CopyButton>\n\t\t);\n\t}\n\n\tif ( dashboardLink ) {\n\t\tactions.push(\n\t\t\t<Button\n\t\t\t\tkey=\"back-to-dashboard\"\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\thref={ dashboardLink }\n\t\t\t>\n\t\t\t\t{ __( 'Back to dashboard' ) }\n\t\t\t</Button>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Warning className=\"editor-error-boundary\" actions={ actions }>\n\t\t\t{ message }\n\t\t</Warning>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { doAction } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport ErrorBoundaryWarning from './warning';\n\nexport default class ErrorBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.reboot = this.reboot.bind( this );\n\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tdoAction( 'editor.ErrorBoundary.errorLogged', error );\n\t}\n\n\tstatic getDerivedStateFromError( error ) {\n\t\treturn { error };\n\t}\n\n\treboot() {\n\t\tthis.props.onError();\n\t}\n\n\trender() {\n\t\tconst { error } = this.state;\n\t\tif ( ! error ) {\n\t\t\treturn this.props.children;\n\t\t}\n\n\t\treturn (\n\t\t\t<ErrorBoundaryWarning\n\t\t\t\tmessage={ __(\n\t\t\t\t\t'The editor has encountered an unexpected error.'\n\t\t\t\t) }\n\t\t\t\terror={ error }\n\t\t\t\treboot={ this.reboot }\n\t\t\t/>\n\t\t);\n\t}\n}\n","export default function WelcomeGuideImage( { nonAnimatedSrc, animatedSrc } ) {\n\treturn (\n\t\t<picture className=\"edit-site-welcome-guide__image\">\n\t\t\t<source\n\t\t\t\tsrcSet={ nonAnimatedSrc }\n\t\t\t\tmedia=\"(prefers-reduced-motion: reduce)\"\n\t\t\t/>\n\t\t\t<img src={ animatedSrc } width=\"312\" height=\"240\" alt=\"\" />\n\t\t</picture>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { Guide } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { createInterpolateElement } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport WelcomeGuideImage from './image';\n\nexport default function WelcomeGuideEditor() {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\tconst isActive = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( preferencesStore ).get(\n\t\t\t\t'core/edit-site',\n\t\t\t\t'welcomeGuide'\n\t\t\t),\n\t\t[]\n\t);\n\n\tif ( ! isActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Guide\n\t\t\tclassName=\"edit-site-welcome-guide\"\n\t\t\tcontentLabel={ __( 'Welcome to the site editor' ) }\n\t\t\tfinishButtonText={ __( 'Get Started' ) }\n\t\t\tonFinish={ () => toggle( 'core/edit-site', 'welcomeGuide' ) }\n\t\t\tpages={ [\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/edit-your-site.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/edit-your-site.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Edit your site' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Design everything on your site  from the header right down to the footer  using blocks.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'Click <StylesIconImage /> to start designing your blocks, and choose your typography, layout, and colors.'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tStylesIconImage: (\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\talt={ __( 'styles' ) }\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z' fill='%231E1E1E'/%3E%3C/svg%3E%0A\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { ExternalLink, Guide } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport WelcomeGuideImage from './image';\nimport { store as editSiteStore } from '../../store';\n\nexport default function WelcomeGuideStyles() {\n\tconst { toggle } = useDispatch( preferencesStore );\n\n\tconst { isActive, isStylesOpen } = useSelect( ( select ) => {\n\t\tconst sidebar = select( interfaceStore ).getActiveComplementaryArea(\n\t\t\teditSiteStore.name\n\t\t);\n\n\t\treturn {\n\t\t\tisActive: !! select( preferencesStore ).get(\n\t\t\t\t'core/edit-site',\n\t\t\t\t'welcomeGuideStyles'\n\t\t\t),\n\t\t\tisStylesOpen: sidebar === 'edit-site/global-styles',\n\t\t};\n\t}, [] );\n\n\tif ( ! isActive || ! isStylesOpen ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Guide\n\t\t\tclassName=\"edit-site-welcome-guide\"\n\t\t\tcontentLabel={ __( 'Welcome to styles' ) }\n\t\t\tfinishButtonText={ __( 'Get Started' ) }\n\t\t\tonFinish={ () => toggle( 'core/edit-site', 'welcomeGuideStyles' ) }\n\t\t\tpages={ [\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/welcome-to-styles.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/welcome-to-styles.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Welcome to Styles' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Tweak your site, or give it a whole new look! Get creative  how about a new color palette for your buttons, or choosing a new font? Take a look at what you can do here.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/set-the-design.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/set-the-design.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Set the design' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'You can customize your site as much as you like with different colors, typography, and layouts. Or if you prefer, just leave it up to your theme to handle! '\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/personalize-blocks.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/personalize-blocks.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Personalize blocks' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'You can adjust your blocks to ensure a cohesive experience across your site  add your unique colors to a branded Button block, or adjust the Heading block to your preferred size.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/welcome-documentation.svg\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/welcome-documentation.gif\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Learn more' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'New to block themes and styling your site? '\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/support/article/styles-overview/'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'Heres a detailed guide to learn how to make the most of it.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t/>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport WelcomeGuideEditor from './editor';\nimport WelcomeGuideStyles from './styles';\n\nexport default function WelcomeGuide() {\n\treturn (\n\t\t<>\n\t\t\t<WelcomeGuideEditor />\n\t\t\t<WelcomeGuideStyles />\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\n/**\n * Internal dependencies\n */\nimport { useGlobalStylesOutput } from '../global-styles/use-global-styles-output';\n\nfunction useGlobalStylesRenderer() {\n\tconst [ styles, settings, svgFilters ] = useGlobalStylesOutput();\n\tconst { getSettings } = useSelect( editSiteStore );\n\tconst { updateSettings } = useDispatch( editSiteStore );\n\n\tuseEffect( () => {\n\t\tif ( ! styles || ! settings ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentStoreSettings = getSettings();\n\t\tconst nonGlobalStyles = Object.values(\n\t\t\tcurrentStoreSettings.styles ?? []\n\t\t).filter( ( style ) => ! style.isGlobalStyles );\n\t\tupdateSettings( {\n\t\t\t...currentStoreSettings,\n\t\t\tstyles: [ ...nonGlobalStyles, ...styles ],\n\t\t\tsvgFilters,\n\t\t\t__experimentalFeatures: settings,\n\t\t} );\n\t}, [ styles, settings ] );\n}\n\nexport function GlobalStylesRenderer() {\n\tuseGlobalStylesRenderer();\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useRef } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { speak } from '@wordpress/a11y';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { useLocation } from './index';\n\nexport default function useTitle( title ) {\n\tconst location = useLocation();\n\tconst siteTitle = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecord( 'root', 'site' )?.title,\n\t\t[]\n\t);\n\tconst isInitialLocationRef = useRef( true );\n\n\tuseEffect( () => {\n\t\tisInitialLocationRef.current = false;\n\t}, [ location ] );\n\n\tuseEffect( () => {\n\t\t// Don't update or announce the title for initial page load.\n\t\tif ( isInitialLocationRef.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( title && siteTitle ) {\n\t\t\t// @see https://github.com/WordPress/wordpress-develop/blob/94849898192d271d533e09756007e176feb80697/src/wp-admin/admin-header.php#L67-L68\n\t\t\tconst formattedTitle = sprintf(\n\t\t\t\t/* translators: Admin screen title. 1: Admin screen name, 2: Network or site name. */\n\t\t\t\t__( '%1$s  %2$s  WordPress' ),\n\t\t\t\tdecodeEntities( title ),\n\t\t\t\tdecodeEntities( siteTitle )\n\t\t\t);\n\n\t\t\tdocument.title = formattedTitle;\n\n\t\t\t// Announce title on route change for screen readers.\n\t\t\tspeak(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: The page title that is currently displaying. */\n\t\t\t\t\t__( 'Now displaying: %s' ),\n\t\t\t\t\tdocument.title\n\t\t\t\t),\n\t\t\t\t'assertive'\n\t\t\t);\n\t\t}\n\t}, [ title, siteTitle, location ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useMemo } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Popover, Button, Notice } from '@wordpress/components';\nimport { EntityProvider, store as coreStore } from '@wordpress/core-data';\nimport {\n\tBlockContextProvider,\n\tBlockBreadcrumb,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport {\n\tInterfaceSkeleton,\n\tComplementaryArea,\n\tstore as interfaceStore,\n} from '@wordpress/interface';\nimport {\n\tEditorNotices,\n\tEditorSnackbars,\n\tEntitiesSavedStates,\n} from '@wordpress/editor';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tShortcutProvider,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport Header from '../header-edit-mode';\nimport { SidebarComplementaryAreaFills } from '../sidebar-edit-mode';\nimport NavigationSidebar from '../navigation-sidebar';\nimport BlockEditor from '../block-editor';\nimport CodeEditor from '../code-editor';\nimport KeyboardShortcuts from '../keyboard-shortcuts';\nimport URLQueryController from '../url-query-controller';\nimport InserterSidebar from '../secondary-sidebar/inserter-sidebar';\nimport ListViewSidebar from '../secondary-sidebar/list-view-sidebar';\nimport ErrorBoundary from '../error-boundary';\nimport WelcomeGuide from '../welcome-guide';\nimport { store as editSiteStore } from '../../store';\nimport { GlobalStylesRenderer } from './global-styles-renderer';\nimport { GlobalStylesProvider } from '../global-styles/global-styles-provider';\nimport useTitle from '../routes/use-title';\n\nconst interfaceLabels = {\n\t/* translators: accessibility text for the editor top bar landmark region. */\n\theader: __( 'Editor top bar' ),\n\t/* translators: accessibility text for the editor content landmark region. */\n\tbody: __( 'Editor content' ),\n\t/* translators: accessibility text for the editor settings landmark region. */\n\tsidebar: __( 'Editor settings' ),\n\t/* translators: accessibility text for the editor publish landmark region. */\n\tactions: __( 'Editor publish' ),\n\t/* translators: accessibility text for the editor footer landmark region. */\n\tfooter: __( 'Editor footer' ),\n\t/* translators: accessibility text for the navigation sidebar landmark region. */\n\tdrawer: __( 'Navigation Sidebar' ),\n};\n\nfunction Editor( { onError } ) {\n\tconst {\n\t\tisInserterOpen,\n\t\tisListViewOpen,\n\t\tisSaveViewOpen,\n\t\tsidebarIsOpened,\n\t\tsettings,\n\t\tentityId,\n\t\ttemplateType,\n\t\tpage,\n\t\ttemplate,\n\t\ttemplateResolved,\n\t\tisNavigationOpen,\n\t\tpreviousShortcut,\n\t\tnextShortcut,\n\t\teditorMode,\n\t\tshowIconLabels,\n\t\tblockEditorMode,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tisInserterOpened,\n\t\t\tisListViewOpened,\n\t\t\tisSaveViewOpened,\n\t\t\tgetSettings,\n\t\t\tgetEditedPostType,\n\t\t\tgetEditedPostId,\n\t\t\tgetPage,\n\t\t\tisNavigationOpened,\n\t\t\tgetEditorMode,\n\t\t} = select( editSiteStore );\n\t\tconst { hasFinishedResolution, getEntityRecord } = select( coreStore );\n\t\tconst { __unstableGetEditorMode } = select( blockEditorStore );\n\t\tconst postType = getEditedPostType();\n\t\tconst postId = getEditedPostId();\n\n\t\t// The currently selected entity to display. Typically template or template part.\n\t\treturn {\n\t\t\tisInserterOpen: isInserterOpened(),\n\t\t\tisListViewOpen: isListViewOpened(),\n\t\t\tisSaveViewOpen: isSaveViewOpened(),\n\t\t\tsidebarIsOpened: !! select(\n\t\t\t\tinterfaceStore\n\t\t\t).getActiveComplementaryArea( editSiteStore.name ),\n\t\t\tsettings: getSettings(),\n\t\t\ttemplateType: postType,\n\t\t\tpage: getPage(),\n\t\t\ttemplate: postId\n\t\t\t\t? getEntityRecord( 'postType', postType, postId )\n\t\t\t\t: null,\n\t\t\ttemplateResolved: postId\n\t\t\t\t? hasFinishedResolution( 'getEntityRecord', [\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\tpostType,\n\t\t\t\t\t\tpostId,\n\t\t\t\t  ] )\n\t\t\t\t: false,\n\t\t\tentityId: postId,\n\t\t\tisNavigationOpen: isNavigationOpened(),\n\t\t\tpreviousShortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getAllShortcutKeyCombinations( 'core/edit-site/previous-region' ),\n\t\t\tnextShortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getAllShortcutKeyCombinations( 'core/edit-site/next-region' ),\n\t\t\teditorMode: getEditorMode(),\n\t\t\tshowIconLabels: select( preferencesStore ).get(\n\t\t\t\t'core/edit-site',\n\t\t\t\t'showIconLabels'\n\t\t\t),\n\t\t\tblockEditorMode: __unstableGetEditorMode(),\n\t\t};\n\t}, [] );\n\tconst { setPage, setIsInserterOpened, setIsSaveViewOpened } =\n\t\tuseDispatch( editSiteStore );\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\n\tconst blockContext = useMemo(\n\t\t() => ( {\n\t\t\t...page?.context,\n\t\t\tqueryContext: [\n\t\t\t\tpage?.context.queryContext || { page: 1 },\n\t\t\t\t( newQueryContext ) =>\n\t\t\t\t\tsetPage( {\n\t\t\t\t\t\t...page,\n\t\t\t\t\t\tcontext: {\n\t\t\t\t\t\t\t...page?.context,\n\t\t\t\t\t\t\tqueryContext: {\n\t\t\t\t\t\t\t\t...page?.context.queryContext,\n\t\t\t\t\t\t\t\t...newQueryContext,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t} ),\n\t\t\t],\n\t\t} ),\n\t\t[ page?.context ]\n\t);\n\n\tuseEffect( () => {\n\t\tif ( isNavigationOpen ) {\n\t\t\tdocument.body.classList.add( 'is-navigation-sidebar-open' );\n\t\t} else {\n\t\t\tdocument.body.classList.remove( 'is-navigation-sidebar-open' );\n\t\t}\n\t}, [ isNavigationOpen ] );\n\n\tuseEffect(\n\t\tfunction openGlobalStylesOnLoad() {\n\t\t\tconst searchParams = new URLSearchParams( window.location.search );\n\t\t\tif ( searchParams.get( 'styles' ) === 'open' ) {\n\t\t\t\tenableComplementaryArea(\n\t\t\t\t\t'core/edit-site',\n\t\t\t\t\t'edit-site/global-styles'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ enableComplementaryArea ]\n\t);\n\n\t// Don't render the Editor until the settings are set and loaded.\n\tconst isReady =\n\t\tsettings?.siteUrl &&\n\t\ttemplateType !== undefined &&\n\t\tentityId !== undefined;\n\n\tconst secondarySidebarLabel = isListViewOpen\n\t\t? __( 'List View' )\n\t\t: __( 'Block Library' );\n\n\tconst secondarySidebar = () => {\n\t\tif ( editorMode === 'visual' && isInserterOpen ) {\n\t\t\treturn <InserterSidebar />;\n\t\t}\n\t\tif ( editorMode === 'visual' && isListViewOpen ) {\n\t\t\treturn <ListViewSidebar />;\n\t\t}\n\t\treturn null;\n\t};\n\n\t// Only announce the title once the editor is ready to prevent \"Replace\"\n\t// action in <URlQueryController> from double-announcing.\n\tuseTitle( isReady && __( 'Editor (beta)' ) );\n\n\treturn (\n\t\t<>\n\t\t\t<URLQueryController />\n\t\t\t{ isReady && (\n\t\t\t\t<ShortcutProvider>\n\t\t\t\t\t<EntityProvider kind=\"root\" type=\"site\">\n\t\t\t\t\t\t<EntityProvider\n\t\t\t\t\t\t\tkind=\"postType\"\n\t\t\t\t\t\t\ttype={ templateType }\n\t\t\t\t\t\t\tid={ entityId }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<GlobalStylesProvider>\n\t\t\t\t\t\t\t\t<BlockContextProvider value={ blockContext }>\n\t\t\t\t\t\t\t\t\t<GlobalStylesRenderer />\n\t\t\t\t\t\t\t\t\t<ErrorBoundary onError={ onError }>\n\t\t\t\t\t\t\t\t\t\t<KeyboardShortcuts.Register />\n\t\t\t\t\t\t\t\t\t\t<SidebarComplementaryAreaFills />\n\t\t\t\t\t\t\t\t\t\t<InterfaceSkeleton\n\t\t\t\t\t\t\t\t\t\t\tlabels={ {\n\t\t\t\t\t\t\t\t\t\t\t\t...interfaceLabels,\n\t\t\t\t\t\t\t\t\t\t\t\tsecondarySidebar:\n\t\t\t\t\t\t\t\t\t\t\t\t\tsecondarySidebarLabel,\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\tshowIconLabels &&\n\t\t\t\t\t\t\t\t\t\t\t\t'show-icon-labels'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsecondarySidebar={ secondarySidebar() }\n\t\t\t\t\t\t\t\t\t\t\tsidebar={\n\t\t\t\t\t\t\t\t\t\t\t\tsidebarIsOpened && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ComplementaryArea.Slot scope=\"core/edit-site\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdrawer={\n\t\t\t\t\t\t\t\t\t\t\t\t<NavigationSidebar.Slot />\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\theader={\n\t\t\t\t\t\t\t\t\t\t\t\t<Header\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowIconLabels={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowIconLabels\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tnotices={ <EditorSnackbars /> }\n\t\t\t\t\t\t\t\t\t\t\tcontent={\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<EditorNotices />\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ editorMode === 'visual' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplate && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<BlockEditor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsInserterOpen={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsInserterOpened\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ editorMode === 'text' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplate && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CodeEditor />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ templateResolved &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t! template &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsettings?.siteUrl &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tentityId && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus=\"warning\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDismissible={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"You attempted to edit an item that doesn't exist. Perhaps it was deleted?\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t<KeyboardShortcuts />\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tactions={\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ isSaveViewOpen ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EntitiesSavedStates\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclose={ () =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsSaveViewOpened(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"edit-site-editor__toggle-save-panel\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"edit-site-editor__toggle-save-panel-button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsSaveViewOpened(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-expanded={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Open save panel'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tfooter={\n\t\t\t\t\t\t\t\t\t\t\t\tblockEditorMode !==\n\t\t\t\t\t\t\t\t\t\t\t\t'zoom-out' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<BlockBreadcrumb\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trootLabelText={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Template'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t) : undefined\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tshortcuts={ {\n\t\t\t\t\t\t\t\t\t\t\t\tprevious: previousShortcut,\n\t\t\t\t\t\t\t\t\t\t\t\tnext: nextShortcut,\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<WelcomeGuide />\n\t\t\t\t\t\t\t\t\t\t<Popover.Slot />\n\t\t\t\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t\t\t</BlockContextProvider>\n\t\t\t\t\t\t\t</GlobalStylesProvider>\n\t\t\t\t\t\t</EntityProvider>\n\t\t\t\t\t</EntityProvider>\n\t\t\t\t</ShortcutProvider>\n\t\t\t) }\n\t\t</>\n\t);\n}\nexport default Editor;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst post = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"m7.3 9.7 1.4 1.4c.2-.2.3-.3.4-.5 0 0 0-.1.1-.1.3-.5.4-1.1.3-1.6L12 7 9 4 7.2 6.5c-.6-.1-1.1 0-1.6.3 0 0-.1 0-.1.1-.3.1-.4.2-.6.4l1.4 1.4L4 11v1h1l2.3-2.3zM4 20h9v-1.5H4V20zm0-5.5V16h16v-1.5H4z\" />\n\t</SVG>\n);\n\nexport default post;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst page = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z\" />\n\t</SVG>\n);\n\nexport default page;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst archive = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M19 6.2h-5.9l-.6-1.1c-.3-.7-1-1.1-1.8-1.1H5c-1.1 0-2 .9-2 2v11.8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8.2c0-1.1-.9-2-2-2zm.5 11.6c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h5.8c.2 0 .4.1.4.3l1 2H19c.3 0 .5.2.5.5v9.5zM8 12.8h8v-1.5H8v1.5zm0 3h8v-1.5H8v1.5z\" />\n\t</SVG>\n);\n\nexport default archive;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst search = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z\" />\n\t</SVG>\n);\n\nexport default search;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst notFound = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm.5 12c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v10zm-11-7.6h-.7l-3.1 4.3h2.8V15h1v-1.3h.7v-.8h-.7V9.4zm-.9 3.5H6.3l1.2-1.7v1.7zm5.6-3.2c-.4-.2-.8-.4-1.2-.4-.5 0-.9.1-1.2.4-.4.2-.6.6-.8 1-.2.4-.3.9-.3 1.5s.1 1.1.3 1.6c.2.4.5.8.8 1 .4.2.8.4 1.2.4.5 0 .9-.1 1.2-.4.4-.2.6-.6.8-1 .2-.4.3-1 .3-1.6 0-.6-.1-1.1-.3-1.5-.1-.5-.4-.8-.8-1zm0 3.6c-.1.3-.3.5-.5.7-.2.1-.4.2-.7.2-.3 0-.5-.1-.7-.2-.2-.1-.4-.4-.5-.7-.1-.3-.2-.7-.2-1.2 0-.7.1-1.2.4-1.5.3-.3.6-.5 1-.5s.7.2 1 .5c.3.3.4.8.4 1.5-.1.5-.1.9-.2 1.2zm5-3.9h-.7l-3.1 4.3h2.8V15h1v-1.3h.7v-.8h-.7V9.4zm-1 3.5H16l1.2-1.7v1.7z\" />\n\t</SVG>\n);\n\nexport default notFound;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst list = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M4 4v1.5h16V4H4zm8 8.5h8V11h-8v1.5zM4 20h16v-1.5H4V20zm4-8c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2z\" />\n\t</SVG>\n);\n\nexport default list;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst category = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path\n\t\t\td=\"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default category;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst postAuthor = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path\n\t\t\td=\"M10 4.5a1 1 0 11-2 0 1 1 0 012 0zm1.5 0a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm2.25 7.5v-1A2.75 2.75 0 0011 8.25H7A2.75 2.75 0 004.25 11v1h1.5v-1c0-.69.56-1.25 1.25-1.25h4c.69 0 1.25.56 1.25 1.25v1h1.5zM4 20h9v-1.5H4V20zm16-4H4v-1.5h16V16z\"\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default postAuthor;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst blockMeta = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M8.95 11.25H4v1.5h4.95v4.5H13V18c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-3c-1.1 0-2 .9-2 2v.75h-2.55v-7.5H13V9c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3c-1.1 0-2 .9-2 2v.75H8.95v4.5ZM14.5 15v3c0 .3.2.5.5.5h3c.3 0 .5-.2.5-.5v-3c0-.3-.2-.5-.5-.5h-3c-.3 0-.5.2-.5.5Zm0-6V6c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3c0 .3-.2.5-.5.5h-3c-.3 0-.5-.2-.5-.5Z\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default blockMeta;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst postDate = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.696 13.972c.356-.546.599-.958.728-1.235a1.79 1.79 0 00.203-.783c0-.264-.077-.47-.23-.618-.148-.153-.354-.23-.618-.23-.295 0-.569.07-.82.212a3.413 3.413 0 00-.738.571l-.147-1.188c.289-.234.59-.41.903-.526.313-.117.66-.175 1.041-.175.375 0 .695.08.959.24.264.153.46.362.59.626.135.265.203.556.203.876 0 .362-.08.734-.24 1.115-.154.381-.427.87-.82 1.466l-.756 1.152H14v1.106h-4l1.696-2.609z\" />\n\t\t<Path d=\"M19.5 7h-15v12a.5.5 0 00.5.5h14a.5.5 0 00.5-.5V7zM3 7V5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V7z\" />\n\t</SVG>\n);\n\nexport default postDate;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst tag = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20.1 11.2l-6.7-6.7c-.1-.1-.3-.2-.5-.2H5c-.4-.1-.8.3-.8.7v7.8c0 .2.1.4.2.5l6.7 6.7c.2.2.5.4.7.5s.6.2.9.2c.3 0 .6-.1.9-.2.3-.1.5-.3.8-.5l5.6-5.6c.4-.4.7-1 .7-1.6.1-.6-.2-1.2-.6-1.6zM19 13.4L13.4 19c-.1.1-.2.1-.3.2-.2.1-.4.1-.6 0-.1 0-.2-.1-.3-.2l-6.5-6.5V5.8h6.8l6.5 6.5c.2.2.2.4.2.6 0 .1 0 .3-.2.5zM9 8c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z\" />\n\t</SVG>\n);\n\nexport default tag;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst media = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z\" />\n\t</SVG>\n);\n\nexport default media;\n","/**\n * WordPress dependencies\n */\nimport { Spinner, Modal } from '@wordpress/components';\n\nexport default function TemplateActionsLoadingScreen() {\n\tconst baseCssClass = 'edit-site-template-actions-loading-screen-modal';\n\treturn (\n\t\t<Modal\n\t\t\tisFullScreen\n\t\t\tisDismissible={ false }\n\t\t\tshouldCloseOnClickOutside={ false }\n\t\t\tshouldCloseOnEsc={ false }\n\t\t\tonRequestClose={ () => {} }\n\t\t\t__experimentalHideHeader\n\t\t\tclassName={ baseCssClass }\n\t\t>\n\t\t\t<div className={ `${ baseCssClass }__content` }>\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { blockMeta, post, archive } from '@wordpress/icons';\n\n/**\n * @typedef IHasNameAndId\n * @property {string|number} id   The entity's id.\n * @property {string}        name The entity's name.\n */\n\n/**\n * Helper util to map records to add a `name` prop from a\n * provided path, in order to handle all entities in the same\n * fashion(implementing`IHasNameAndId` interface).\n *\n * @param {Object[]} entities The array of entities.\n * @param {string}   path     The path to map a `name` property from the entity.\n * @return {IHasNameAndId[]} An array of enitities that now implement the `IHasNameAndId` interface.\n */\nexport const mapToIHasNameAndId = ( entities, path ) => {\n\treturn ( entities || [] ).map( ( entity ) => ( {\n\t\t...entity,\n\t\tname: decodeEntities( get( entity, path ) ),\n\t} ) );\n};\n\n/**\n * @typedef {Object} EntitiesInfo\n * @property {boolean}  hasEntities         If an entity has available records(posts, terms, etc..).\n * @property {number[]} existingEntitiesIds An array of the existing entities ids.\n */\n\nexport const useExistingTemplates = () => {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecords( 'postType', 'wp_template', {\n\t\t\t\tper_page: -1,\n\t\t\t} ),\n\t\t[]\n\t);\n};\n\nexport const useDefaultTemplateTypes = () => {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).__experimentalGetDefaultTemplateTypes(),\n\t\t[]\n\t);\n};\n\nconst usePublicPostTypes = () => {\n\tconst postTypes = useSelect(\n\t\t( select ) => select( coreStore ).getPostTypes( { per_page: -1 } ),\n\t\t[]\n\t);\n\treturn useMemo( () => {\n\t\tconst excludedPostTypes = [ 'attachment' ];\n\t\treturn postTypes?.filter(\n\t\t\t( { viewable, slug } ) =>\n\t\t\t\tviewable && ! excludedPostTypes.includes( slug )\n\t\t);\n\t}, [ postTypes ] );\n};\n\nconst usePublicTaxonomies = () => {\n\tconst taxonomies = useSelect(\n\t\t( select ) => select( coreStore ).getTaxonomies( { per_page: -1 } ),\n\t\t[]\n\t);\n\treturn useMemo( () => {\n\t\treturn taxonomies?.filter(\n\t\t\t( { visibility } ) => visibility?.publicly_queryable\n\t\t);\n\t}, [ taxonomies ] );\n};\n\nfunction usePostTypeNeedsUniqueIdentifier( publicPostTypes ) {\n\tconst postTypeLabels = useMemo( () =>\n\t\tpublicPostTypes?.reduce( ( accumulator, { labels } ) => {\n\t\t\tconst singularName = labels.singular_name.toLowerCase();\n\t\t\taccumulator[ singularName ] =\n\t\t\t\t( accumulator[ singularName ] || 0 ) + 1;\n\t\t\treturn accumulator;\n\t\t}, {} )\n\t);\n\treturn useCallback(\n\t\t( { labels, slug } ) => {\n\t\t\tconst singularName = labels.singular_name.toLowerCase();\n\t\t\treturn postTypeLabels[ singularName ] > 1 && singularName !== slug;\n\t\t},\n\t\t[ postTypeLabels ]\n\t);\n}\n\nexport function usePostTypeArchiveMenuItems() {\n\tconst publicPostTypes = usePublicPostTypes();\n\tconst postTypesWithArchives = useMemo(\n\t\t() => publicPostTypes?.filter( ( postType ) => postType.has_archive ),\n\t\t[ publicPostTypes ]\n\t);\n\tconst existingTemplates = useExistingTemplates();\n\tconst needsUniqueIdentifier = usePostTypeNeedsUniqueIdentifier(\n\t\tpostTypesWithArchives\n\t);\n\treturn useMemo(\n\t\t() =>\n\t\t\tpostTypesWithArchives\n\t\t\t\t?.filter(\n\t\t\t\t\t( postType ) =>\n\t\t\t\t\t\t! ( existingTemplates || [] ).some(\n\t\t\t\t\t\t\t( existingTemplate ) =>\n\t\t\t\t\t\t\t\texistingTemplate.slug ===\n\t\t\t\t\t\t\t\t'archive-' + postType.slug\n\t\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.map( ( postType ) => {\n\t\t\t\t\tlet title;\n\t\t\t\t\tif ( needsUniqueIdentifier( postType ) ) {\n\t\t\t\t\t\ttitle = sprintf(\n\t\t\t\t\t\t\t// translators: %1s: Name of the post type e.g: \"Post\"; %2s: Slug of the post type e.g: \"book\".\n\t\t\t\t\t\t\t__( 'Archive: %1$s (%2$s)' ),\n\t\t\t\t\t\t\tpostType.labels.singular_name,\n\t\t\t\t\t\t\tpostType.slug\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttitle = sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t\t\t__( 'Archive: %s' ),\n\t\t\t\t\t\t\tpostType.labels.singular_name\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tslug: 'archive-' + postType.slug,\n\t\t\t\t\t\tdescription: sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Displays an archive with the latests posts of type: %s.'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tpostType.labels.singular_name\n\t\t\t\t\t\t),\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t// `icon` is the `menu_icon` property of a post type. We\n\t\t\t\t\t\t// only handle `dashicons` for now, even if the `menu_icon`\n\t\t\t\t\t\t// also supports urls and svg as values.\n\t\t\t\t\t\ticon: postType.icon?.startsWith( 'dashicons-' )\n\t\t\t\t\t\t\t? postType.icon.slice( 10 )\n\t\t\t\t\t\t\t: archive,\n\t\t\t\t\t\ttemplatePrefix: 'archive',\n\t\t\t\t\t};\n\t\t\t\t} ) || [],\n\t\t[ postTypesWithArchives, existingTemplates, needsUniqueIdentifier ]\n\t);\n}\n\nexport const usePostTypeMenuItems = ( onClickMenuItem ) => {\n\tconst publicPostTypes = usePublicPostTypes();\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\tconst needsUniqueIdentifier =\n\t\tusePostTypeNeedsUniqueIdentifier( publicPostTypes );\n\t// `page`is a special case in template hierarchy.\n\tconst templatePrefixes = useMemo(\n\t\t() =>\n\t\t\tpublicPostTypes?.reduce( ( accumulator, { slug } ) => {\n\t\t\t\tlet suffix = slug;\n\t\t\t\tif ( slug !== 'page' ) {\n\t\t\t\t\tsuffix = `single-${ suffix }`;\n\t\t\t\t}\n\t\t\t\taccumulator[ slug ] = suffix;\n\t\t\t\treturn accumulator;\n\t\t\t}, {} ),\n\t\t[ publicPostTypes ]\n\t);\n\tconst postTypesInfo = useEntitiesInfo( 'postType', templatePrefixes );\n\tconst existingTemplateSlugs = ( existingTemplates || [] ).map(\n\t\t( { slug } ) => slug\n\t);\n\tconst menuItems = ( publicPostTypes || [] ).reduce(\n\t\t( accumulator, postType ) => {\n\t\t\tconst { slug, labels, icon } = postType;\n\t\t\t// We need to check if the general template is part of the\n\t\t\t// defaultTemplateTypes. If it is, just use that info and\n\t\t\t// augment it with the specific template functionality.\n\t\t\tconst generalTemplateSlug = templatePrefixes[ slug ];\n\t\t\tconst defaultTemplateType = defaultTemplateTypes?.find(\n\t\t\t\t( { slug: _slug } ) => _slug === generalTemplateSlug\n\t\t\t);\n\t\t\tconst hasGeneralTemplate =\n\t\t\t\texistingTemplateSlugs?.includes( generalTemplateSlug );\n\t\t\tconst _needsUniqueIdentifier = needsUniqueIdentifier( postType );\n\t\t\tlet menuItemTitle = sprintf(\n\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t__( 'Single item: %s' ),\n\t\t\t\tlabels.singular_name\n\t\t\t);\n\t\t\tif ( _needsUniqueIdentifier ) {\n\t\t\t\tmenuItemTitle = sprintf(\n\t\t\t\t\t// translators: %1s: Name of the post type e.g: \"Post\"; %2s: Slug of the post type e.g: \"book\".\n\t\t\t\t\t__( 'Single item: %1$s (%2$s)' ),\n\t\t\t\t\tlabels.singular_name,\n\t\t\t\t\tslug\n\t\t\t\t);\n\t\t\t}\n\t\t\tconst menuItem = defaultTemplateType\n\t\t\t\t? {\n\t\t\t\t\t\t...defaultTemplateType,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tslug: generalTemplateSlug,\n\t\t\t\t\t\ttitle: menuItemTitle,\n\t\t\t\t\t\tdescription: sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t\t\t\t__( 'Displays a single item: %s.' ),\n\t\t\t\t\t\t\tlabels.singular_name\n\t\t\t\t\t\t),\n\t\t\t\t\t\t// `icon` is the `menu_icon` property of a post type. We\n\t\t\t\t\t\t// only handle `dashicons` for now, even if the `menu_icon`\n\t\t\t\t\t\t// also supports urls and svg as values.\n\t\t\t\t\t\ticon: icon?.startsWith( 'dashicons-' )\n\t\t\t\t\t\t\t? icon.slice( 10 )\n\t\t\t\t\t\t\t: post,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  };\n\t\t\tconst hasEntities = postTypesInfo?.[ slug ]?.hasEntities;\n\t\t\t// We have a different template creation flow only if they have entities.\n\t\t\tif ( hasEntities ) {\n\t\t\t\tmenuItem.onClick = ( template ) => {\n\t\t\t\t\tonClickMenuItem( {\n\t\t\t\t\t\ttype: 'postType',\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\trecordNamePath: 'title.rendered',\n\t\t\t\t\t\t\tqueryArgs: ( { search } ) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t_fields: 'id,title,slug,link',\n\t\t\t\t\t\t\t\t\torderBy: search ? 'relevance' : 'modified',\n\t\t\t\t\t\t\t\t\texclude:\n\t\t\t\t\t\t\t\t\t\tpostTypesInfo[ slug ]\n\t\t\t\t\t\t\t\t\t\t\t.existingEntitiesIds,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetSpecificTemplate: ( suggestion ) => {\n\t\t\t\t\t\t\t\tconst templateSlug = `${ templatePrefixes[ slug ] }-${ suggestion.slug }`;\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttitle: templateSlug,\n\t\t\t\t\t\t\t\t\tslug: templateSlug,\n\t\t\t\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabels,\n\t\t\t\t\t\thasGeneralTemplate,\n\t\t\t\t\t\ttemplate,\n\t\t\t\t\t} );\n\t\t\t\t};\n\t\t\t}\n\t\t\t// We don't need to add the menu item if there are no\n\t\t\t// entities and the general template exists.\n\t\t\tif ( ! hasGeneralTemplate || hasEntities ) {\n\t\t\t\taccumulator.push( menuItem );\n\t\t\t}\n\t\t\treturn accumulator;\n\t\t},\n\t\t[]\n\t);\n\t// Split menu items into two groups: one for the default post types\n\t// and one for the rest.\n\tconst postTypesMenuItems = useMemo(\n\t\t() =>\n\t\t\tmenuItems.reduce(\n\t\t\t\t( accumulator, postType ) => {\n\t\t\t\t\tconst { slug } = postType;\n\t\t\t\t\tlet key = 'postTypesMenuItems';\n\t\t\t\t\tif ( slug === 'page' ) {\n\t\t\t\t\t\tkey = 'defaultPostTypesMenuItems';\n\t\t\t\t\t}\n\t\t\t\t\taccumulator[ key ].push( postType );\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{ defaultPostTypesMenuItems: [], postTypesMenuItems: [] }\n\t\t\t),\n\t\t[ menuItems ]\n\t);\n\treturn postTypesMenuItems;\n};\n\nexport const useTaxonomiesMenuItems = ( onClickMenuItem ) => {\n\tconst publicTaxonomies = usePublicTaxonomies();\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\t// `category` and `post_tag` are special cases in template hierarchy.\n\tconst templatePrefixes = useMemo(\n\t\t() =>\n\t\t\tpublicTaxonomies?.reduce( ( accumulator, { slug } ) => {\n\t\t\t\tlet suffix = slug;\n\t\t\t\tif ( ! [ 'category', 'post_tag' ].includes( slug ) ) {\n\t\t\t\t\tsuffix = `taxonomy-${ suffix }`;\n\t\t\t\t}\n\t\t\t\tif ( slug === 'post_tag' ) {\n\t\t\t\t\tsuffix = `tag`;\n\t\t\t\t}\n\t\t\t\taccumulator[ slug ] = suffix;\n\t\t\t\treturn accumulator;\n\t\t\t}, {} ),\n\t\t[ publicTaxonomies ]\n\t);\n\t// We need to keep track of naming conflicts. If a conflict\n\t// occurs, we need to add slug.\n\tconst taxonomyLabels = publicTaxonomies?.reduce(\n\t\t( accumulator, { labels } ) => {\n\t\t\tconst singularName = labels.singular_name.toLowerCase();\n\t\t\taccumulator[ singularName ] =\n\t\t\t\t( accumulator[ singularName ] || 0 ) + 1;\n\t\t\treturn accumulator;\n\t\t},\n\t\t{}\n\t);\n\tconst needsUniqueIdentifier = ( labels, slug ) => {\n\t\tif ( [ 'category', 'post_tag' ].includes( slug ) ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst singularName = labels.singular_name.toLowerCase();\n\t\treturn taxonomyLabels[ singularName ] > 1 && singularName !== slug;\n\t};\n\tconst taxonomiesInfo = useEntitiesInfo( 'taxonomy', templatePrefixes );\n\tconst existingTemplateSlugs = ( existingTemplates || [] ).map(\n\t\t( { slug } ) => slug\n\t);\n\tconst menuItems = ( publicTaxonomies || [] ).reduce(\n\t\t( accumulator, taxonomy ) => {\n\t\t\tconst { slug, labels } = taxonomy;\n\t\t\t// We need to check if the general template is part of the\n\t\t\t// defaultTemplateTypes. If it is, just use that info and\n\t\t\t// augment it with the specific template functionality.\n\t\t\tconst generalTemplateSlug = templatePrefixes[ slug ];\n\t\t\tconst defaultTemplateType = defaultTemplateTypes?.find(\n\t\t\t\t( { slug: _slug } ) => _slug === generalTemplateSlug\n\t\t\t);\n\t\t\tconst hasGeneralTemplate =\n\t\t\t\texistingTemplateSlugs?.includes( generalTemplateSlug );\n\t\t\tconst _needsUniqueIdentifier = needsUniqueIdentifier(\n\t\t\t\tlabels,\n\t\t\t\tslug\n\t\t\t);\n\t\t\tlet menuItemTitle = labels.singular_name;\n\t\t\tif ( _needsUniqueIdentifier ) {\n\t\t\t\tmenuItemTitle = sprintf(\n\t\t\t\t\t// translators: %1s: Name of the taxonomy e.g: \"Category\"; %2s: Slug of the taxonomy e.g: \"product_cat\".\n\t\t\t\t\t__( '%1$s (%2$s)' ),\n\t\t\t\t\tlabels.singular_name,\n\t\t\t\t\tslug\n\t\t\t\t);\n\t\t\t}\n\t\t\tconst menuItem = defaultTemplateType\n\t\t\t\t? {\n\t\t\t\t\t\t...defaultTemplateType,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tslug: generalTemplateSlug,\n\t\t\t\t\t\ttitle: menuItemTitle,\n\t\t\t\t\t\tdescription: sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the taxonomy e.g: \"Product Categories\".\n\t\t\t\t\t\t\t__( 'Displays taxonomy: %s.' ),\n\t\t\t\t\t\t\tlabels.singular_name\n\t\t\t\t\t\t),\n\t\t\t\t\t\ticon: blockMeta,\n\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t  };\n\t\t\tconst hasEntities = taxonomiesInfo?.[ slug ]?.hasEntities;\n\t\t\t// We have a different template creation flow only if they have entities.\n\t\t\tif ( hasEntities ) {\n\t\t\t\tmenuItem.onClick = ( template ) => {\n\t\t\t\t\tonClickMenuItem( {\n\t\t\t\t\t\ttype: 'taxonomy',\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\tqueryArgs: ( { search } ) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t_fields: 'id,name,slug,link',\n\t\t\t\t\t\t\t\t\torderBy: search ? 'name' : 'count',\n\t\t\t\t\t\t\t\t\texclude:\n\t\t\t\t\t\t\t\t\t\ttaxonomiesInfo[ slug ]\n\t\t\t\t\t\t\t\t\t\t\t.existingEntitiesIds,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetSpecificTemplate: ( suggestion ) => {\n\t\t\t\t\t\t\t\tconst templateSlug = `${ templatePrefixes[ slug ] }-${ suggestion.slug }`;\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttitle: templateSlug,\n\t\t\t\t\t\t\t\t\tslug: templateSlug,\n\t\t\t\t\t\t\t\t\ttemplatePrefix: templatePrefixes[ slug ],\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabels,\n\t\t\t\t\t\thasGeneralTemplate,\n\t\t\t\t\t\ttemplate,\n\t\t\t\t\t} );\n\t\t\t\t};\n\t\t\t}\n\t\t\t// We don't need to add the menu item if there are no\n\t\t\t// entities and the general template exists.\n\t\t\tif ( ! hasGeneralTemplate || hasEntities ) {\n\t\t\t\taccumulator.push( menuItem );\n\t\t\t}\n\t\t\treturn accumulator;\n\t\t},\n\t\t[]\n\t);\n\t// Split menu items into two groups: one for the default taxonomies\n\t// and one for the rest.\n\tconst taxonomiesMenuItems = useMemo(\n\t\t() =>\n\t\t\tmenuItems.reduce(\n\t\t\t\t( accumulator, taxonomy ) => {\n\t\t\t\t\tconst { slug } = taxonomy;\n\t\t\t\t\tlet key = 'taxonomiesMenuItems';\n\t\t\t\t\tif ( [ 'category', 'tag' ].includes( slug ) ) {\n\t\t\t\t\t\tkey = 'defaultTaxonomiesMenuItems';\n\t\t\t\t\t}\n\t\t\t\t\taccumulator[ key ].push( taxonomy );\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{ defaultTaxonomiesMenuItems: [], taxonomiesMenuItems: [] }\n\t\t\t),\n\t\t[ menuItems ]\n\t);\n\treturn taxonomiesMenuItems;\n};\n\nconst USE_AUTHOR_MENU_ITEM_TEMPLATE_PREFIX = { user: 'author' };\nconst USE_AUTHOR_MENU_ITEM_QUERY_PARAMETERS = { user: { who: 'authors' } };\nexport function useAuthorMenuItem( onClickMenuItem ) {\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\tconst authorInfo = useEntitiesInfo(\n\t\t'root',\n\t\tUSE_AUTHOR_MENU_ITEM_TEMPLATE_PREFIX,\n\t\tUSE_AUTHOR_MENU_ITEM_QUERY_PARAMETERS\n\t);\n\tlet authorMenuItem = defaultTemplateTypes?.find(\n\t\t( { slug } ) => slug === 'author'\n\t);\n\tif ( ! authorMenuItem ) {\n\t\tauthorMenuItem = {\n\t\t\tdescription: __(\n\t\t\t\t'Displays latest posts written by a single author.'\n\t\t\t),\n\t\t\tslug: 'author',\n\t\t\ttitle: 'Author',\n\t\t};\n\t}\n\tconst hasGeneralTemplate = !! existingTemplates?.find(\n\t\t( { slug } ) => slug === 'author'\n\t);\n\tif ( authorInfo.user?.hasEntities ) {\n\t\tauthorMenuItem = { ...authorMenuItem, templatePrefix: 'author' };\n\t\tauthorMenuItem.onClick = ( template ) => {\n\t\t\tonClickMenuItem( {\n\t\t\t\ttype: 'root',\n\t\t\t\tslug: 'user',\n\t\t\t\tconfig: {\n\t\t\t\t\tqueryArgs: ( { search } ) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t_fields: 'id,name,slug,link',\n\t\t\t\t\t\t\torderBy: search ? 'name' : 'registered_date',\n\t\t\t\t\t\t\texclude: authorInfo.user.existingEntitiesIds,\n\t\t\t\t\t\t\twho: 'authors',\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tgetSpecificTemplate: ( suggestion ) => {\n\t\t\t\t\t\tconst templateSlug = `author-${ suggestion.slug }`;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttitle: templateSlug,\n\t\t\t\t\t\t\tslug: templateSlug,\n\t\t\t\t\t\t\ttemplatePrefix: 'author',\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tlabels: {\n\t\t\t\t\tsingular_name: __( 'Author' ),\n\t\t\t\t\tsearch_items: __( 'Search Authors' ),\n\t\t\t\t\tnot_found: __( 'No authors found.' ),\n\t\t\t\t\tall_items: __( 'All Authors' ),\n\t\t\t\t},\n\t\t\t\thasGeneralTemplate,\n\t\t\t\ttemplate,\n\t\t\t} );\n\t\t};\n\t}\n\tif ( ! hasGeneralTemplate || authorInfo.user?.hasEntities ) {\n\t\treturn authorMenuItem;\n\t}\n}\n\n/**\n * Helper hook that filters all the existing templates by the given\n * object with the entity's slug as key and the template prefix as value.\n *\n * Example:\n * `existingTemplates` is: [ { slug: 'tag-apple' }, { slug: 'page-about' }, { slug: 'tag' } ]\n * `templatePrefixes` is: { post_tag: 'tag' }\n * It will return: { post_tag: ['apple'] }\n *\n * Note: We append the `-` to the given template prefix in this function for our checks.\n *\n * @param {Record<string,string>} templatePrefixes An object with the entity's slug as key and the template prefix as value.\n * @return {Record<string,string[]>} An object with the entity's slug as key and an array with the existing template slugs as value.\n */\nconst useExistingTemplateSlugs = ( templatePrefixes ) => {\n\tconst existingTemplates = useExistingTemplates();\n\tconst existingSlugs = useMemo( () => {\n\t\treturn Object.entries( templatePrefixes || {} ).reduce(\n\t\t\t( accumulator, [ slug, prefix ] ) => {\n\t\t\t\tconst slugsWithTemplates = ( existingTemplates || [] ).reduce(\n\t\t\t\t\t( _accumulator, existingTemplate ) => {\n\t\t\t\t\t\tconst _prefix = `${ prefix }-`;\n\t\t\t\t\t\tif ( existingTemplate.slug.startsWith( _prefix ) ) {\n\t\t\t\t\t\t\t_accumulator.push(\n\t\t\t\t\t\t\t\texistingTemplate.slug.substring(\n\t\t\t\t\t\t\t\t\t_prefix.length\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn _accumulator;\n\t\t\t\t\t},\n\t\t\t\t\t[]\n\t\t\t\t);\n\t\t\t\tif ( slugsWithTemplates.length ) {\n\t\t\t\t\taccumulator[ slug ] = slugsWithTemplates;\n\t\t\t\t}\n\t\t\t\treturn accumulator;\n\t\t\t},\n\t\t\t{}\n\t\t);\n\t}, [ templatePrefixes, existingTemplates ] );\n\treturn existingSlugs;\n};\n\n/**\n * Helper hook that finds the existing records with an associated template,\n * as they need to be excluded from the template suggestions.\n *\n * @param {string}                entityName                The entity's name.\n * @param {Record<string,string>} templatePrefixes          An object with the entity's slug as key and the template prefix as value.\n * @param {Record<string,Object>} additionalQueryParameters An object with the entity's slug as key and additional query parameters as value.\n * @return {Record<string,EntitiesInfo>} An object with the entity's slug as key and the existing records as value.\n */\nconst useTemplatesToExclude = (\n\tentityName,\n\ttemplatePrefixes,\n\tadditionalQueryParameters = {}\n) => {\n\tconst slugsToExcludePerEntity =\n\t\tuseExistingTemplateSlugs( templatePrefixes );\n\tconst recordsToExcludePerEntity = useSelect(\n\t\t( select ) => {\n\t\t\treturn Object.entries( slugsToExcludePerEntity || {} ).reduce(\n\t\t\t\t( accumulator, [ slug, slugsWithTemplates ] ) => {\n\t\t\t\t\tconst entitiesWithTemplates = select(\n\t\t\t\t\t\tcoreStore\n\t\t\t\t\t).getEntityRecords( entityName, slug, {\n\t\t\t\t\t\t_fields: 'id',\n\t\t\t\t\t\tcontext: 'view',\n\t\t\t\t\t\tslug: slugsWithTemplates,\n\t\t\t\t\t\t...additionalQueryParameters[ slug ],\n\t\t\t\t\t} );\n\t\t\t\t\tif ( entitiesWithTemplates?.length ) {\n\t\t\t\t\t\taccumulator[ slug ] = entitiesWithTemplates;\n\t\t\t\t\t}\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t},\n\t\t[ slugsToExcludePerEntity ]\n\t);\n\treturn recordsToExcludePerEntity;\n};\n\n/**\n * Helper hook that returns information about an entity having\n * records that we can create a specific template for.\n *\n * For example we can search for `terms` in `taxonomy` entity or\n * `posts` in `postType` entity.\n *\n * First we need to find the existing records with an associated template,\n * to query afterwards for any remaining record, by excluding them.\n *\n * @param {string}                entityName                The entity's name.\n * @param {Record<string,string>} templatePrefixes          An object with the entity's slug as key and the template prefix as value.\n * @param {Record<string,Object>} additionalQueryParameters An object with the entity's slug as key and additional query parameters as value.\n * @return {Record<string,EntitiesInfo>} An object with the entity's slug as key and the EntitiesInfo as value.\n */\nconst useEntitiesInfo = (\n\tentityName,\n\ttemplatePrefixes,\n\tadditionalQueryParameters = {}\n) => {\n\tconst recordsToExcludePerEntity = useTemplatesToExclude(\n\t\tentityName,\n\t\ttemplatePrefixes,\n\t\tadditionalQueryParameters\n\t);\n\tconst entitiesInfo = useSelect(\n\t\t( select ) => {\n\t\t\treturn Object.keys( templatePrefixes || {} ).reduce(\n\t\t\t\t( accumulator, slug ) => {\n\t\t\t\t\tconst existingEntitiesIds =\n\t\t\t\t\t\trecordsToExcludePerEntity?.[ slug ]?.map(\n\t\t\t\t\t\t\t( { id } ) => id\n\t\t\t\t\t\t) || [];\n\t\t\t\t\taccumulator[ slug ] = {\n\t\t\t\t\t\thasEntities: !! select( coreStore ).getEntityRecords(\n\t\t\t\t\t\t\tentityName,\n\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tper_page: 1,\n\t\t\t\t\t\t\t\t_fields: 'id',\n\t\t\t\t\t\t\t\tcontext: 'view',\n\t\t\t\t\t\t\t\texclude: existingEntitiesIds,\n\t\t\t\t\t\t\t\t...additionalQueryParameters[ slug ],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)?.length,\n\t\t\t\t\t\texistingEntitiesIds,\n\t\t\t\t\t};\n\t\t\t\t\treturn accumulator;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t},\n\t\t[ templatePrefixes, recordsToExcludePerEntity ]\n\t);\n\treturn entitiesInfo;\n};\n","/**\n * WordPress dependencies\n */\nimport { useState, useMemo, useEffect } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tButton,\n\tFlex,\n\tFlexItem,\n\tModal,\n\tSearchControl,\n\tTextHighlight,\n\t__experimentalText as Text,\n\t__unstableComposite as Composite,\n\t__unstableUseCompositeState as useCompositeState,\n\t__unstableCompositeItem as CompositeItem,\n} from '@wordpress/components';\nimport { useDebounce } from '@wordpress/compose';\nimport { useEntityRecords } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport TemplateActionsLoadingScreen from './template-actions-loading-screen';\nimport { mapToIHasNameAndId } from './utils';\n\nconst EMPTY_ARRAY = [];\n\nfunction SuggestionListItem( {\n\tsuggestion,\n\tsearch,\n\tonSelect,\n\tentityForSuggestions,\n\tcomposite,\n} ) {\n\tconst baseCssClass =\n\t\t'edit-site-custom-template-modal__suggestions_list__list-item';\n\treturn (\n\t\t<CompositeItem\n\t\t\trole=\"option\"\n\t\t\tas={ Button }\n\t\t\t{ ...composite }\n\t\t\tclassName={ baseCssClass }\n\t\t\tonClick={ () =>\n\t\t\t\tonSelect(\n\t\t\t\t\tentityForSuggestions.config.getSpecificTemplate(\n\t\t\t\t\t\tsuggestion\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t>\n\t\t\t<span className={ `${ baseCssClass }__title` }>\n\t\t\t\t<TextHighlight\n\t\t\t\t\ttext={ decodeEntities( suggestion.name ) }\n\t\t\t\t\thighlight={ search }\n\t\t\t\t/>\n\t\t\t</span>\n\t\t\t{ suggestion.link && (\n\t\t\t\t<span className={ `${ baseCssClass }__info` }>\n\t\t\t\t\t{ suggestion.link }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t</CompositeItem>\n\t);\n}\n\nfunction useDebouncedInput() {\n\tconst [ input, setInput ] = useState( '' );\n\tconst [ debounced, setter ] = useState( '' );\n\tconst setDebounced = useDebounce( setter, 250 );\n\tuseEffect( () => {\n\t\tif ( debounced !== input ) {\n\t\t\tsetDebounced( input );\n\t\t}\n\t}, [ debounced, input ] );\n\treturn [ input, setInput, debounced ];\n}\n\nfunction useSearchSuggestions( entityForSuggestions, search ) {\n\tconst { config } = entityForSuggestions;\n\tconst query = useMemo(\n\t\t() => ( {\n\t\t\torder: 'asc',\n\t\t\tcontext: 'view',\n\t\t\tsearch,\n\t\t\tper_page: search ? 20 : 10,\n\t\t\t...config.queryArgs( search ),\n\t\t} ),\n\t\t[ search, config ]\n\t);\n\tconst { records: searchResults, hasResolved: searchHasResolved } =\n\t\tuseEntityRecords(\n\t\t\tentityForSuggestions.type,\n\t\t\tentityForSuggestions.slug,\n\t\t\tquery\n\t\t);\n\tconst [ suggestions, setSuggestions ] = useState( EMPTY_ARRAY );\n\tuseEffect( () => {\n\t\tif ( ! searchHasResolved ) return;\n\t\tlet newSuggestions = EMPTY_ARRAY;\n\t\tif ( searchResults?.length ) {\n\t\t\tnewSuggestions = searchResults;\n\t\t\tif ( config.recordNamePath ) {\n\t\t\t\tnewSuggestions = mapToIHasNameAndId(\n\t\t\t\t\tnewSuggestions,\n\t\t\t\t\tconfig.recordNamePath\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\t// Update suggestions only when the query has resolved, so as to keep\n\t\t// the previous results in the UI.\n\t\tsetSuggestions( newSuggestions );\n\t}, [ searchResults, searchHasResolved ] );\n\treturn suggestions;\n}\n\nfunction SuggestionList( { entityForSuggestions, onSelect } ) {\n\tconst composite = useCompositeState( { orientation: 'vertical' } );\n\tconst [ search, setSearch, debouncedSearch ] = useDebouncedInput();\n\tconst suggestions = useSearchSuggestions(\n\t\tentityForSuggestions,\n\t\tdebouncedSearch\n\t);\n\tconst { labels } = entityForSuggestions;\n\tconst [ showSearchControl, setShowSearchControl ] = useState( false );\n\tif ( ! showSearchControl && suggestions?.length > 9 ) {\n\t\tsetShowSearchControl( true );\n\t}\n\treturn (\n\t\t<>\n\t\t\t{ showSearchControl && (\n\t\t\t\t<SearchControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tonChange={ setSearch }\n\t\t\t\t\tvalue={ search }\n\t\t\t\t\tlabel={ labels.search_items }\n\t\t\t\t\tplaceholder={ labels.search_items }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ !! suggestions?.length && (\n\t\t\t\t<Composite\n\t\t\t\t\t{ ...composite }\n\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\tclassName=\"edit-site-custom-template-modal__suggestions_list\"\n\t\t\t\t\taria-label={ __( 'Suggestions list' ) }\n\t\t\t\t>\n\t\t\t\t\t{ suggestions.map( ( suggestion ) => (\n\t\t\t\t\t\t<SuggestionListItem\n\t\t\t\t\t\t\tkey={ suggestion.slug }\n\t\t\t\t\t\t\tsuggestion={ suggestion }\n\t\t\t\t\t\t\tsearch={ debouncedSearch }\n\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\tentityForSuggestions={ entityForSuggestions }\n\t\t\t\t\t\t\tcomposite={ composite }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t</Composite>\n\t\t\t) }\n\t\t\t{ debouncedSearch && ! suggestions?.length && (\n\t\t\t\t<p className=\"edit-site-custom-template-modal__no-results\">\n\t\t\t\t\t{ labels.not_found }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction AddCustomTemplateModal( {\n\tonClose,\n\tonSelect,\n\tentityForSuggestions,\n\tisCreatingTemplate,\n} ) {\n\tconst [ showSearchEntities, setShowSearchEntities ] = useState(\n\t\tentityForSuggestions.hasGeneralTemplate\n\t);\n\tconst baseCssClass = 'edit-site-custom-template-modal';\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ sprintf(\n\t\t\t\t// translators: %s: Name of the post type e.g: \"Post\".\n\t\t\t\t__( 'Add template: %s' ),\n\t\t\t\tentityForSuggestions.labels.singular_name\n\t\t\t) }\n\t\t\tclassName={ baseCssClass }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ onClose }\n\t\t>\n\t\t\t{ isCreatingTemplate && <TemplateActionsLoadingScreen /> }\n\t\t\t{ ! showSearchEntities && (\n\t\t\t\t<>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Select whether to create a single template for all items or a specific one.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t\t<Flex\n\t\t\t\t\t\tclassName={ `${ baseCssClass }__contents` }\n\t\t\t\t\t\tgap=\"4\"\n\t\t\t\t\t\talign=\"initial\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FlexItem\n\t\t\t\t\t\t\tisBlock\n\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\t\t\ttemplatePrefix,\n\t\t\t\t\t\t\t\t} = entityForSuggestions.template;\n\t\t\t\t\t\t\t\tonSelect( {\n\t\t\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\t\t\ttemplatePrefix,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text as=\"span\" weight={ 600 }>\n\t\t\t\t\t\t\t\t{ entityForSuggestions.labels.all_items }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text as=\"span\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// translators: The user is given the choice to set up a template for all items of a post type or taxonomy, or just a specific one.\n\t\t\t\t\t\t\t\t\t__( 'For all items' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t<FlexItem\n\t\t\t\t\t\t\tisBlock\n\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetShowSearchEntities( true );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text as=\"span\" weight={ 600 }>\n\t\t\t\t\t\t\t\t{ entityForSuggestions.labels.singular_name }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text as=\"span\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// translators: The user is given the choice to set up a template for all items of a post type or taxonomy, or just a specific one.\n\t\t\t\t\t\t\t\t\t__( 'For a specific item' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t</Flex>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t{ showSearchEntities && (\n\t\t\t\t<>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'This template will be used only for the specific item chosen.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t\t<SuggestionList\n\t\t\t\t\t\tentityForSuggestions={ entityForSuggestions }\n\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</Modal>\n\t);\n}\n\nexport default AddCustomTemplateModal;\n","/**\n * External dependencies\n */\nimport { kebabCase } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tFlex,\n\tFlexItem,\n\tModal,\n\tTextControl,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport TemplateActionsLoadingScreen from './template-actions-loading-screen';\n\nfunction AddCustomGenericTemplateModal( {\n\tonClose,\n\tcreateTemplate,\n\tisCreatingTemplate,\n} ) {\n\tconst [ title, setTitle ] = useState( '' );\n\tconst defaultTitle = __( 'Custom Template' );\n\tconst [ isBusy, setIsBusy ] = useState( false );\n\tasync function onCreateTemplate( event ) {\n\t\tevent.preventDefault();\n\t\tif ( isBusy ) {\n\t\t\treturn;\n\t\t}\n\t\tsetIsBusy( true );\n\t\ttry {\n\t\t\tawait createTemplate(\n\t\t\t\t{\n\t\t\t\t\tslug:\n\t\t\t\t\t\t'wp-custom-template-' +\n\t\t\t\t\t\tkebabCase( title || defaultTitle ),\n\t\t\t\t\ttitle: title || defaultTitle,\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t} finally {\n\t\t\tsetIsBusy( false );\n\t\t}\n\t}\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Create custom template' ) }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ () => {\n\t\t\t\tonClose();\n\t\t\t} }\n\t\t\toverlayClassName=\"edit-site-custom-generic-template__modal\"\n\t\t>\n\t\t\t{ isCreatingTemplate && <TemplateActionsLoadingScreen /> }\n\t\t\t<form onSubmit={ onCreateTemplate }>\n\t\t\t\t<Flex align=\"flex-start\" gap={ 8 }>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\t\tplaceholder={ defaultTitle }\n\t\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Describe the template, e.g. \"Post with sidebar\".'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\n\t\t\t\t<Flex\n\t\t\t\t\tclassName=\"edit-site-custom-generic-template__modal-actions\"\n\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\texpanded={ false }\n\t\t\t\t>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\t\taria-disabled={ isBusy }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Create' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n\nexport default AddCustomGenericTemplateModal;\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\nimport {\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItem,\n\tNavigableMenu,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tarchive,\n\tblockMeta,\n\tcategory,\n\thome,\n\tlist,\n\tmedia,\n\tnotFound,\n\tpage,\n\tpost,\n\tpostAuthor,\n\tpostDate,\n\tsearch,\n\ttag,\n\tlayout as customGenericTemplateIcon,\n} from '@wordpress/icons';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport AddCustomTemplateModal from './add-custom-template-modal';\nimport {\n\tuseExistingTemplates,\n\tuseDefaultTemplateTypes,\n\tuseTaxonomiesMenuItems,\n\tusePostTypeMenuItems,\n\tuseAuthorMenuItem,\n\tusePostTypeArchiveMenuItems,\n} from './utils';\nimport AddCustomGenericTemplateModal from './add-custom-generic-template-modal';\nimport TemplateActionsLoadingScreen from './template-actions-loading-screen';\nimport { useHistory } from '../routes';\nimport { store as editSiteStore } from '../../store';\n\nconst DEFAULT_TEMPLATE_SLUGS = [\n\t'front-page',\n\t'single',\n\t'page',\n\t'index',\n\t'archive',\n\t'author',\n\t'category',\n\t'date',\n\t'tag',\n\t'taxonomy',\n\t'search',\n\t'404',\n];\n\nconst TEMPLATE_ICONS = {\n\t'front-page': home,\n\tsingle: post,\n\tpage,\n\tarchive,\n\tsearch,\n\t404: notFound,\n\tindex: list,\n\tcategory,\n\tauthor: postAuthor,\n\ttaxonomy: blockMeta,\n\tdate: postDate,\n\ttag,\n\tattachment: media,\n};\n\nexport default function NewTemplate( { postType } ) {\n\tconst [ showCustomTemplateModal, setShowCustomTemplateModal ] =\n\t\tuseState( false );\n\tconst [\n\t\tshowCustomGenericTemplateModal,\n\t\tsetShowCustomGenericTemplateModal,\n\t] = useState( false );\n\tconst [ entityForSuggestions, setEntityForSuggestions ] = useState( {} );\n\tconst [ isCreatingTemplate, setIsCreatingTemplate ] = useState( false );\n\n\tconst history = useHistory();\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createErrorNotice, createSuccessNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst { setTemplate } = useDispatch( editSiteStore );\n\n\tasync function createTemplate( template, isWPSuggestion = true ) {\n\t\tif ( isCreatingTemplate ) {\n\t\t\treturn;\n\t\t}\n\t\tsetIsCreatingTemplate( true );\n\t\ttry {\n\t\t\tconst { title, description, slug, templatePrefix } = template;\n\t\t\tlet templateContent = template.content;\n\t\t\t// Try to find fallback content from existing templates.\n\t\t\tif ( ! templateContent ) {\n\t\t\t\tconst fallbackTemplate = await apiFetch( {\n\t\t\t\t\tpath: addQueryArgs( '/wp/v2/templates/lookup', {\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\tis_custom: ! isWPSuggestion,\n\t\t\t\t\t\ttemplate_prefix: templatePrefix,\n\t\t\t\t\t} ),\n\t\t\t\t} );\n\t\t\t\ttemplateContent = fallbackTemplate.content.raw;\n\t\t\t}\n\t\t\tconst newTemplate = await saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template',\n\t\t\t\t{\n\t\t\t\t\tdescription,\n\t\t\t\t\t// Slugs need to be strings, so this is for template `404`\n\t\t\t\t\tslug: slug.toString(),\n\t\t\t\t\tstatus: 'publish',\n\t\t\t\t\ttitle,\n\t\t\t\t\tcontent: templateContent,\n\t\t\t\t\t// This adds a post meta field in template that is part of `is_custom` value calculation.\n\t\t\t\t\tis_wp_suggestion: isWPSuggestion,\n\t\t\t\t},\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\n\t\t\t// Set template before navigating away to avoid initial stale value.\n\t\t\tsetTemplate( newTemplate.id, newTemplate.slug );\n\n\t\t\t// Navigate to the created template editor.\n\t\t\thistory.push( {\n\t\t\t\tpostId: newTemplate.id,\n\t\t\t\tpostType: newTemplate.type,\n\t\t\t} );\n\t\t\tcreateSuccessNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t// translators: %s: Title of the created template e.g: \"Category\".\n\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\ttitle\n\t\t\t\t),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while creating the template.' );\n\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} finally {\n\t\t\tsetIsCreatingTemplate( false );\n\t\t}\n\t}\n\n\tconst missingTemplates = useMissingTemplates(\n\t\tsetEntityForSuggestions,\n\t\tsetShowCustomTemplateModal\n\t);\n\tif ( ! missingTemplates.length ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<>\n\t\t\t<DropdownMenu\n\t\t\t\tclassName=\"edit-site-new-template-dropdown\"\n\t\t\t\ticon={ null }\n\t\t\t\ttext={ postType.labels.add_new }\n\t\t\t\tlabel={ postType.labels.add_new_item }\n\t\t\t\tpopoverProps={ {\n\t\t\t\t\tnoArrow: false,\n\t\t\t\t} }\n\t\t\t\ttoggleProps={ {\n\t\t\t\t\tvariant: 'primary',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ () => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ isCreatingTemplate && (\n\t\t\t\t\t\t\t<TemplateActionsLoadingScreen />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<NavigableMenu className=\"edit-site-new-template-dropdown__popover\">\n\t\t\t\t\t\t\t<MenuGroup label={ postType.labels.add_new_item }>\n\t\t\t\t\t\t\t\t{ missingTemplates.map( ( template ) => {\n\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t\t\t\tonClick,\n\t\t\t\t\t\t\t\t\t\ticon,\n\t\t\t\t\t\t\t\t\t} = template;\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\ticon ||\n\t\t\t\t\t\t\t\t\t\t\t\tTEMPLATE_ICONS[ slug ] ||\n\t\t\t\t\t\t\t\t\t\t\t\tpost\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\t\tinfo={ description }\n\t\t\t\t\t\t\t\t\t\t\tkey={ slug }\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\t\tonClick\n\t\t\t\t\t\t\t\t\t\t\t\t\t? onClick( template )\n\t\t\t\t\t\t\t\t\t\t\t\t\t: createTemplate( template )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ customGenericTemplateIcon }\n\t\t\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t\t'Custom templates can be applied to any post or page.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tkey=\"custom-template\"\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\tsetShowCustomGenericTemplateModal(\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Custom template' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t</NavigableMenu>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</DropdownMenu>\n\t\t\t{ showCustomTemplateModal && (\n\t\t\t\t<AddCustomTemplateModal\n\t\t\t\t\tonClose={ () => setShowCustomTemplateModal( false ) }\n\t\t\t\t\tonSelect={ createTemplate }\n\t\t\t\t\tentityForSuggestions={ entityForSuggestions }\n\t\t\t\t\tisCreatingTemplate={ isCreatingTemplate }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ showCustomGenericTemplateModal && (\n\t\t\t\t<AddCustomGenericTemplateModal\n\t\t\t\t\tonClose={ () => setShowCustomGenericTemplateModal( false ) }\n\t\t\t\t\tcreateTemplate={ createTemplate }\n\t\t\t\t\tisCreatingTemplate={ isCreatingTemplate }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction useMissingTemplates(\n\tsetEntityForSuggestions,\n\tsetShowCustomTemplateModal\n) {\n\tconst existingTemplates = useExistingTemplates();\n\tconst defaultTemplateTypes = useDefaultTemplateTypes();\n\tconst existingTemplateSlugs = ( existingTemplates || [] ).map(\n\t\t( { slug } ) => slug\n\t);\n\tconst missingDefaultTemplates = ( defaultTemplateTypes || [] ).filter(\n\t\t( template ) =>\n\t\t\tDEFAULT_TEMPLATE_SLUGS.includes( template.slug ) &&\n\t\t\t! existingTemplateSlugs.includes( template.slug )\n\t);\n\tconst onClickMenuItem = ( _entityForSuggestions ) => {\n\t\tsetShowCustomTemplateModal( true );\n\t\tsetEntityForSuggestions( _entityForSuggestions );\n\t};\n\t// We need to replace existing default template types with\n\t// the create specific template functionality. The original\n\t// info (title, description, etc.) is preserved in the\n\t// used hooks.\n\tconst enhancedMissingDefaultTemplateTypes = [ ...missingDefaultTemplates ];\n\tconst { defaultTaxonomiesMenuItems, taxonomiesMenuItems } =\n\t\tuseTaxonomiesMenuItems( onClickMenuItem );\n\tconst { defaultPostTypesMenuItems, postTypesMenuItems } =\n\t\tusePostTypeMenuItems( onClickMenuItem );\n\n\tconst authorMenuItem = useAuthorMenuItem( onClickMenuItem );\n\t[\n\t\t...defaultTaxonomiesMenuItems,\n\t\t...defaultPostTypesMenuItems,\n\t\tauthorMenuItem,\n\t].forEach( ( menuItem ) => {\n\t\tif ( ! menuItem ) {\n\t\t\treturn;\n\t\t}\n\t\tconst matchIndex = enhancedMissingDefaultTemplateTypes.findIndex(\n\t\t\t( template ) => template.slug === menuItem.slug\n\t\t);\n\t\t// Some default template types might have been filtered above from\n\t\t// `missingDefaultTemplates` because they only check for the general\n\t\t// template. So here we either replace or append the item, augmented\n\t\t// with the check if it has available specific item to create a\n\t\t// template for.\n\t\tif ( matchIndex > -1 ) {\n\t\t\tenhancedMissingDefaultTemplateTypes[ matchIndex ] = menuItem;\n\t\t} else {\n\t\t\tenhancedMissingDefaultTemplateTypes.push( menuItem );\n\t\t}\n\t} );\n\t// Update the sort order to match the DEFAULT_TEMPLATE_SLUGS order.\n\tenhancedMissingDefaultTemplateTypes?.sort( ( template1, template2 ) => {\n\t\treturn (\n\t\t\tDEFAULT_TEMPLATE_SLUGS.indexOf( template1.slug ) -\n\t\t\tDEFAULT_TEMPLATE_SLUGS.indexOf( template2.slug )\n\t\t);\n\t} );\n\tconst missingTemplates = [\n\t\t...enhancedMissingDefaultTemplateTypes,\n\t\t...usePostTypeArchiveMenuItems(),\n\t\t...postTypesMenuItems,\n\t\t...taxonomiesMenuItems,\n\t];\n\treturn missingTemplates;\n}\n","/**\n * External dependencies\n */\nimport { kebabCase } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { useHistory } from '../routes';\nimport CreateTemplatePartModal from '../create-template-part-modal';\n\nexport default function NewTemplatePart( { postType } ) {\n\tconst history = useHistory();\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\n\tasync function createTemplatePart( { title, area } ) {\n\t\tif ( ! title ) {\n\t\t\tcreateErrorNotice( __( 'Title is not defined.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\t// Currently template parts only allow latin chars.\n\t\t\t// Fallback slug will receive suffix by default.\n\t\t\tconst cleanSlug =\n\t\t\t\tkebabCase( title ).replace( /[^\\w-]+/g, '' ) ||\n\t\t\t\t'wp-custom-part';\n\n\t\t\tconst templatePart = await saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template_part',\n\t\t\t\t{\n\t\t\t\t\tslug: cleanSlug,\n\t\t\t\t\ttitle,\n\t\t\t\t\tcontent: '',\n\t\t\t\t\tarea,\n\t\t\t\t},\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\n\t\t\tsetIsModalOpen( false );\n\n\t\t\t// Navigate to the created template part editor.\n\t\t\thistory.push( {\n\t\t\t\tpostId: templatePart.id,\n\t\t\t\tpostType: templatePart.type,\n\t\t\t} );\n\n\t\t\t// TODO: Add a success notice?\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __(\n\t\t\t\t\t\t\t'An error occurred while creating the template part.'\n\t\t\t\t\t  );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\n\t\t\tsetIsModalOpen( false );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsModalOpen( true );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ postType.labels.add_new }\n\t\t\t</Button>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<CreateTemplatePartModal\n\t\t\t\t\tcloseModal={ () => setIsModalOpen( false ) }\n\t\t\t\t\tonCreate={ createTemplatePart }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport NewTemplate from './new-template';\nimport NewTemplatePart from './new-template-part';\n\nexport default function AddNewTemplate( { templateType = 'wp_template' } ) {\n\tconst postType = useSelect(\n\t\t( select ) => select( coreStore ).getPostType( templateType ),\n\t\t[ templateType ]\n\t);\n\n\tif ( ! postType ) {\n\t\treturn null;\n\t}\n\n\tif ( templateType === 'wp_template' ) {\n\t\treturn <NewTemplate postType={ postType } />;\n\t} else if ( templateType === 'wp_template_part' ) {\n\t\treturn <NewTemplatePart postType={ postType } />;\n\t}\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __experimentalHeading as Heading } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport AddNewTemplate from '../add-new-template';\nimport { store as editSiteStore } from '../../store';\n\nexport default function Header( { templateType } ) {\n\tconst { canCreate, postType } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { supportsTemplatePartsMode } =\n\t\t\t\tselect( editSiteStore ).getSettings();\n\t\t\treturn {\n\t\t\t\tpostType: select( coreStore ).getPostType( templateType ),\n\t\t\t\tcanCreate: ! supportsTemplatePartsMode,\n\t\t\t};\n\t\t},\n\t\t[ templateType ]\n\t);\n\n\tif ( ! postType ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<header className=\"edit-site-list-header\">\n\t\t\t<Heading level={ 1 } className=\"edit-site-list-header__title\">\n\t\t\t\t{ postType.labels?.name }\n\t\t\t</Heading>\n\n\t\t\t{ canCreate && (\n\t\t\t\t<div className=\"edit-site-list-header__right\">\n\t\t\t\t\t<AddNewTemplate templateType={ templateType } />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</header>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\tFlex,\n\tFlexItem,\n\tMenuItem,\n\tModal,\n\tTextControl,\n} from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticesStore } from '@wordpress/notices';\n\nexport default function RenameMenuItem( { template, onClose } ) {\n\tconst [ title, setTitle ] = useState( () => template.title.rendered );\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\n\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\tuseDispatch( coreStore );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tif ( ! template.is_custom ) {\n\t\treturn null;\n\t}\n\n\tasync function onTemplateRename( event ) {\n\t\tevent.preventDefault();\n\n\t\ttry {\n\t\t\tawait editEntityRecord( 'postType', template.type, template.id, {\n\t\t\t\ttitle,\n\t\t\t} );\n\n\t\t\t// Update state before saving rerenders the list.\n\t\t\tsetTitle( '' );\n\t\t\tsetIsModalOpen( false );\n\t\t\tonClose();\n\n\t\t\t// Persist edited entity.\n\t\t\tawait saveEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\ttemplate.type,\n\t\t\t\ttemplate.id,\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\n\t\t\tcreateSuccessNotice( __( 'Entity renamed.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while renaming the entity.' );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<MenuItem\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsModalOpen( true );\n\t\t\t\t\tsetTitle( template.title.rendered );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ __( 'Rename' ) }\n\t\t\t</MenuItem>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ __( 'Rename' ) }\n\t\t\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\t\t\tonRequestClose={ () => {\n\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t} }\n\t\t\t\t\toverlayClassName=\"edit-site-list__rename-modal\"\n\t\t\t\t>\n\t\t\t\t\t<form onSubmit={ onTemplateRename }>\n\t\t\t\t\t\t<Flex align=\"flex-start\" gap={ 8 }>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t</Flex>\n\n\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\tclassName=\"edit-site-list__rename-modal-actions\"\n\t\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t\t\texpanded={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" type=\"submit\">\n\t\t\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t</form>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport { DropdownMenu, MenuGroup, MenuItem } from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\nimport isTemplateRemovable from '../../../utils/is-template-removable';\nimport isTemplateRevertable from '../../../utils/is-template-revertable';\nimport RenameMenuItem from './rename-menu-item';\n\nexport default function Actions( { template } ) {\n\tconst { removeTemplate, revertTemplate } = useDispatch( editSiteStore );\n\tconst { saveEditedEntityRecord } = useDispatch( coreStore );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tconst isRemovable = isTemplateRemovable( template );\n\tconst isRevertable = isTemplateRevertable( template );\n\n\tif ( ! isRemovable && ! isRevertable ) {\n\t\treturn null;\n\t}\n\n\tasync function revertAndSaveTemplate() {\n\t\ttry {\n\t\t\tawait revertTemplate( template, { allowUndo: false } );\n\t\t\tawait saveEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\ttemplate.type,\n\t\t\t\ttemplate.id\n\t\t\t);\n\n\t\t\tcreateSuccessNotice( __( 'Entity reverted.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while reverting the entity.' );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t}\n\n\treturn (\n\t\t<DropdownMenu\n\t\t\ticon={ moreVertical }\n\t\t\tlabel={ __( 'Actions' ) }\n\t\t\tclassName=\"edit-site-list-table__actions\"\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<MenuGroup>\n\t\t\t\t\t{ isRemovable && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RenameMenuItem\n\t\t\t\t\t\t\t\ttemplate={ template }\n\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tremoveTemplate( template );\n\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isRevertable && (\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t'Use the template as supplied by the theme.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\trevertAndSaveTemplate();\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Clear customizations' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t) }\n\t\t\t\t</MenuGroup>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n","/**\n * Check if a template is removable.\n *\n * @param {Object} template The template entity to check.\n * @return {boolean} Whether the template is revertable.\n */\nexport default function isTemplateRemovable( template ) {\n\tif ( ! template ) {\n\t\treturn false;\n\t}\n\n\treturn template.source === 'custom' && ! template.has_theme_file;\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plugins = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M10.5 4v4h3V4H15v4h1.5a1 1 0 011 1v4l-3 4v2a1 1 0 01-1 1h-3a1 1 0 01-1-1v-2l-3-4V9a1 1 0 011-1H9V4h1.5zm.5 12.5v2h2v-2l3-4v-3H8v3l3 4z\" />\n\t</SVG>\n);\n\nexport default plugins;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst commentAuthorAvatar = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M7.25 16.437a6.5 6.5 0 1 1 9.5 0V16A2.75 2.75 0 0 0 14 13.25h-4A2.75 2.75 0 0 0 7.25 16v.437Zm1.5 1.193a6.47 6.47 0 0 0 3.25.87 6.47 6.47 0 0 0 3.25-.87V16c0-.69-.56-1.25-1.25-1.25h-4c-.69 0-1.25.56-1.25 1.25v1.63ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm10-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default commentAuthorAvatar;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst globe = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 3.3c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8s-4-8.8-8.8-8.8zm6.5 5.5h-2.6C15.4 7.3 14.8 6 14 5c2 .6 3.6 2 4.5 3.8zm.7 3.2c0 .6-.1 1.2-.2 1.8h-2.9c.1-.6.1-1.2.1-1.8s-.1-1.2-.1-1.8H19c.2.6.2 1.2.2 1.8zM12 18.7c-1-.7-1.8-1.9-2.3-3.5h4.6c-.5 1.6-1.3 2.9-2.3 3.5zm-2.6-4.9c-.1-.6-.1-1.1-.1-1.8 0-.6.1-1.2.1-1.8h5.2c.1.6.1 1.1.1 1.8s-.1 1.2-.1 1.8H9.4zM4.8 12c0-.6.1-1.2.2-1.8h2.9c-.1.6-.1 1.2-.1 1.8 0 .6.1 1.2.1 1.8H5c-.2-.6-.2-1.2-.2-1.8zM12 5.3c1 .7 1.8 1.9 2.3 3.5H9.7c.5-1.6 1.3-2.9 2.3-3.5zM10 5c-.8 1-1.4 2.3-1.8 3.8H5.5C6.4 7 8 5.6 10 5zM5.5 15.3h2.6c.4 1.5 1 2.8 1.8 3.7-1.8-.6-3.5-2-4.4-3.7zM14 19c.8-1 1.4-2.2 1.8-3.7h2.6C17.6 17 16 18.4 14 19z\" />\n\t</SVG>\n);\n\nexport default globe;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\tIcon,\n\tTooltip,\n} from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport {\n\tcommentAuthorAvatar as authorIcon,\n\tlayout as themeIcon,\n\tplugins as pluginIcon,\n\tglobe as globeIcon,\n} from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n\nconst TEMPLATE_POST_TYPE_NAMES = [ 'wp_template', 'wp_template_part' ];\n\nfunction CustomizedTooltip( { isCustomized, children } ) {\n\tif ( ! isCustomized ) {\n\t\treturn children;\n\t}\n\n\treturn (\n\t\t<Tooltip text={ __( 'This template has been customized' ) }>\n\t\t\t{ children }\n\t\t</Tooltip>\n\t);\n}\n\nfunction BaseAddedBy( { text, icon, imageUrl, isCustomized } ) {\n\tconst [ isImageLoaded, setIsImageLoaded ] = useState( false );\n\n\treturn (\n\t\t<HStack alignment=\"left\">\n\t\t\t<CustomizedTooltip isCustomized={ isCustomized }>\n\t\t\t\t{ imageUrl ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'edit-site-list-added-by__avatar',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-loaded': isImageLoaded,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tonLoad={ () => setIsImageLoaded( true ) }\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tsrc={ imageUrl }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'edit-site-list-added-by__icon',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-customized': isCustomized,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</CustomizedTooltip>\n\t\t\t<span>{ text }</span>\n\t\t</HStack>\n\t);\n}\n\nfunction AddedByTheme( { slug, isCustomized } ) {\n\tconst theme = useSelect(\n\t\t( select ) => select( coreStore ).getTheme( slug ),\n\t\t[ slug ]\n\t);\n\n\treturn (\n\t\t<BaseAddedBy\n\t\t\ticon={ themeIcon }\n\t\t\ttext={ theme?.name?.rendered || slug }\n\t\t\tisCustomized={ isCustomized }\n\t\t/>\n\t);\n}\n\nfunction AddedByPlugin( { slug, isCustomized } ) {\n\tconst plugin = useSelect(\n\t\t( select ) => select( coreStore ).getPlugin( slug ),\n\t\t[ slug ]\n\t);\n\n\treturn (\n\t\t<BaseAddedBy\n\t\t\ticon={ pluginIcon }\n\t\t\ttext={ plugin?.name || slug }\n\t\t\tisCustomized={ isCustomized }\n\t\t/>\n\t);\n}\n\nfunction AddedByAuthor( { id } ) {\n\tconst user = useSelect(\n\t\t( select ) => select( coreStore ).getUser( id ),\n\t\t[ id ]\n\t);\n\n\treturn (\n\t\t<BaseAddedBy\n\t\t\ticon={ authorIcon }\n\t\t\timageUrl={ user?.avatar_urls?.[ 48 ] }\n\t\t\ttext={ user?.nickname }\n\t\t/>\n\t);\n}\n\nfunction AddedBySite() {\n\tconst { name, logoURL } = useSelect( ( select ) => {\n\t\tconst { getEntityRecord, getMedia } = select( coreStore );\n\t\tconst siteData = getEntityRecord( 'root', '__unstableBase' );\n\n\t\treturn {\n\t\t\tname: siteData?.name,\n\t\t\tlogoURL: siteData?.site_logo\n\t\t\t\t? getMedia( siteData.site_logo )?.source_url\n\t\t\t\t: undefined,\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<BaseAddedBy icon={ globeIcon } imageUrl={ logoURL } text={ name } />\n\t);\n}\n\nexport default function AddedBy( { templateType, template } ) {\n\tif ( ! template ) {\n\t\treturn;\n\t}\n\n\tif ( TEMPLATE_POST_TYPE_NAMES.includes( templateType ) ) {\n\t\t// Template originally provided by a theme, but customized by a user.\n\t\t// Templates originally didn't have the 'origin' field so identify\n\t\t// older customized templates by checking for no origin and a 'theme'\n\t\t// or 'custom' source.\n\t\tif (\n\t\t\ttemplate.has_theme_file &&\n\t\t\t( template.origin === 'theme' ||\n\t\t\t\t( ! template.origin &&\n\t\t\t\t\t[ 'theme', 'custom' ].includes( template.source ) ) )\n\t\t) {\n\t\t\treturn (\n\t\t\t\t<AddedByTheme\n\t\t\t\t\tslug={ template.theme }\n\t\t\t\t\tisCustomized={ template.source === 'custom' }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\t// Template originally provided by a plugin, but customized by a user.\n\t\tif ( template.has_theme_file && template.origin === 'plugin' ) {\n\t\t\treturn (\n\t\t\t\t<AddedByPlugin\n\t\t\t\t\tslug={ template.theme }\n\t\t\t\t\tisCustomized={ template.source === 'custom' }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\t// Template was created from scratch, but has no author. Author support\n\t\t// was only added to templates in WordPress 5.9. Fallback to showing the\n\t\t// site logo and title.\n\t\tif (\n\t\t\t! template.has_theme_file &&\n\t\t\ttemplate.source === 'custom' &&\n\t\t\t! template.author\n\t\t) {\n\t\t\treturn <AddedBySite />;\n\t\t}\n\t}\n\n\t// Simply show the author for templates created from scratch that have an\n\t// author or for any other post type.\n\treturn <AddedByAuthor id={ template.author } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore, useEntityRecords } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tVisuallyHidden,\n\t__experimentalHeading as Heading,\n} from '@wordpress/components';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport Link from '../routes/link';\nimport Actions from './actions';\nimport AddedBy from './added-by';\n\nexport default function Table( { templateType } ) {\n\tconst { records: templates, isResolving: isLoading } = useEntityRecords(\n\t\t'postType',\n\t\ttemplateType,\n\t\t{\n\t\t\tper_page: -1,\n\t\t}\n\t);\n\tconst postType = useSelect(\n\t\t( select ) => select( coreStore ).getPostType( templateType ),\n\t\t[ templateType ]\n\t);\n\n\tif ( ! templates || isLoading ) {\n\t\treturn null;\n\t}\n\n\tif ( ! templates.length ) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: The template type name, should be either \"templates\" or \"template parts\".\n\t\t\t\t\t__( 'No %s found.' ),\n\t\t\t\t\tpostType?.labels?.name?.toLowerCase()\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t// These explicit aria roles are needed for Safari.\n\t\t// See https://developer.mozilla.org/en-US/docs/Web/CSS/display#tables\n\t\t<table className=\"edit-site-list-table\" role=\"table\">\n\t\t\t<thead>\n\t\t\t\t<tr className=\"edit-site-list-table-head\" role=\"row\">\n\t\t\t\t\t<th\n\t\t\t\t\t\tclassName=\"edit-site-list-table-column\"\n\t\t\t\t\t\trole=\"columnheader\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Template' ) }\n\t\t\t\t\t</th>\n\t\t\t\t\t<th\n\t\t\t\t\t\tclassName=\"edit-site-list-table-column\"\n\t\t\t\t\t\trole=\"columnheader\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Added by' ) }\n\t\t\t\t\t</th>\n\t\t\t\t\t<th\n\t\t\t\t\t\tclassName=\"edit-site-list-table-column\"\n\t\t\t\t\t\trole=\"columnheader\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<VisuallyHidden>{ __( 'Actions' ) }</VisuallyHidden>\n\t\t\t\t\t</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\n\t\t\t<tbody>\n\t\t\t\t{ templates.map( ( template ) => (\n\t\t\t\t\t<tr\n\t\t\t\t\t\tkey={ template.id }\n\t\t\t\t\t\tclassName=\"edit-site-list-table-row\"\n\t\t\t\t\t\trole=\"row\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<td className=\"edit-site-list-table-column\" role=\"cell\">\n\t\t\t\t\t\t\t<Heading level={ 4 }>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tparams={ {\n\t\t\t\t\t\t\t\t\t\tpostId: template.id,\n\t\t\t\t\t\t\t\t\t\tpostType: template.type,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ decodeEntities(\n\t\t\t\t\t\t\t\t\t\ttemplate.title?.rendered ||\n\t\t\t\t\t\t\t\t\t\t\ttemplate.slug\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t{ decodeEntities( template.description ) }\n\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t<td className=\"edit-site-list-table-column\" role=\"cell\">\n\t\t\t\t\t\t\t<AddedBy\n\t\t\t\t\t\t\t\ttemplateType={ templateType }\n\t\t\t\t\t\t\t\ttemplate={ template }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td className=\"edit-site-list-table-column\" role=\"cell\">\n\t\t\t\t\t\t\t<Actions template={ template } />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t) ) }\n\t\t\t</tbody>\n\t\t</table>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { InterfaceSkeleton } from '@wordpress/interface';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { EditorSnackbars } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport useRegisterShortcuts from './use-register-shortcuts';\nimport Header from './header';\nimport NavigationSidebar from '../navigation-sidebar';\nimport Table from './table';\nimport { store as editSiteStore } from '../../store';\nimport { useLocation } from '../routes';\nimport useTitle from '../routes/use-title';\n\nexport default function List() {\n\tconst {\n\t\tparams: { postType: templateType },\n\t} = useLocation();\n\n\tuseRegisterShortcuts();\n\n\tconst { previousShortcut, nextShortcut, isNavigationOpen } = useSelect(\n\t\t( select ) => {\n\t\t\treturn {\n\t\t\t\tpreviousShortcut: select(\n\t\t\t\t\tkeyboardShortcutsStore\n\t\t\t\t).getAllShortcutKeyCombinations(\n\t\t\t\t\t'core/edit-site/previous-region'\n\t\t\t\t),\n\t\t\t\tnextShortcut: select(\n\t\t\t\t\tkeyboardShortcutsStore\n\t\t\t\t).getAllShortcutKeyCombinations( 'core/edit-site/next-region' ),\n\t\t\t\tisNavigationOpen: select( editSiteStore ).isNavigationOpened(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst postType = useSelect(\n\t\t( select ) => select( coreStore ).getPostType( templateType ),\n\t\t[ templateType ]\n\t);\n\n\tuseTitle( postType?.labels?.name );\n\n\t// `postType` could load in asynchronously. Only provide the detailed region labels if\n\t// the postType has loaded, otherwise `InterfaceSkeleton` will fallback to the defaults.\n\tconst itemsListLabel = postType?.labels?.items_list;\n\tconst detailedRegionLabels = postType\n\t\t? {\n\t\t\t\theader: sprintf(\n\t\t\t\t\t// translators: %s - the name of the page, 'Header' as in the header area of that page.\n\t\t\t\t\t__( '%s - Header' ),\n\t\t\t\t\titemsListLabel\n\t\t\t\t),\n\t\t\t\tbody: sprintf(\n\t\t\t\t\t// translators: %s - the name of the page, 'Content' as in the content area of that page.\n\t\t\t\t\t__( '%s - Content' ),\n\t\t\t\t\titemsListLabel\n\t\t\t\t),\n\t\t  }\n\t\t: undefined;\n\n\treturn (\n\t\t<InterfaceSkeleton\n\t\t\tclassName={ classnames( 'edit-site-list', {\n\t\t\t\t'is-navigation-open': isNavigationOpen,\n\t\t\t} ) }\n\t\t\tlabels={ {\n\t\t\t\tdrawer: __( 'Navigation Sidebar' ),\n\t\t\t\t...detailedRegionLabels,\n\t\t\t} }\n\t\t\theader={ <Header templateType={ templateType } /> }\n\t\t\tdrawer={ <NavigationSidebar.Slot /> }\n\t\t\tnotices={ <EditorSnackbars /> }\n\t\t\tcontent={ <Table templateType={ templateType } /> }\n\t\t\tshortcuts={ {\n\t\t\t\tprevious: previousShortcut,\n\t\t\t\tnext: nextShortcut,\n\t\t\t} }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\n\nimport { useDispatch } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\nexport default function useRegisterShortcuts() {\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/next-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the next part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrl',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'n',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/previous-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the previous part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'p',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\t\tcharacter: '~',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\t}, [] );\n}\n","/**\n * Returns if the params match the list page route.\n *\n * @param {Object} params          The search params.\n * @param {string} params.postId   The post ID.\n * @param {string} params.postType The post type.\n * @return {boolean} Is list page or not.\n */\nexport default function getIsListPage( { postId, postType } ) {\n\treturn !! ( ! postId && postType );\n}\n","/**\n * WordPress dependencies\n */\nimport { SlotFillProvider } from '@wordpress/components';\nimport { UnsavedChangesWarning } from '@wordpress/editor';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useDispatch } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { PluginArea } from '@wordpress/plugins';\n\n/**\n * Internal dependencies\n */\nimport { Routes } from '../routes';\nimport Editor from '../editor';\nimport List from '../list';\nimport NavigationSidebar from '../navigation-sidebar';\nimport getIsListPage from '../../utils/get-is-list-page';\n\nexport default function EditSiteApp( { reboot, homeTemplate } ) {\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tfunction onPluginAreaError( name ) {\n\t\tcreateErrorNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: plugin name */\n\t\t\t\t__(\n\t\t\t\t\t'The \"%s\" plugin has encountered an error and cannot be rendered.'\n\t\t\t\t),\n\t\t\t\tname\n\t\t\t)\n\t\t);\n\t}\n\n\treturn (\n\t\t<SlotFillProvider>\n\t\t\t<UnsavedChangesWarning />\n\n\t\t\t<Routes>\n\t\t\t\t{ ( { params } ) => {\n\t\t\t\t\tconst isListPage = getIsListPage( params );\n\n\t\t\t\t\t// The existence of a 'front-page' supersedes every other setting.\n\t\t\t\t\tconst homeTemplateType =\n\t\t\t\t\t\tparams.postId?.includes( 'front-page' ) ||\n\t\t\t\t\t\tparams.postId === homeTemplate?.postId\n\t\t\t\t\t\t\t? 'site-editor'\n\t\t\t\t\t\t\t: undefined;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ isListPage ? (\n\t\t\t\t\t\t\t\t<List />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Editor onError={ reboot } />\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<PluginArea onError={ onPluginAreaError } />\n\t\t\t\t\t\t\t{ /* Keep the instance of the sidebar to ensure focus will not be lost\n\t\t\t\t\t\t\t * when navigating to other pages. */ }\n\t\t\t\t\t\t\t<NavigationSidebar\n\t\t\t\t\t\t\t\t// Open the navigation sidebar by default when in the list page.\n\t\t\t\t\t\t\t\tisDefaultOpen={ !! isListPage }\n\t\t\t\t\t\t\t\tactiveTemplateType={\n\t\t\t\t\t\t\t\t\tisListPage\n\t\t\t\t\t\t\t\t\t\t? params.postType\n\t\t\t\t\t\t\t\t\t\t: homeTemplateType\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t</Routes>\n\t\t</SlotFillProvider>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { ComplementaryArea } from '@wordpress/interface';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\n/**\n * Renders a sidebar when activated. The contents within the `PluginSidebar` will appear as content within the sidebar.\n * It also automatically renders a corresponding `PluginSidebarMenuItem` component when `isPinnable` flag is set to `true`.\n * If you wish to display the sidebar, you can with use the `PluginSidebarMoreMenuItem` component or the `wp.data.dispatch` API:\n *\n * ```js\n * wp.data.dispatch( 'core/edit-site' ).openGeneralSidebar( 'plugin-name/sidebar-name' );\n * ```\n *\n * @see PluginSidebarMoreMenuItem\n *\n * @param {Object}                props                                 Element props.\n * @param {string}                props.name                            A string identifying the sidebar. Must be unique for every sidebar registered within the scope of your plugin.\n * @param {string}                [props.className]                     An optional class name added to the sidebar body.\n * @param {string}                props.title                           Title displayed at the top of the sidebar.\n * @param {boolean}               [props.isPinnable=true]               Whether to allow to pin sidebar to the toolbar. When set to `true` it also automatically renders a corresponding menu item.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered when the sidebar is pinned to toolbar.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var el = wp.element.createElement;\n * var PanelBody = wp.components.PanelBody;\n * var PluginSidebar = wp.editSite.PluginSidebar;\n * var moreIcon = wp.element.createElement( 'svg' ); //... svg element.\n *\n * function MyPluginSidebar() {\n * \treturn el(\n * \t\t\tPluginSidebar,\n * \t\t\t{\n * \t\t\t\tname: 'my-sidebar',\n * \t\t\t\ttitle: 'My sidebar title',\n * \t\t\t\ticon: moreIcon,\n * \t\t\t},\n * \t\t\tel(\n * \t\t\t\tPanelBody,\n * \t\t\t\t{},\n * \t\t\t\t__( 'My sidebar content' )\n * \t\t\t)\n * \t);\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PanelBody } from '@wordpress/components';\n * import { PluginSidebar } from '@wordpress/edit-site';\n * import { more } from '@wordpress/icons';\n *\n * const MyPluginSidebar = () => (\n * \t<PluginSidebar\n * \t\tname=\"my-sidebar\"\n * \t\ttitle=\"My sidebar title\"\n * \t\ticon={ more }\n * \t>\n * \t\t<PanelBody>\n * \t\t\t{ __( 'My sidebar content' ) }\n * \t\t</PanelBody>\n * \t</PluginSidebar>\n * );\n * ```\n */\nexport default function PluginSidebarEditSite( { className, ...props } ) {\n\tconst showIconLabels = useSelect(\n\t\t( select ) => select( editSiteStore ).getSettings().showIconLabels,\n\t\t[]\n\t);\n\n\treturn (\n\t\t<ComplementaryArea\n\t\t\tpanelClassName={ className }\n\t\t\tclassName=\"edit-site-sidebar-edit-mode\"\n\t\t\tscope=\"core/edit-site\"\n\t\t\tshowIconLabels={ showIconLabels }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { ComplementaryAreaMoreMenuItem } from '@wordpress/interface';\n\n/**\n * Renders a menu item in `Plugins` group in `More Menu` drop down,\n * and can be used to activate the corresponding `PluginSidebar` component.\n * The text within the component appears as the menu item label.\n *\n * @param {Object}                props                                 Component props.\n * @param {string}                props.target                          A string identifying the target sidebar you wish to be activated by this menu item. Must be the same as the `name` prop you have given to that sidebar.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered to the left of the menu item label.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginSidebarMoreMenuItem = wp.editSite.PluginSidebarMoreMenuItem;\n * var moreIcon = wp.element.createElement( 'svg' ); //... svg element.\n *\n * function MySidebarMoreMenuItem() {\n * \treturn wp.element.createElement(\n * \t\tPluginSidebarMoreMenuItem,\n * \t\t{\n * \t\t\ttarget: 'my-sidebar',\n * \t\t\ticon: moreIcon,\n * \t\t},\n * \t\t__( 'My sidebar title' )\n * \t)\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginSidebarMoreMenuItem } from '@wordpress/edit-site';\n * import { more } from '@wordpress/icons';\n *\n * const MySidebarMoreMenuItem = () => (\n * \t<PluginSidebarMoreMenuItem\n * \t\ttarget=\"my-sidebar\"\n * \t\ticon={ more }\n * \t>\n * \t\t{ __( 'My sidebar title' ) }\n * \t</PluginSidebarMoreMenuItem>\n * );\n * ```\n *\n * @return {WPComponent} The component to be rendered.\n */\n\nexport default function PluginSidebarMoreMenuItem( props ) {\n\treturn (\n\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t// Menu item is marked with unstable prop for backward compatibility.\n\t\t\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t\t\t__unstableExplicitMenuItem\n\t\t\tscope=\"core/edit-site\"\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { ActionItem } from '@wordpress/interface';\nimport { compose } from '@wordpress/compose';\nimport { MenuItem } from '@wordpress/components';\nimport { withPluginContext } from '@wordpress/plugins';\n\n/**\n * Renders a menu item in `Plugins` group in `More Menu` drop down, and can be used to as a button or link depending on the props provided.\n * The text within the component appears as the menu item label.\n *\n * @param {Object}                props                                 Component properties.\n * @param {string}                [props.href]                          When `href` is provided then the menu item is represented as an anchor rather than button. It corresponds to the `href` attribute of the anchor.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered to the left of the menu item label.\n * @param {Function}              [props.onClick=noop]                  The callback function to be executed when the user clicks the menu item.\n * @param {...*}                  [props.other]                         Any additional props are passed through to the underlying [Button](/packages/components/src/button/README.md) component.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginMoreMenuItem = wp.editSite.PluginMoreMenuItem;\n * var moreIcon = wp.element.createElement( 'svg' ); //... svg element.\n *\n * function onButtonClick() {\n * \talert( 'Button clicked.' );\n * }\n *\n * function MyButtonMoreMenuItem() {\n * \treturn wp.element.createElement(\n * \t\tPluginMoreMenuItem,\n * \t\t{\n * \t\t\ticon: moreIcon,\n * \t\t\tonClick: onButtonClick,\n * \t\t},\n * \t\t__( 'My button title' )\n * \t);\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginMoreMenuItem } from '@wordpress/edit-site';\n * import { more } from '@wordpress/icons';\n *\n * function onButtonClick() {\n * \talert( 'Button clicked.' );\n * }\n *\n * const MyButtonMoreMenuItem = () => (\n * \t<PluginMoreMenuItem\n * \t\ticon={ more }\n * \t\tonClick={ onButtonClick }\n * \t>\n * \t\t{ __( 'My button title' ) }\n * \t</PluginMoreMenuItem>\n * );\n * ```\n *\n * @return {WPComponent} The component to be rendered.\n */\nexport default compose(\n\twithPluginContext( ( context, ownProps ) => {\n\t\treturn {\n\t\t\tas: ownProps.as ?? MenuItem,\n\t\t\ticon: ownProps.icon || context.icon,\n\t\t\tname: 'core/edit-site/plugin-more-menu',\n\t\t};\n\t} )\n)( ActionItem );\n","/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport {\n\tregisterCoreBlocks,\n\t__experimentalRegisterExperimentalCoreBlocks,\n} from '@wordpress/block-library';\nimport { dispatch, select } from '@wordpress/data';\nimport { render, unmountComponentAtNode } from '@wordpress/element';\nimport {\n\t__experimentalFetchLinkSuggestions as fetchLinkSuggestions,\n\t__experimentalFetchUrlData as fetchUrlData,\n} from '@wordpress/core-data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { __ } from '@wordpress/i18n';\nimport { store as viewportStore } from '@wordpress/viewport';\nimport { getQueryArgs } from '@wordpress/url';\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport './hooks';\nimport { store as editSiteStore } from './store';\nimport EditSiteApp from './components/app';\nimport getIsListPage from './utils/get-is-list-page';\nimport ErrorBoundaryWarning from './components/error-boundary/warning';\n\n/**\n * Reinitializes the editor after the user chooses to reboot the editor after\n * an unhandled error occurs, replacing previously mounted editor element using\n * an initial state from prior to the crash.\n *\n * @param {Element} target   DOM node in which editor is rendered.\n * @param {?Object} settings Editor settings object.\n */\nexport function reinitializeEditor( target, settings ) {\n\t// Display warning if editor wasn't able to resolve homepage template.\n\tif ( ! settings.__unstableHomeTemplate ) {\n\t\trender(\n\t\t\t<ErrorBoundaryWarning\n\t\t\t\tmessage={ __(\n\t\t\t\t\t'The editor is unable to find a block template for the homepage.'\n\t\t\t\t) }\n\t\t\t\tdashboardLink={\n\t\t\t\t\tsettings.__experimentalDashboardLink ?? 'index.php'\n\t\t\t\t}\n\t\t\t/>,\n\t\t\ttarget\n\t\t);\n\t\treturn;\n\t}\n\n\t/*\n\t * Prevent adding the Clasic block in the site editor.\n\t * Only add the filter when the site editor is initialized, not imported.\n\t * Also only add the filter(s) after registerCoreBlocks()\n\t * so that common filters in the block library are not overwritten.\n\t *\n\t * This usage here is inspired by previous usage of the filter in the post editor:\n\t * https://github.com/WordPress/gutenberg/pull/37157\n\t */\n\taddFilter(\n\t\t'blockEditor.__unstableCanInsertBlockType',\n\t\t'removeClassicBlockFromInserter',\n\t\t( canInsert, blockType ) => {\n\t\t\tif ( blockType.name === 'core/freeform' ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn canInsert;\n\t\t}\n\t);\n\n\t// This will be a no-op if the target doesn't have any React nodes.\n\tunmountComponentAtNode( target );\n\tconst reboot = reinitializeEditor.bind( null, target, settings );\n\n\t// We dispatch actions and update the store synchronously before rendering\n\t// so that we won't trigger unnecessary re-renders with useEffect.\n\t{\n\t\tdispatch( preferencesStore ).setDefaults( 'core/edit-site', {\n\t\t\teditorMode: 'visual',\n\t\t\tfixedToolbar: false,\n\t\t\tfocusMode: false,\n\t\t\tkeepCaretInsideBlock: false,\n\t\t\twelcomeGuide: true,\n\t\t\twelcomeGuideStyles: true,\n\t\t\tshowListViewByDefault: false,\n\t\t} );\n\n\t\t// Check if the block list view should be open by default.\n\t\tif (\n\t\t\tselect( preferencesStore ).get(\n\t\t\t\t'core/edit-site',\n\t\t\t\t'showListViewByDefault'\n\t\t\t)\n\t\t) {\n\t\t\tdispatch( editSiteStore ).setIsListViewOpened( true );\n\t\t}\n\n\t\tdispatch( interfaceStore ).setDefaultComplementaryArea(\n\t\t\t'core/edit-site',\n\t\t\t'edit-site/template'\n\t\t);\n\n\t\tdispatch( editSiteStore ).updateSettings( settings );\n\n\t\t// Keep the defaultTemplateTypes in the core/editor settings too,\n\t\t// so that they can be selected with core/editor selectors in any editor.\n\t\t// This is needed because edit-site doesn't initialize with EditorProvider,\n\t\t// which internally uses updateEditorSettings as well.\n\t\tdispatch( editorStore ).updateEditorSettings( {\n\t\t\tdefaultTemplateTypes: settings.defaultTemplateTypes,\n\t\t\tdefaultTemplatePartAreas: settings.defaultTemplatePartAreas,\n\t\t} );\n\n\t\tconst isLandingOnListPage = getIsListPage(\n\t\t\tgetQueryArgs( window.location.href )\n\t\t);\n\n\t\tif ( isLandingOnListPage ) {\n\t\t\t// Default the navigation panel to be opened when we're in a bigger\n\t\t\t// screen and land in the list screen.\n\t\t\tdispatch( editSiteStore ).setIsNavigationPanelOpened(\n\t\t\t\tselect( viewportStore ).isViewportMatch( 'medium' )\n\t\t\t);\n\t\t}\n\t}\n\n\t// Prevent the default browser action for files dropped outside of dropzones.\n\twindow.addEventListener( 'dragover', ( e ) => e.preventDefault(), false );\n\twindow.addEventListener( 'drop', ( e ) => e.preventDefault(), false );\n\n\trender(\n\t\t<EditSiteApp\n\t\t\treboot={ reboot }\n\t\t\thomeTemplate={ settings.__unstableHomeTemplate }\n\t\t/>,\n\t\ttarget\n\t);\n}\n\n/**\n * Initializes the site editor screen.\n *\n * @param {string} id       ID of the root element to render the screen in.\n * @param {Object} settings Editor settings.\n */\nexport function initializeEditor( id, settings ) {\n\tsettings.__experimentalFetchLinkSuggestions = ( search, searchOptions ) =>\n\t\tfetchLinkSuggestions( search, searchOptions, settings );\n\tsettings.__experimentalFetchRichUrlData = fetchUrlData;\n\n\tconst target = document.getElementById( id );\n\n\tdispatch( blocksStore ).__experimentalReapplyBlockTypeFilters();\n\tregisterCoreBlocks();\n\tif ( process.env.IS_GUTENBERG_PLUGIN ) {\n\t\t__experimentalRegisterExperimentalCoreBlocks( {\n\t\t\tenableFSEBlocks: true,\n\t\t} );\n\t}\n\n\treinitializeEditor( target, settings );\n}\n\nexport { default as __experimentalNavigationToggle } from './components/navigation-sidebar/navigation-toggle';\nexport { default as PluginSidebar } from './components/sidebar-edit-mode/plugin-sidebar';\nexport { default as PluginSidebarMoreMenuItem } from './components/header-edit-mode/plugin-sidebar-more-menu-item';\nexport { default as PluginMoreMenuItem } from './components/header-edit-mode/plugin-more-menu-item';\n"],"names":["module","exports","keys","values","map","Map","has","key","indexOf","get","set","value","push","delete","index","splice","createEvent","name","Event","bubbles","e","evt","document","initEvent","assign","ta","nodeName","heightOffset","clientWidth","cachedHeight","pageResize","update","destroy","style","window","removeEventListener","Object","forEach","bind","height","resize","overflowY","overflowX","wordWrap","addEventListener","getComputedStyle","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","changeOverflow","width","offsetWidth","scrollHeight","overflows","el","arr","parentNode","Element","scrollTop","node","getParentOverflows","docTop","documentElement","styleHeight","Math","round","computed","actualHeight","offsetHeight","dispatchEvent","err","methods","autosize","options","Array","prototype","call","length","x","default","hasOwn","hasOwnProperty","classNames","classes","i","arguments","arg","argType","isArray","inner","apply","toString","join","prop","currentStyle","replace","word","letter","toUpperCase","download","data","strFileName","strMimeType","blob","reader","self","defaultMime","mimeType","payload","url","anchor","createElement","a","String","myBlob","Blob","MozBlob","WebKitBlob","fileName","this","split","pop","href","ajax","XMLHttpRequest","open","responseType","onload","target","response","setTimeout","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","type","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","binData","atob","decodeURIComponent","uiArr","winMode","setAttribute","className","innerHTML","display","body","appendChild","click","removeChild","URL","revokeObjectURL","userAgent","confirm","location","f","src","createObjectURL","constructor","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","computedStyle","lnHeightStr","lnHeight","_lnHeightStyle","lineHeight","_node","fontSizeStr","fontSize","padding","border","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","propFullName","secret","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","extendStatics","__extends","setPrototypeOf","__proto__","d","b","p","__","create","__assign","t","s","n","__rest","getOwnPropertySymbols","__esModule","React","getLineHeight","RESIZED","TextareaAutosizeClass","_super","_this","state","textarea","onResize","updateLineHeight","setState","onChange","currentValue","currentTarget","componentDidMount","_a","maxRows","async","componentWillUnmount","render","_b","children","innerRef","maxHeight","ref","current","componentDidUpdate","defaultProps","rows","propTypes","Component","TextareaAutosize","forwardRef","TextareaAutosize_1","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","o","defineProperty","enumerable","obj","r","Symbol","toStringTag","source","SVG","xmlns","viewBox","Path","fillRule","clipRule","setDefaultComplementaryArea","scope","area","enableComplementaryArea","registry","dispatch","select","preferencesStore","disableComplementaryArea","pinItem","item","pinnedItems","unpinItem","toggleFeature","featureName","deprecated","since","alternative","toggle","setFeatureValue","setFeatureDefaults","defaults","setDefaults","getActiveComplementaryArea","createRegistrySelector","isComplementaryAreaVisible","complementaryAreas","isItemPinned","isFeatureActive","combineReducers","action","store","createReduxStore","reducer","actions","selectors","register","withPluginContext","context","ownProps","icon","identifier","complementaryAreaContext","as","Button","selectedIcon","ComponentToUse","isSelected","useSelect","interfaceStore","useDispatch","onClick","smallScreenTitle","toggleButtonProps","toggleButton","closeSmall","classnames","tabIndex","noop","ActionItem","Fill","fpOnClick","Slot","ButtonGroup","fillProps","bubblesVirtually","fills","Children","initializedByPlugins","__unstableExplicitMenuItem","__unstableTarget","child","includes","PluginsMenuItem","restProps","MenuItem","ComplementaryAreaMoreMenuItem","toggleProps","role","check","PinnedItems","ComplementaryAreaFill","ComplementaryAreaWrapped","withComplementaryAreaContext","closeLabel","header","headerClassName","isPinnable","panelClassName","title","toggleShortcut","isActiveByDefault","showIconLabels","isActive","isPinned","activeArea","isSmall","isLarge","_activeArea","viewportStore","isViewportMatch","previousIsSmall","useRef","shouldOpenWhenNotSmall","useEffect","useAdjustComplementaryListener","isPressed","label","showTooltip","variant","onClose","shortcut","starFilled","starEmpty","Panel","NavigableRegion","ariaLabel","Tag","isDistractionFree","footer","editorNotices","sidebar","secondarySidebar","notices","content","drawer","labels","shortcuts","navigateRegionsProps","useNavigateRegions","querySelector","classList","useHTMLClass","mergedLabels","headerVariants","hidden","opacity","hover","transition","delay","delayChildren","useMergeRefs","motion","initial","whileHover","variants","MoreMenuDropdown","DropdownComponent","DropdownMenu","popoverProps","moreVertical","position","tooltipPosition","PreferencesModal","closeModal","Modal","onRequestClose","size","cloneElement","PREFERENCES_MENU","PreferencesModalTabs","sections","isLargeViewport","useViewportMatch","activeMenu","setActiveMenu","useState","tabs","sectionsContentMap","useMemo","mappedTabs","reduce","accumulator","tabLabel","getCurrentTab","useCallback","tab","modalContent","TabPanel","initialTabName","onSelect","orientation","initialPath","path","Card","isBorderless","CardBody","Item","isAction","justify","FlexItem","isRTL","chevronLeft","chevronRight","section","CardHeader","gap","description","help","isChecked","ToggleControl","__nextHasNoMarginBottom","checked","addFilter","MediaUpload","history","createBrowserHistory","originalHistoryPush","originalHistoryReplace","params","addQueryArgs","RoutesContext","createContext","HistoryContext","useLocation","useContext","useHistory","getLocationWithParams","searchParams","URLSearchParams","search","fromEntries","entries","Routes","setLocation","updatedLocation","Provider","useLink","shouldReplace","event","preventDefault","Link","EditTemplatePartMenuItem","attributes","theme","slug","templatePart","coreStore","getEntityRecord","linkProps","postId","id","postType","fromTemplateId","BlockControls","group","ToolbarButton","withEditBlockControls","createHigherOrderComponent","BlockEdit","isDisplayed","STORE_NAME","TEMPLATE_PART_AREA_GENERAL","TEMPLATES_TOP_LEVEL","TEMPLATES_GENERAL","TEMPLATES_POSTS_PREFIXES","TEMPLATES_PAGES_PREFIXES","TEMPLATE_OVERRIDES","singular","home","MENU_ROOT","MENU_TEMPLATES_GENERAL","TEMPLATE_PARTS_SUB_MENUS","menu","deviceType","settings","editedPost","templateId","page","templatePartId","homeTemplateId","navigationPanel","isOpen","blockInserterPanel","listViewPanel","saveViewPanel","isTemplateRevertable","template","has_theme_file","__experimentalSetPreviewDeviceType","setTemplate","templateSlug","resolveSelect","addTemplate","newTemplate","saveEntityRecord","editEntityRecord","blocks","parse","undoIgnore","removeTemplate","deleteEntityRecord","force","lastError","getLastEntityDeleteError","noticesStore","createSuccessNotice","sprintf","rendered","error","errorMessage","message","code","createErrorNotice","setTemplatePart","setHomeTemplateId","setPage","entity","getPathAndQueryString","link","__experimentalGetTemplateForLink","setNavigationPanelActiveMenu","openNavigationPanelToMenu","setIsNavigationPanelOpened","setIsInserterOpened","updateSettings","setIsListViewOpened","setIsSaveViewOpened","revertTemplate","allowUndo","templateEntityConfig","getEntityConfig","fileTemplatePath","baseURL","fileTemplate","apiFetch","serializeBlocks","blocksForSerialization","__unstableSerializeAndClean","edited","getEditedEntityRecord","raw","undoRevert","openGeneralSidebar","editSiteStoreName","closeGeneralSidebar","switchEditorMode","mode","blockEditorStore","clearSelectedBlock","speak","LEAF_KEY","isShallowEqual","fromIndex","isTemplateSuperseded","existingSlugs","showOnFront","every","overrideSlug","__unstableGetPreference","__experimentalGetPreviewDeviceType","getCanUserCreateMedia","coreDataStore","canUser","getReusableBlocks","Platform","getEntityRecords","per_page","getSettings","selector","getDependants","rootCache","normalizedGetDependants","getEditedPostType","getCache","dependants","dependant","cache","caches","isUniqueByDependants","WeakMap","clear","head","createCache","callSelector","args","len","lastDependants","next","prev","val","createSelector","setIsInserterOpen","outlineMode","focusMode","hasFixedToolbar","keepCaretInsideBlock","__experimentalSetIsInserterOpened","__experimentalReusableBlocks","__experimentalPreferPatternsOnRoot","mediaUpload","onError","rest","uploadMedia","wpAllowedMimeTypes","allowedMimeTypes","getHomeTemplateId","getCurrentEditedPost","getEditedPostId","getPage","getNavigationPanelActiveMenu","getCurrentTemplateNavigationPanelSubMenu","templateType","find","submenu","templates","show_on_front","some","prefix","startsWith","isNavigationOpened","isInserterOpened","__experimentalGetInsertionPoint","rootClientId","insertionIndex","filterValue","isListViewOpened","isSaveViewOpened","getCurrentTemplateTemplateParts","templateParts","templatePartsById","newTemplateParts","part","filter","block","isTemplatePart","getEditorMode","storeConfig","textFormattingShortcuts","keyCombination","modifier","character","KeyCombination","forceAriaLabel","displayShortcutList","shortcutAriaLabel","Fragment","Shortcut","aliases","alias","DynamicShortcut","getShortcutKeyCombination","getShortcutDescription","getShortcutAliases","keyboardShortcutsStore","ShortcutList","ShortcutSection","ShortcutCategorySection","categoryName","additionalShortcuts","categoryShortcuts","getCategoryShortcuts","concat","KeyboardShortcutHelpModal","isModalActive","toggleModal","EnableFeature","remainingProps","EditSitePreferencesModal","ToolsMoreMenuGroup","createSlotFill","isEmpty","SiteExport","headers","Accept","contentDispositionMatches","match","downloadjs","errorResponse","json","info","_x","WelcomeGuideMenuItem","CopyContentMenuItem","createNotice","getText","editSiteStore","record","useCopyToClipboard","isDismissible","MODES","getShortcutRepresentation","isRichEditingEnabled","richEditingEnabled","isCodeEditingEnabled","codeEditingEnabled","choices","choice","MenuGroup","MenuItemsChoice","MoreMenu","useReducer","isPreferencesModalActive","togglePreferencesModal","useShortcut","PreferenceToggleMenuItem","messageActivated","messageDeactivated","displayShortcut","external","rel","VisuallyHidden","SaveButton","isDirty","isSaving","isSaveViewOpen","__experimentalGetDirtyEntityRecords","isSavingEntityRecord","dirtyEntityRecords","kind","disabled","isBusy","hasUndo","undo","redoIcon","undoIcon","isAppleOS","hasRedo","redo","TemplatePartItemMore","closeTemplateDetailsDropdown","editLinkProps","TemplatePartItem","clientId","selectBlock","toggleBlockHighlight","templatePartArea","editorStore","__experimentalGetDefaultTemplatePartAreas","defaultArea","highlightBlock","cancelHighlightBlock","iconPosition","onMouseOver","onMouseLeave","onFocus","onBlur","TemplateAreas","EditTemplateTitle","forceEmpty","setForceEmpty","setTitle","useEntityProp","TextControl","newTitle","TemplatePartAreaSelector","setArea","areaOptions","_area","SelectControl","labelPosition","TemplateDetails","__experimentalGetTemplateInfo","browseAllLinkProps","canEditTitle","is_custom","spacing","weight","decodeEntities","getBlockDisplayText","blockType","getBlockType","getBlockLabel","DocumentActions","entityTitle","isLoaded","getTemplateInfo","_isLoaded","entityLabel","getBlock","activeEntityBlockId","__experimentalGetActiveBlockIdByBlockNames","blockInformation","useBlockDisplayInformation","useSecondaryText","popoverAnchor","setPopoverAnchor","BlockIcon","showColors","Dropdown","renderToggle","onToggle","chevronDown","contentClassName","renderContent","Header","inserterButton","isInserterOpen","isListViewOpen","listViewShortcut","isVisualMode","blockEditorMode","homeUrl","__unstableGetEditorMode","getUnstableBase","setPreviewDeviceType","__unstableSetEditorMode","openInserter","focus","toggleListView","isFocusMode","longLabel","shortLabel","isZoomedOutViewExperimentEnabled","__experimentalEnableZoomedOutView","isZoomedOutView","NavigableToolbar","ToolbarItem","onMouseDown","plus","ToolSelector","UndoButton","RedoButton","listView","chevronUpDown","setDeviceType","viewLabel","DefaultSidebar","IconWithCurrentColor","Icon","GenericNavigationButton","NavigationButtonAsItem","grad","turn","rad","PI","pow","u","isFinite","g","h","max","min","v","floor","l","c","m","exec","parseInt","substr","Number","N","M","$","j","parsed","trim","rgba","isValid","brightness","isDark","isLight","toHex","toRgb","toRgbString","toHsl","toHslString","toHsv","invert","w","saturate","desaturate","grayscale","lighten","darken","rotate","hue","alpha","isEqual","S","getTypographyFontSizeValue","preset","typographySettings","defaultSize","fluid","getComputedFluidTypographyValue","minimumFontSize","maximumFontSize","ROOT_BLOCK_SELECTOR","PRESET_METADATA","valueKey","cssVarInfix","classSuffix","propertyName","valueFunc","typography","STYLE_PATH_TO_CSS_VAR_INFIX","findInPresetsBy","features","blockName","presetPath","presetProperty","presetValueValue","orderedPresetsByOrigin","presetByOrigin","origins","origin","presets","presetObject","getPresetVariableFromValue","variableStylePath","presetPropertyValue","metadata","getValueFromVariable","variable","refPath","USER_VALUE_PREFIX","THEME_VALUE_PREFIX","parsedVar","slice","endsWith","presetType","getValueFromPresetVariable","getValueFromCustomVariable","GlobalStylesContext","user","base","merged","setUserConfig","extend","luminance","contrast","isReadable","level","EMPTY_CONFIG","styles","useSetting","mergedConfig","baseConfig","userConfig","fullPath","setSetting","newValue","currentConfig","newUserConfig","JSON","stringify","pathToSet","PATHS_WITH_MERGE","getSettingValueForContext","currentPath","getSettingValue","configToUse","custom","resultWithFallback","useStyle","finalPath","setStyle","ROOT_BLOCK_SUPPORTS","getSupportedGlobalStylesPanels","supportKeys","supports","blockGap","__experimentalSkipSerialization","spacingType","STYLE_PROPERTY","styleName","support","requiresOptOut","useColorsPerOrigin","customColors","themeColors","defaultColors","shouldDisplayDefaultColors","colors","useGradientsPerOrigin","customGradients","themeGradients","defaultGradients","shouldDisplayDefaultGradients","gradients","useHasBorderPanel","useHasBorderColorControl","useHasBorderRadiusControl","useHasBorderStyleControl","useHasBorderWidthControl","Boolean","applyFallbackStyle","color","BorderPanel","userBorderStyles","setBorder","showBorderColor","showBorderStyle","showBorderWidth","showBorderRadius","borderRadiusValues","setBorderRadius","hasBorderRadius","borderValues","radius","resetAll","onBorderChange","newBorder","newBorderWithStyle","hasSplitBorders","top","right","bottom","left","applyAllFallbackStyles","updatedBorder","hasValue","isDefinedBorder","onDeselect","resetBorder","isShownByDefault","enableAlpha","enableStyle","popoverOffset","popoverPlacement","__experimentalHasMultipleOrigins","__experimentalIsRenderedInSidebar","useHasColorPanel","AXIAL_SIDES","useHasDimensionsPanel","hasContentSize","useHasContentSize","hasWideSize","useHasWideSize","hasPadding","useHasPadding","hasMargin","useHasMargin","hasGap","useHasGap","hasMinHeight","useHasMinHeight","filterValuesBySides","sides","filteredValues","side","splitStyleValue","DimensionsPanel","showContentSizeControl","showWideSizeControl","showPaddingControl","showMarginControl","showGapControl","showMinHeightControl","showSpacingPresetsControl","useHasSpacingPresets","units","useCustomUnits","availableUnits","contentSizeValue","setContentSizeValue","hasUserSetContentSizeValue","resetContentSizeValue","userSetContentSizeValue","useContentSizeProps","wideSizeValue","setWideSizeValue","hasUserSetWideSizeValue","resetWideSizeValue","userSetWideSizeValue","useWideSizeProps","paddingValues","paddingSides","isAxialPadding","setPaddingValues","resetPaddingValue","hasPaddingValue","rawPadding","setRawPadding","useCustomSides","newPaddingValues","userSetPaddingValue","usePaddingProps","marginValues","marginSides","isAxialMargin","setMarginValues","resetMarginValue","hasMarginValue","rawMargin","setRawMargin","newMarginValues","margin","useMarginProps","gapValue","gapValues","gapSides","isAxialGap","setGapValue","setGapValues","resetGapValue","hasGapValue","userSetGapValue","nextBoxGapValue","useBlockGapProps","minHeightValue","setMinHeightValue","resetMinHeightValue","hasMinHeightValue","useMinHeightProps","alignment","__unstableInputWidth","nextContentSize","positionCenter","nextWideSize","stretchWide","allowReset","splitOnAxis","useHasTypographyPanel","hasFontFamily","useHasFontFamilyControl","hasLineHeight","useHasLineHeightControl","hasFontAppearance","useHasAppearanceControl","hasLetterSpacing","useHasLetterSpacingControl","fontFamilies","hasFontStyles","hasFontWeights","useStyleWithReset","userStyle","TypographyPanel","headingLevel","fontSizes","disableCustomFontSizes","hasFontFamilyEnabled","hasLineHeightEnabled","hasAppearanceControl","appearanceControlLabel","useAppearanceControlLabel","hasLetterSpacingControl","hasTextTransformControl","useHasTextTransformControl","hasTextDecorationControl","useHasTextDecorationControl","hasFontSizeEnabled","fontFamily","setFontFamily","resetFontFamily","setFontSize","hasFontSize","resetFontSize","setStyleCallback","useFontSizeWithReset","fontStyle","setFontStyle","fontWeight","setFontWeight","resetFontAppearance","userFontStyle","userFontWeight","useFontAppearance","setLineHeight","resetLineHeight","letterSpacing","setLetterSpacing","resetLetterSpacing","textTransform","setTextTransform","hasTextTransform","resetTextTransform","textDecoration","setTextDecoration","hasTextDecoration","resetTextDecoration","FontSizePicker","withReset","withSlider","newFontStyle","newFontWeight","LineHeightControl","showNone","isBlock","parentMenu","hasTypographyPanel","hasColorPanel","hasBorderPanel","hasDimensionsPanel","hasLayoutPanel","layout","BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS","__experimentalBorder","compileStyleValue","uncompiledValue","VARIABLE_REFERENCE_PREFIX","getPresetsClasses","blockSelector","blockPresets","declarations","classSelectorToUse","kebabCase","selectorToUse","flattenTree","input","token","newKey","newLeaf","newPrefix","getStylesDeclarations","blockStyles","useRootPaddingAlign","tree","isRoot","output","properties","useEngine","rootOnly","pathToValue","styleValue","entry","cssProperty","extraRules","getCSSRules","rule","ruleValue","getLayoutStyles","hasBlockGapSupport","hasFallbackGapSupport","fallbackGapValue","ruleset","getGapCSSValue","definitions","spacingStyles","spacingStyle","rules","cssValue","combinedSelector","validDisplayModes","displayMode","baseStyles","baseStyle","getNodesWithStyles","blockSelectors","nodes","pickStyleKeys","treeToPickFrom","pickBy","ELEMENTS","elements","duotoneSelector","hasLayoutSupport","featureSelectors","elementName","sel","elementSelector","getNodesWithSettings","pickPresets","blockCustom","toCustomProperties","mergedSettings","getPresetsDeclarations","customProps","useGlobalStylesOutput","disableLayoutStyles","config","background","text","blockTypes","__experimentalSelector","__experimentalDuotone","__experimentalLayout","__experimentalDefault","featureKey","featureSelector","scopes","selectorsScoped","outer","scopeSelector","getBlockSelectors","getBlockTypes","customProperties","globalStyles","nodesWithStyles","nodesWithSettings","useRootPaddingAwareAlignments","contentSize","wideSize","featureDeclarations","duotoneStyles","duotoneDeclarations","pseudoSelectorStyles","pseudoKey","pseudoStyle","pseudoDeclarations","pseudoRule","toStyles","filters","flatMap","at","getPresetsSvgFilters","toSvgFilters","css","isGlobalStyles","firstFrame","start","scale","midFrame","secondFrame","isFocused","withHoverView","headingFontFamily","headingFontWeight","textColor","headingColor","backgroundColor","gradientValue","disableMotion","useReducedMotion","coreColors","isHovered","setIsHovered","containerResizeListener","useResizeObserver","ratio","paletteColors","highlightedColors","editorStyles","visibility","onMouseEnter","cursor","animate","overflow","borderRadius","flexGrow","textAlign","variations","__experimentalGetCurrentThemeGlobalStylesVariations","CardMedia","CardDivider","paddingX","marginBottom","paddingY","minWidth","BlockMenuItem","navigationButtonLabel","sortedBlockTypes","blockItems","blocksStore","core","coreItems","noncore","nonCoreItems","useSortedBlockTypes","setFilterValue","debouncedSpeak","useDebounce","isMatchingSearchTerm","filteredBlockTypes","blockTypesListRef","count","childElementCount","resultsFoundMessage","_n","SearchControl","placeholder","hasSupport","extraStyles","isBordered","isSeparated","TypographyPreview","heading","button","setHeadingLevel","marginX","hideLabelFromVision","Flex","EMPTY_COLORS","defaultPaletteEnabled","randomizeThemeColors","setThemeColors","useColorRandomizer","__experimentalEnableColorRandomizer","randomRotationValue","random","newColors","colorObject","newColor","colord","screenPath","paletteButtonText","direction","isLayered","offset","ColorIndicator","colorValue","shuffle","BackgroundColorItem","expanded","TextColorItem","LinkColorItem","colorHover","HeadingColorItem","bgColor","ButtonColorItem","ColorPalettePanel","baseThemeColors","setDefaultColors","baseDefaultColors","setCustomColors","canReset","canOnlyChangeValues","paletteLabel","emptyMessage","slugPrefix","GradientPalettePanel","setThemeGradients","baseThemeGradients","setDefaultGradients","baseDefaultGradients","setCustomGradients","customDuotone","defaultDuotone","themeDuotone","defaultDuotoneEnabled","duotonePalette","DuotonePicker","disableCustomDuotone","disableCustomColors","clearable","solids","areCustomSolidsEnabled","areCustomGradientsEnabled","colorsPerOrigin","gradientsPerOrigin","isBackgroundEnabled","hasBackgroundColor","hasGradientColor","setBackgroundColor","userBackgroundColor","gradient","setGradient","userGradient","backgroundSettings","onColorChange","gradientSettings","onGradientChange","controlProps","disableCustomGradients","showTitle","isTextEnabled","hasTextColor","setColor","userColor","isLinkEnabled","hasLinkColor","pseudoStates","handler","userValue","pseudoSelectorConfig","selectedLevel","setCurrentTab","hasButtonColor","buttonTextColor","setButtonTextColor","userButtonTextColor","buttonBgColor","setButtonBgColor","userButtonBgColor","mergeTreesCustomizer","_","srcValue","mergeBaseAndUserConfigs","mergeWith","cleanEmptyObject","cleanedNestedObjects","mapValues","GlobalStylesProvider","isUserConfigReady","globalStylesId","isReady","hasFinishedResolution","_globalStylesId","__experimentalGetCurrentGlobalStylesId","hasResolved","callback","updatedConfig","useGlobalStylesUserConfig","isBaseConfigReady","__experimentalGetCurrentThemeBaseGlobalStyles","useGlobalStylesBaseConfig","useGlobalStylesContext","Variation","variation","setIsFocused","selectVariation","compareVariations","onKeyDown","keyCode","ENTER","withEmptyVariation","shouldRevertInitialMode","back","columns","GlobalStylesNavigationScreen","ContextScreens","GlobalStylesSidebar","onReset","useGlobalStylesReset","FlexBlock","controls","isDisabled","ALLOWED_BLOCKS","NavigationMenu","innerBlocks","updateBlockListSettings","allowedBlocks","NAVIGATION_MENUS_QUERY","status","NavigationInspector","selectedNavigationBlockId","clientIdToRef","navigationMenus","isResolvingNavigationMenus","hasResolvedNavigationMenus","firstNavigationBlockId","__experimentalGetGlobalBlocksByName","isResolving","navigationMenusQuery","selectedNavId","navBlockIds","idToRef","navMenuListId","useInstanceId","firstNavRefInTemplate","firstNavigationMenuRef","defaultNavigationMenuId","currentMenuId","setCurrentMenuId","onInput","useEntityBlockEditor","isLoadingInnerBlocks","hasLoadedInnerBlocks","isLoading","hasMoreThanOneNavigationMenu","hasNavigationMenus","publishedInnerBlocks","hasInnerBlocks","newMenuId","BlockEditorProvider","NavigationMenuSidebar","navigation","SIDEBAR_TEMPLATE","SIDEBAR_BLOCK","sidebarName","templateAriaLabel","templateActiveClass","blockAriaLabel","blockActiveClass","Actions","TemplateAreaItem","TemplateCard","InspectorSlot","InspectorFill","SidebarInspectorFill","SidebarComplementaryAreaFills","isEditorSidebarOpened","hasBlockSelection","supportsGlobalStyles","_sidebar","_isEditorSidebarOpened","getBlockSelectionStart","supportsTemplatePartsMode","MaybeNavigationMenuSidebar","drawerLeft","drawerRight","PanelBody","NavLink","activeItem","homeTemplate","isNavigationOpen","isTemplatePartsMode","siteTitle","dashboardLink","siteData","__unstableHomeTemplate","__experimentalDashboardLink","ESCAPE","defaultPrevented","backButtonLabel","siteIcon","templateIcon","templatePartIcon","isRequestingSiteIcon","siteIconUrl","site_icon_url","navigationToggleRef","buttonIcon","wordpress","expand","duration","alt","NavigationPanelPreviewFill","NavigationPanelPreviewSlot","NavigationSidebarFill","NavigationSidebarSlot","NavigationSidebar","isDefaultOpen","activeTemplateType","isDesktopViewport","ConvertToRegularBlocks","getBlocks","replaceBlocks","canRemoveBlock","BlockSettingsMenuControls","CreateTemplatePartModal","onCreate","isSubmitting","setIsSubmitting","instanceId","templatePartAreas","overlayClassName","onSubmit","required","BaseControl","align","ConvertToTemplatePart","clientIds","isModalOpen","setIsModalOpen","canCreate","symbolFilled","cleanSlug","serialize","createBlock","TemplatePartConverter","getSelectedBlockClientIds","getBlocksByClientId","selectedBlockClientIds","NavigateToLink","activePage","onActivePageChange","post","edit","BlockInspectorButton","isBlockInspectorOpen","previousTemplateId","arrowLeft","ResizeHandle","resizeWidthBy","LEFT","RIGHT","HANDLE_STYLES_OVERRIDE","userSelect","enableResizing","resizeObserver","sizes","isZoomOutMode","deviceStyles","useResizeCanvas","setWidth","iframeRef","mouseMoveTypingResetRef","useMouseMoveTypingReset","deltaPixels","ResizableBox","onResizeStop","maxWidth","enable","showHandle","resizeRatio","handleComponent","handleClasses","handleStyles","isZoomedOut","assets","__unstableResolvedAssets","svgFilters","LAYOUT","alignments","NAVIGATION_SIDEBAR_NAME","BlockEditor","storedSettings","isNavigationSidebarOpen","settingsBlockPatterns","__experimentalAdditionalBlockPatterns","__experimentalBlockPatterns","settingsBlockPatternCategories","__experimentalAdditionalBlockPatternCategories","__experimentalBlockPatternCategories","restBlockPatterns","restBlockPatternCategories","getBlockPatterns","getBlockPatternCategories","blockPatterns","findIndex","postTypes","blockPatternCategories","restStoredSettings","__unstableFetchMedia","fetchMedia","toggleNavigationSidebar","contentRef","mergedRefs","useTypingObserver","isMobileViewport","hasBlocks","MaybeNavMenuSidebarToggle","ToolbarGroup","useSubRegistry","__experimentalLinkControl","BlockInspector","BlockTools","__unstableContentRef","BlockEditorKeyboardShortcuts","BlockList","renderAppender","__unstableBlockSettingsMenuFirstItem","__unstableBlockToolbarLastItem","__unstableBlockNameContext","ReusableBlocksMenuItems","CodeEditorTextArea","stateValue","setStateValue","setIsDirty","valueRef","htmlFor","autoComplete","dir","CodeEditor","contentStructure","setContent","Function","newContent","selection","KeyboardShortcuts","Register","registerShortcut","category","URLQueryController","InserterSidebar","insertionPoint","isMobile","TagName","inserterDialogRef","inserterDialogProps","useDialog","focusOnMount","libraryRef","focusSearch","close","showInserterHelpPanel","shouldFocusBlock","__experimentalInsertionIndex","__experimentalFilterValue","ListViewSidebar","focusOnMountRef","useFocusOnMount","headerFocusReturnRef","useFocusReturn","contentFocusReturnRef","labelId","CopyButton","ErrorBoundaryWarning","reboot","stack","Warning","ErrorBoundary","super","componentDidCatch","doAction","WelcomeGuideImage","nonAnimatedSrc","animatedSrc","srcSet","media","WelcomeGuideEditor","Guide","contentLabel","finishButtonText","onFinish","pages","image","createInterpolateElement","StylesIconImage","WelcomeGuideStyles","isStylesOpen","ExternalLink","WelcomeGuide","GlobalStylesRenderer","currentStoreSettings","nonGlobalStyles","__experimentalFeatures","useGlobalStylesRenderer","useTitle","isInitialLocationRef","formattedTitle","interfaceLabels","sidebarIsOpened","entityId","templateResolved","previousShortcut","nextShortcut","editorMode","getAllShortcutKeyCombinations","blockContext","queryContext","newQueryContext","add","remove","siteUrl","secondarySidebarLabel","ShortcutProvider","EntityProvider","BlockContextProvider","EditorSnackbars","EditorNotices","Notice","EntitiesSavedStates","BlockBreadcrumb","rootLabelText","previous","Popover","TemplateActionsLoadingScreen","baseCssClass","isFullScreen","shouldCloseOnClickOutside","shouldCloseOnEsc","__experimentalHideHeader","Spinner","useExistingTemplates","useDefaultTemplateTypes","__experimentalGetDefaultTemplateTypes","usePublicPostTypes","getPostTypes","excludedPostTypes","viewable","usePostTypeNeedsUniqueIdentifier","publicPostTypes","postTypeLabels","singularName","singular_name","toLowerCase","usePostTypeArchiveMenuItems","postTypesWithArchives","has_archive","existingTemplates","needsUniqueIdentifier","existingTemplate","archive","templatePrefix","USE_AUTHOR_MENU_ITEM_TEMPLATE_PREFIX","USE_AUTHOR_MENU_ITEM_QUERY_PARAMETERS","who","useExistingTemplateSlugs","templatePrefixes","slugsWithTemplates","_accumulator","_prefix","substring","useTemplatesToExclude","entityName","additionalQueryParameters","slugsToExcludePerEntity","recordsToExcludePerEntity","entitiesWithTemplates","_fields","useEntitiesInfo","entitiesInfo","existingEntitiesIds","hasEntities","exclude","EMPTY_ARRAY","SuggestionListItem","suggestion","entityForSuggestions","composite","getSpecificTemplate","TextHighlight","highlight","SuggestionList","useCompositeState","setSearch","debouncedSearch","setInput","debounced","setter","setDebounced","useDebouncedInput","suggestions","query","order","queryArgs","records","searchResults","searchHasResolved","useEntityRecords","setSuggestions","newSuggestions","entities","recordNamePath","useSearchSuggestions","showSearchControl","setShowSearchControl","search_items","not_found","isCreatingTemplate","showSearchEntities","setShowSearchEntities","hasGeneralTemplate","all_items","createTemplate","defaultTitle","setIsBusy","DEFAULT_TEMPLATE_SLUGS","TEMPLATE_ICONS","single","notFound","list","author","postAuthor","taxonomy","blockMeta","date","postDate","tag","attachment","NewTemplate","showCustomTemplateModal","setShowCustomTemplateModal","showCustomGenericTemplateModal","setShowCustomGenericTemplateModal","setEntityForSuggestions","setIsCreatingTemplate","isWPSuggestion","templateContent","template_prefix","is_wp_suggestion","throwOnError","missingTemplates","defaultTemplateTypes","existingTemplateSlugs","onClickMenuItem","_entityForSuggestions","enhancedMissingDefaultTemplateTypes","defaultTaxonomiesMenuItems","taxonomiesMenuItems","publicTaxonomies","taxonomies","getTaxonomies","publicly_queryable","usePublicTaxonomies","suffix","taxonomyLabels","taxonomiesInfo","menuItems","generalTemplateSlug","defaultTemplateType","_slug","_needsUniqueIdentifier","menuItemTitle","menuItem","orderBy","useTaxonomiesMenuItems","defaultPostTypesMenuItems","postTypesMenuItems","postTypesInfo","usePostTypeMenuItems","authorMenuItem","authorInfo","useAuthorMenuItem","matchIndex","sort","template1","template2","useMissingTemplates","add_new","add_new_item","noArrow","NavigableMenu","customGenericTemplateIcon","NewTemplatePart","AddNewTemplate","getPostType","RenameMenuItem","saveEditedEntityRecord","isRemovable","isTemplateRemovable","isRevertable","isDestructive","isTertiary","revertAndSaveTemplate","TEMPLATE_POST_TYPE_NAMES","CustomizedTooltip","isCustomized","Tooltip","BaseAddedBy","imageUrl","isImageLoaded","setIsImageLoaded","onLoad","AddedByTheme","getTheme","themeIcon","AddedByPlugin","plugin","getPlugin","pluginIcon","AddedByAuthor","getUser","authorIcon","avatar_urls","nickname","AddedBySite","logoURL","getMedia","site_logo","source_url","globeIcon","AddedBy","Table","List","useRegisterShortcuts","itemsListLabel","items_list","detailedRegionLabels","getIsListPage","EditSiteApp","onPluginAreaError","SlotFillProvider","UnsavedChangesWarning","isListPage","homeTemplateType","PluginArea","PluginSidebarEditSite","PluginSidebarMoreMenuItem","compose","reinitializeEditor","canInsert","unmountComponentAtNode","fixedToolbar","welcomeGuide","welcomeGuideStyles","showListViewByDefault","updateEditorSettings","defaultTemplatePartAreas","getQueryArgs","initializeEditor","__experimentalFetchLinkSuggestions","searchOptions","fetchLinkSuggestions","__experimentalFetchRichUrlData","fetchUrlData","getElementById","__experimentalReapplyBlockTypeFilters","registerCoreBlocks","__experimentalRegisterExperimentalCoreBlocks","enableFSEBlocks"],"sourceRoot":""}