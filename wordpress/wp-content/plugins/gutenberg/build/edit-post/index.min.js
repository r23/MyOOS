(()=>{var e={4403:(e,t)=>{var n;!function(){"use strict";var l={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var r=o.apply(null,n);r&&e.push(r)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)l.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(l){var o=t[l];if(void 0!==o)return o.exports;var a=t[l]={exports:{}};return e[l](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};(()=>{"use strict";n.r(l),n.d(l,{PluginBlockSettingsMenuItem:()=>Oo,PluginDocumentSettingPanel:()=>no,PluginMoreMenuItem:()=>Vo,PluginPostPublishPanel:()=>_o,PluginPostStatusInfo:()=>Pl,PluginPrePublishPanel:()=>fo,PluginSidebar:()=>lo,PluginSidebarMoreMenuItem:()=>Fo,__experimentalFullscreenModeClose:()=>Bn,__experimentalMainDashboardButton:()=>Yn,initializeEditor:()=>Ro,reinitializeEditor:()=>Ho,store:()=>Ht});var e={};n.r(e),n.d(e,{disableComplementaryArea:()=>$,enableComplementaryArea:()=>W,pinItem:()=>j,setDefaultComplementaryArea:()=>z,setFeatureDefaults:()=>Y,setFeatureValue:()=>K,toggleFeature:()=>Z,unpinItem:()=>q});var t={};n.r(t),n.d(t,{getActiveComplementaryArea:()=>X,isComplementaryAreaLoading:()=>Q,isFeatureActive:()=>ee,isItemPinned:()=>J});var o={};n.r(o),n.d(o,{__experimentalSetPreviewDeviceType:()=>Xe,__unstableCreateTemplate:()=>nt,__unstableSwitchToTemplateMode:()=>tt,closeGeneralSidebar:()=>Ie,closeModal:()=>De,closePublishSidebar:()=>Oe,hideBlockTypes:()=>je,initializeMetaBoxes:()=>ot,metaBoxUpdatesFailure:()=>Ye,metaBoxUpdatesSuccess:()=>Ke,openGeneralSidebar:()=>Ne,openModal:()=>Ae,openPublishSidebar:()=>Le,removeEditorPanel:()=>He,requestMetaBoxUpdates:()=>Ze,setAvailableMetaBoxesPerLocation:()=>qe,setIsEditingTemplate:()=>et,setIsInserterOpened:()=>Qe,setIsListViewOpened:()=>Je,showBlockTypes:()=>$e,switchEditorMode:()=>Ue,toggleEditorPanelEnabled:()=>Fe,toggleEditorPanelOpened:()=>Re,toggleFeature:()=>Ge,togglePinnedPluginItem:()=>ze,togglePublishSidebar:()=>Ve,updatePreferredStyleVariations:()=>We});var a={};n.r(a),n.d(a,{__experimentalGetInsertionPoint:()=>Dt,__experimentalGetPreviewDeviceType:()=>It,areMetaBoxesInitialized:()=>Vt,getActiveGeneralSidebarName:()=>gt,getActiveMetaBoxLocations:()=>Pt,getAllMetaBoxes:()=>Bt,getEditedPostTemplate:()=>Ft,getEditorMode:()=>ut,getHiddenBlockTypes:()=>Et,getMetaBoxesPerLocation:()=>xt,getPreference:()=>_t,getPreferences:()=>ht,hasMetaBoxes:()=>Mt,isEditingTemplate:()=>Ot,isEditorPanelEnabled:()=>ft,isEditorPanelOpened:()=>yt,isEditorPanelRemoved:()=>vt,isEditorSidebarOpened:()=>mt,isFeatureActive:()=>St,isInserterOpened:()=>At,isListViewOpened:()=>Lt,isMetaBoxLocationActive:()=>Tt,isMetaBoxLocationVisible:()=>Ct,isModalActive:()=>wt,isPluginItemPinned:()=>kt,isPluginSidebarOpened:()=>pt,isPublishSidebarOpened:()=>bt,isSavingMetaBoxes:()=>Nt});const r=window.wp.element,s=window.wp.blocks,i=window.wp.blockLibrary,c=window.wp.deprecated;var d=n.n(c);const u=window.wp.data,m=window.wp.hooks,p=window.wp.preferences,g=window.wp.widgets,h=window.wp.mediaUtils;function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},_.apply(this,arguments)}(0,m.addFilter)("editor.MediaUpload","core/edit-post/replace-media-upload",(()=>h.MediaUpload));const E=window.wp.components,b=window.wp.blockEditor,v=window.wp.i18n,f=window.wp.compose,y=(0,f.compose)((0,u.withSelect)(((e,t)=>{if((0,s.hasBlockSupport)(t.name,"multiple",!0))return{};const n=e(b.store).getBlocks().find((e=>{let{name:n}=e;return t.name===n}));return{originalBlockClientId:n&&n.clientId!==t.clientId&&n.clientId}})),(0,u.withDispatch)(((e,t)=>{let{originalBlockClientId:n}=t;return{selectFirst:()=>e(b.store).selectBlock(n)}}))),w=(0,f.createHigherOrderComponent)((e=>y((t=>{let{originalBlockClientId:n,selectFirst:l,...o}=t;if(!n)return(0,r.createElement)(e,o);const a=(0,s.getBlockType)(o.name),i=function(e){const t=(0,s.findTransform)((0,s.getBlockTransforms)("to",e),(e=>{let{type:t,blocks:n}=e;return"block"===t&&1===n.length}));return t?(0,s.getBlockType)(t.blocks[0]):null}(o.name);return[(0,r.createElement)("div",{key:"invalid-preview",style:{minHeight:"60px"}},(0,r.createElement)(e,_({key:"block-edit"},o))),(0,r.createElement)(b.Warning,{key:"multiple-use-warning",actions:[(0,r.createElement)(E.Button,{key:"find-original",variant:"secondary",onClick:l},(0,v.__)("Find original")),(0,r.createElement)(E.Button,{key:"remove",variant:"secondary",onClick:()=>o.onReplace([])},(0,v.__)("Remove")),i&&(0,r.createElement)(E.Button,{key:"transform",variant:"secondary",onClick:()=>o.onReplace((0,s.createBlock)(i.name,o.attributes))},(0,v.__)("Transform into:")," ",i.title)]},(0,r.createElement)("strong",null,null==a?void 0:a.title,": "),(0,v.__)("This block can only be used once."))]}))),"withMultipleValidation");(0,m.addFilter)("editor.BlockEdit","core/edit-post/validate-multiple-use/with-multiple-validation",w);const S=window.wp.primitives,k=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"})),P=window.wp.plugins,C=window.wp.url,T=window.wp.notices,x=window.wp.editor;function B(){const{createNotice:e}=(0,u.useDispatch)(T.store),t=(0,u.useSelect)((e=>()=>e(x.store).getEditedPostAttribute("content")),[]),n=(0,f.useCopyToClipboard)(t,(function(){e("info",(0,v.__)("All content copied."),{isDismissible:!0,type:"snackbar"})}));return(0,r.createElement)(E.MenuItem,{ref:n},(0,v.__)("Copy all blocks"))}const M=window.wp.keycodes;function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const n=[...e];for(const e of t){const t=n.findIndex((t=>t.id===e.id));-1!==t?n[t]=e:n.push(e)}return n}const I=(0,u.combineReducers)({isSaving:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_META_BOX_UPDATES":return!0;case"META_BOX_UPDATES_SUCCESS":case"META_BOX_UPDATES_FAILURE":return!1;default:return e}},locations:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_META_BOXES_PER_LOCATIONS"===t.type){const n={...e};for(const[e,l]of Object.entries(t.metaBoxesPerLocation))n[e]=N(n[e],l);return n}return e},initialized:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"META_BOXES_INITIALIZED"===t.type||e}}),A=(0,u.combineReducers)({activeModal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e},metaBoxes:I,publishSidebarActive:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_PUBLISH_SIDEBAR":return!0;case"CLOSE_PUBLISH_SIDEBAR":return!1;case"TOGGLE_PUBLISH_SIDEBAR":return!e}return e},removedPanels:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"REMOVE_PANEL"!==t.type||e.includes(t.panelName)?e:[...e,t.panelName]},deviceType:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Desktop",t=arguments.length>1?arguments[1]:void 0;return"SET_PREVIEW_DEVICE_TYPE"===t.type?t.deviceType:e},blockInserterPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LIST_VIEW_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.value}return e},listViewPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e},isEditingTemplate:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_IS_EDITING_TEMPLATE"===t.type?t.value:e}}),D=window.wp.apiFetch;var L=n.n(D),O=n(4403),V=n.n(O);const F=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),R=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),H=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),G=window.wp.viewport,U=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),z=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),W=(e,t)=>n=>{let{registry:l,dispatch:o}=n;t&&(l.select(p.store).get(e,"isComplementaryAreaVisible")||l.dispatch(p.store).set(e,"isComplementaryAreaVisible",!0),o({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},$=e=>t=>{let{registry:n}=t;n.select(p.store).get(e,"isComplementaryAreaVisible")&&n.dispatch(p.store).set(e,"isComplementaryAreaVisible",!1)},j=(e,t)=>n=>{let{registry:l}=n;if(!t)return;const o=l.select(p.store).get(e,"pinnedItems");!0!==(null==o?void 0:o[t])&&l.dispatch(p.store).set(e,"pinnedItems",{...o,[t]:!0})},q=(e,t)=>n=>{let{registry:l}=n;if(!t)return;const o=l.select(p.store).get(e,"pinnedItems");l.dispatch(p.store).set(e,"pinnedItems",{...o,[t]:!1})};function Z(e,t){return function(n){let{registry:l}=n;d()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),l.dispatch(p.store).toggle(e,t)}}function K(e,t,n){return function(l){let{registry:o}=l;d()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),o.dispatch(p.store).set(e,t,!!n)}}function Y(e,t){return function(n){let{registry:l}=n;d()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),l.dispatch(p.store).setDefaults(e,t)}}const X=(0,u.createRegistrySelector)((e=>(t,n)=>{var l;const o=e(p.store).get(n,"isComplementaryAreaVisible");if(void 0!==o)return!1===o?null:null==t||null===(l=t.complementaryAreas)||void 0===l?void 0:l[n]})),Q=(0,u.createRegistrySelector)((e=>(t,n)=>{var l;const o=e(p.store).get(n,"isComplementaryAreaVisible"),a=null==t||null===(l=t.complementaryAreas)||void 0===l?void 0:l[n];return o&&void 0===a})),J=(0,u.createRegistrySelector)((e=>(t,n,l)=>{var o;const a=e(p.store).get(n,"pinnedItems");return null===(o=null==a?void 0:a[l])||void 0===o||o})),ee=(0,u.createRegistrySelector)((e=>(t,n,l)=>(d()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(p.store).get(n,l)))),te=(0,u.combineReducers)({complementaryAreas:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:l}=t;return e[n]?e:{...e,[n]:l}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:l}=t;return{...e,[n]:l}}}return e}}),ne=(0,u.createReduxStore)("core/interface",{reducer:te,actions:e,selectors:t});(0,u.register)(ne);const le=(0,P.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`}))),oe=le((function(e){let{as:t=E.Button,scope:n,identifier:l,icon:o,selectedIcon:a,name:s,...i}=e;const c=t,d=(0,u.useSelect)((e=>e(ne).getActiveComplementaryArea(n)===l),[l]),{enableComplementaryArea:m,disableComplementaryArea:p}=(0,u.useDispatch)(ne);return(0,r.createElement)(c,_({icon:a&&d?a:o,onClick:()=>{d?p(n):m(n,l)}},i))})),ae=e=>{let{smallScreenTitle:t,children:n,className:l,toggleButtonProps:o}=e;const a=(0,r.createElement)(oe,_({icon:U},o));return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},t&&(0,r.createElement)("span",{className:"interface-complementary-area-header__small-title"},t),a),(0,r.createElement)("div",{className:V()("components-panel__header","interface-complementary-area-header",l),tabIndex:-1},n,a))},re=()=>{};function se(e){let{name:t,as:n=E.Button,onClick:l,...o}=e;return(0,r.createElement)(E.Fill,{name:t},(e=>{let{onClick:t}=e;return(0,r.createElement)(n,_({onClick:l||t?function(){(l||re)(...arguments),(t||re)(...arguments)}:void 0},o))}))}se.Slot=function(e){let{name:t,as:n=E.ButtonGroup,fillProps:l={},bubblesVirtually:o,...a}=e;return(0,r.createElement)(E.Slot,{name:t,bubblesVirtually:o,fillProps:l},(e=>{if(!r.Children.toArray(e).length)return null;const t=[];r.Children.forEach(e,(e=>{let{props:{__unstableExplicitMenuItem:n,__unstableTarget:l}}=e;l&&n&&t.push(l)}));const l=r.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&t.includes(e.props.__unstableTarget)?null:e));return(0,r.createElement)(n,a,l)}))};const ie=se,ce=e=>{let{__unstableExplicitMenuItem:t,__unstableTarget:n,...l}=e;return(0,r.createElement)(E.MenuItem,l)};function de(e){let{scope:t,target:n,__unstableExplicitMenuItem:l,...o}=e;return(0,r.createElement)(oe,_({as:e=>(0,r.createElement)(ie,_({__unstableExplicitMenuItem:l,__unstableTarget:`${t}/${n}`,as:ce,name:`${t}/plugin-more-menu`},e)),role:"menuitemcheckbox",selectedIcon:F,name:n,scope:t},o))}function ue(e){let{scope:t,...n}=e;return(0,r.createElement)(E.Fill,_({name:`PinnedItems/${t}`},n))}ue.Slot=function(e){let{scope:t,className:n,...l}=e;return(0,r.createElement)(E.Slot,_({name:`PinnedItems/${t}`},l),(e=>(null==e?void 0:e.length)>0&&(0,r.createElement)("div",{className:V()(n,"interface-pinned-items")},e)))};const me=ue;function pe(e){let{scope:t,children:n,className:l}=e;return(0,r.createElement)(E.Fill,{name:`ComplementaryArea/${t}`},(0,r.createElement)("div",{className:l},n))}const ge=le((function(e){let{children:t,className:n,closeLabel:l=(0,v.__)("Close plugin"),identifier:o,header:a,headerClassName:s,icon:i,isPinnable:c=!0,panelClassName:d,scope:m,name:p,smallScreenTitle:g,title:h,toggleShortcut:_,isActiveByDefault:b,showIconLabels:f=!1}=e;const{isLoading:y,isActive:w,isPinned:S,activeArea:k,isSmall:P,isLarge:C}=(0,u.useSelect)((e=>{const{getActiveComplementaryArea:t,isComplementaryAreaLoading:n,isItemPinned:l}=e(ne),a=t(m);return{isLoading:n(m),isActive:a===o,isPinned:l(m,o),activeArea:a,isSmall:e(G.store).isViewportMatch("< medium"),isLarge:e(G.store).isViewportMatch("large")}}),[o,m]);!function(e,t,n,l,o){const a=(0,r.useRef)(!1),s=(0,r.useRef)(!1),{enableComplementaryArea:i,disableComplementaryArea:c}=(0,u.useDispatch)(ne);(0,r.useEffect)((()=>{l&&o&&!a.current?(c(e),s.current=!0):s.current&&!o&&a.current?(s.current=!1,i(e,t)):s.current&&n&&n!==t&&(s.current=!1),o!==a.current&&(a.current=o)}),[l,o,e,t,n])}(m,o,k,w,P);const{enableComplementaryArea:T,disableComplementaryArea:x,pinItem:B,unpinItem:M}=(0,u.useDispatch)(ne);return(0,r.useEffect)((()=>{b&&void 0===k&&!P?T(m,o):void 0===k&&P&&x(m,o)}),[k,b,m,o,P]),(0,r.createElement)(r.Fragment,null,c&&(0,r.createElement)(me,{scope:m},S&&(0,r.createElement)(oe,{scope:m,identifier:o,isPressed:w&&(!f||C),"aria-expanded":w,"aria-disabled":y,label:h,icon:f?F:i,showTooltip:!f,variant:f?"tertiary":void 0})),p&&c&&(0,r.createElement)(de,{target:p,scope:m,icon:i},h),w&&(0,r.createElement)(pe,{className:V()("interface-complementary-area",n),scope:m},(0,r.createElement)(ae,{className:s,closeLabel:l,onClose:()=>x(m),smallScreenTitle:g,toggleButtonProps:{label:l,shortcut:_,scope:m,identifier:o}},a||(0,r.createElement)(r.Fragment,null,(0,r.createElement)("strong",null,h),c&&(0,r.createElement)(E.Button,{className:"interface-complementary-area__pin-unpin-item",icon:S?R:H,label:S?(0,v.__)("Unpin from toolbar"):(0,v.__)("Pin to toolbar"),onClick:()=>(S?M:B)(m,o),isPressed:S,"aria-expanded":S}))),(0,r.createElement)(E.Panel,{className:d},t)))}));ge.Slot=function(e){let{scope:t,...n}=e;return(0,r.createElement)(E.Slot,_({name:`ComplementaryArea/${t}`},n))};const he=ge,_e=e=>{let{isActive:t}=e;return(0,r.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,r.useEffect)((()=>(t?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{t&&document.body.classList.remove("is-fullscreen-mode")})),[t]),null};function Ee(e){let{children:t,className:n,ariaLabel:l,as:o="div",...a}=e;return(0,r.createElement)(o,_({className:V()("interface-navigable-region",n),"aria-label":l,role:"region",tabIndex:"-1"},a),t)}const be=(0,r.forwardRef)((function(e,t){let{isDistractionFree:n,footer:l,header:o,editorNotices:a,sidebar:s,secondarySidebar:i,notices:c,content:d,actions:u,labels:m,className:p,enableRegionNavigation:g=!0,shortcuts:h}=e;const b=(0,E.__unstableUseNavigateRegions)(h);!function(e){(0,r.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const y={
/* translators: accessibility text for the top bar landmark region. */
header:(0,v.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:(0,v.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,v.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,v.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,v.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,v.__)("Footer"),...m},w={hidden:n?{opacity:0}:{opacity:1},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}}};return(0,r.createElement)("div",_({},g?b:{},{ref:(0,f.useMergeRefs)([t,g?b.ref:void 0]),className:V()(p,"interface-interface-skeleton",b.className,!!l&&"has-footer")}),(0,r.createElement)("div",{className:"interface-interface-skeleton__editor"},!!o&&n&&(0,r.createElement)(Ee,{as:E.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":y.header,initial:n?"hidden":"hover",whileHover:"hover",variants:w,transition:{type:"tween",delay:.8}},o),!!o&&!n&&(0,r.createElement)(Ee,{className:"interface-interface-skeleton__header",ariaLabel:y.header},o),n&&(0,r.createElement)("div",{className:"interface-interface-skeleton__header"},a),(0,r.createElement)("div",{className:"interface-interface-skeleton__body"},!!i&&(0,r.createElement)(Ee,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:y.secondarySidebar},i),!!c&&(0,r.createElement)("div",{className:"interface-interface-skeleton__notices"},c),(0,r.createElement)(Ee,{className:"interface-interface-skeleton__content",ariaLabel:y.body},d),!!s&&(0,r.createElement)(Ee,{className:"interface-interface-skeleton__sidebar",ariaLabel:y.sidebar},s),!!u&&(0,r.createElement)(Ee,{className:"interface-interface-skeleton__actions",ariaLabel:y.actions},u))),!!l&&(0,r.createElement)(Ee,{className:"interface-interface-skeleton__footer",ariaLabel:y.footer},l))})),ve=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function fe(e){let{as:t=E.DropdownMenu,className:n,label:
/* translators: button label text should, if possible, be under 16 characters. */
l=(0,v.__)("Options"),popoverProps:o,toggleProps:a,children:s}=e;return(0,r.createElement)(t,{className:V()("interface-more-menu-dropdown",n),icon:ve,label:l,popoverProps:{placement:"bottom-end",...o,className:V()("interface-more-menu-dropdown__content",null==o?void 0:o.className)},toggleProps:{tooltipPosition:"bottom",...a}},(e=>s(e)))}function ye(e){let{closeModal:t,children:n}=e;return(0,r.createElement)(E.Modal,{className:"interface-preferences-modal",title:(0,v.__)("Preferences"),onRequestClose:t},n)}const we=function(e){let{icon:t,size:n=24,...l}=e;return(0,r.cloneElement)(t,{width:n,height:n,...l})},Se=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),ke=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),Pe="preferences-menu";function Ce(e){let{sections:t}=e;const n=(0,f.useViewportMatch)("medium"),[l,o]=(0,r.useState)(Pe),{tabs:a,sectionsContentMap:s}=(0,r.useMemo)((()=>{let e={tabs:[],sectionsContentMap:{}};return t.length&&(e=t.reduce(((e,t)=>{let{name:n,tabLabel:l,content:o}=t;return e.tabs.push({name:n,title:l}),e.sectionsContentMap[n]=o,e}),{tabs:[],sectionsContentMap:{}})),e}),[t]),i=(0,r.useCallback)((e=>s[e.name]||null),[s]);let c;return c=n?(0,r.createElement)(E.TabPanel,{className:"interface-preferences__tabs",tabs:a,initialTabName:l!==Pe?l:void 0,onSelect:o,orientation:"vertical"},i):(0,r.createElement)(E.__experimentalNavigatorProvider,{initialPath:"/",className:"interface-preferences__provider"},(0,r.createElement)(E.__experimentalNavigatorScreen,{path:"/"},(0,r.createElement)(E.Card,{isBorderless:!0,size:"small"},(0,r.createElement)(E.CardBody,null,(0,r.createElement)(E.__experimentalItemGroup,null,a.map((e=>(0,r.createElement)(E.__experimentalNavigatorButton,{key:e.name,path:e.name,as:E.__experimentalItem,isAction:!0},(0,r.createElement)(E.__experimentalHStack,{justify:"space-between"},(0,r.createElement)(E.FlexItem,null,(0,r.createElement)(E.__experimentalTruncate,null,e.title)),(0,r.createElement)(E.FlexItem,null,(0,r.createElement)(we,{icon:(0,v.isRTL)()?Se:ke})))))))))),t.length&&t.map((e=>(0,r.createElement)(E.__experimentalNavigatorScreen,{key:`${e.name}-menu`,path:e.name},(0,r.createElement)(E.Card,{isBorderless:!0,size:"large"},(0,r.createElement)(E.CardHeader,{isBorderless:!1,justify:"left",size:"small",gap:"6"},(0,r.createElement)(E.__experimentalNavigatorBackButton,{icon:(0,v.isRTL)()?ke:Se,"aria-label":(0,v.__)("Navigate to the previous view")}),(0,r.createElement)(E.__experimentalText,{size:"16"},e.tabLabel)),(0,r.createElement)(E.CardBody,null,e.content)))))),c}const Te=e=>{let{description:t,title:n,children:l}=e;return(0,r.createElement)("fieldset",{className:"interface-preferences-modal__section"},(0,r.createElement)("legend",{className:"interface-preferences-modal__section-legend"},(0,r.createElement)("h2",{className:"interface-preferences-modal__section-title"},n),t&&(0,r.createElement)("p",{className:"interface-preferences-modal__section-description"},t)),l)},xe=function(e){let{help:t,label:n,isChecked:l,onChange:o,children:a}=e;return(0,r.createElement)("div",{className:"interface-preferences-modal__option"},(0,r.createElement)(E.ToggleControl,{__nextHasNoMarginBottom:!0,help:t,label:n,checked:l,onChange:o}),a)},Be=window.wp.a11y,Me=window.wp.coreData,Ne=e=>t=>{let{registry:n}=t;return n.dispatch(ne).enableComplementaryArea(Ht.name,e)},Ie=()=>e=>{let{registry:t}=e;return t.dispatch(ne).disableComplementaryArea(Ht.name)};function Ae(e){return{type:"OPEN_MODAL",name:e}}function De(){return{type:"CLOSE_MODAL"}}function Le(){return{type:"OPEN_PUBLISH_SIDEBAR"}}function Oe(){return{type:"CLOSE_PUBLISH_SIDEBAR"}}function Ve(){return{type:"TOGGLE_PUBLISH_SIDEBAR"}}const Fe=e=>t=>{var n;let{registry:l}=t;const o=null!==(n=l.select(p.store).get("core/edit-post","inactivePanels"))&&void 0!==n?n:[];let a;a=null!=o&&o.includes(e)?o.filter((t=>t!==e)):[...o,e],l.dispatch(p.store).set("core/edit-post","inactivePanels",a)},Re=e=>t=>{var n;let{registry:l}=t;const o=null!==(n=l.select(p.store).get("core/edit-post","openPanels"))&&void 0!==n?n:[];let a;a=null!=o&&o.includes(e)?o.filter((t=>t!==e)):[...o,e],l.dispatch(p.store).set("core/edit-post","openPanels",a)};function He(e){return{type:"REMOVE_PANEL",panelName:e}}const Ge=e=>t=>{let{registry:n}=t;return n.dispatch(p.store).toggle("core/edit-post",e)},Ue=e=>t=>{let{registry:n}=t;n.dispatch(p.store).set("core/edit-post","editorMode",e),"visual"!==e&&n.dispatch(b.store).clearSelectedBlock();const l="visual"===e?(0,v.__)("Visual editor selected"):(0,v.__)("Code editor selected");(0,Be.speak)(l,"assertive")},ze=e=>t=>{let{registry:n}=t;const l=n.select(ne).isItemPinned("core/edit-post",e);n.dispatch(ne)[l?"unpinItem":"pinItem"]("core/edit-post",e)},We=(e,t)=>n=>{var l;let{registry:o}=n;if(!e)return;const a=null!==(l=o.select(p.store).get("core/edit-post","preferredStyleVariations"))&&void 0!==l?l:{};if(t)o.dispatch(p.store).set("core/edit-post","preferredStyleVariations",{...a,[e]:t});else{const t={...a};delete t[e],o.dispatch(p.store).set("core/edit-post","preferredStyleVariations",t)}},$e=e=>t=>{var n;let{registry:l}=t;const o=(null!==(n=l.select(p.store).get("core/edit-post","hiddenBlockTypes"))&&void 0!==n?n:[]).filter((t=>!(Array.isArray(e)?e:[e]).includes(t)));l.dispatch(p.store).set("core/edit-post","hiddenBlockTypes",o)},je=e=>t=>{var n;let{registry:l}=t;const o=null!==(n=l.select(p.store).get("core/edit-post","hiddenBlockTypes"))&&void 0!==n?n:[],a=new Set([...o,...Array.isArray(e)?e:[e]]);l.dispatch(p.store).set("core/edit-post","hiddenBlockTypes",[...a])};function qe(e){return{type:"SET_META_BOXES_PER_LOCATIONS",metaBoxesPerLocation:e}}const Ze=()=>async e=>{let{registry:t,select:n,dispatch:l}=e;l({type:"REQUEST_META_BOX_UPDATES"}),window.tinyMCE&&window.tinyMCE.triggerSave();const o=t.select(x.store).getCurrentPost(),a=[!!o.comment_status&&["comment_status",o.comment_status],!!o.ping_status&&["ping_status",o.ping_status],!!o.sticky&&["sticky",o.sticky],!!o.author&&["post_author",o.author]].filter(Boolean),r=[new window.FormData(document.querySelector(".metabox-base-form")),...n.getActiveMetaBoxLocations().map((e=>new window.FormData((e=>document.querySelector(`.edit-post-meta-boxes-area.is-${e} .metabox-location-${e}`)||document.querySelector("#metaboxes .metabox-location-"+e))(e))))].reduce(((e,t)=>{for(const[n,l]of t)e.append(n,l);return e}),new window.FormData);a.forEach((e=>{let[t,n]=e;return r.append(t,n)}));try{await L()({url:window._wpMetaBoxUrl,method:"POST",body:r,parse:!1}),l.metaBoxUpdatesSuccess()}catch{l.metaBoxUpdatesFailure()}};function Ke(){return{type:"META_BOX_UPDATES_SUCCESS"}}function Ye(){return{type:"META_BOX_UPDATES_FAILURE"}}function Xe(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}function Qe(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function Je(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}function et(e){return{type:"SET_IS_EDITING_TEMPLATE",value:e}}const tt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t=>{let{registry:n,select:l,dispatch:o}=t;if(o(et(!0)),!l.isFeatureActive("welcomeGuideTemplate")){const t=e?(0,v.__)("Custom template created. You're in template mode now."):(0,v.__)("Editing template. Changes made here affect all posts and pages that use the template.");n.dispatch(T.store).createSuccessNotice(t,{type:"snackbar"})}}},nt=e=>async t=>{let{registry:n}=t;const l=await n.dispatch(Me.store).saveEntityRecord("postType","wp_template",e),o=n.select(x.store).getCurrentPost();n.dispatch(Me.store).editEntityRecord("postType",o.type,o.id,{template:l.slug})};let lt=!1;const ot=()=>e=>{let{registry:t,select:n,dispatch:l}=e;if(!t.select(x.store).__unstableIsEditorReady())return;if(lt)return;const o=t.select(x.store).getCurrentPostType();window.postboxes.page!==o&&window.postboxes.add_postbox_toggles(o),lt=!0;let a=t.select(x.store).isSavingPost(),r=t.select(x.store).isAutosavingPost();t.subscribe((async()=>{const e=t.select(x.store).isSavingPost(),o=t.select(x.store).isAutosavingPost(),s=a&&!r&&!e&&n.hasMetaBoxes();a=e,r=o,s&&await l.requestMetaBoxUpdates()})),l({type:"META_BOXES_INITIALIZED"})};var at={};function rt(e){return[e]}function st(e,t,n){var l;if(e.length!==t.length)return!1;for(l=n;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}function it(e,t){var n,l=t||rt;function o(e){var t,l,o,a,r,s=n,i=!0;for(t=0;t<e.length;t++){if(!(r=l=e[t])||"object"!=typeof r){i=!1;break}s.has(l)?s=s.get(l):(o=new WeakMap,s.set(l,o),s=o)}return s.has(at)||((a=function(){var e={clear:function(){e.head=null}};return e}()).isUniqueByDependants=i,s.set(at,a)),s.get(at)}function a(){n=new WeakMap}function r(){var t,n,a,r,s,i=arguments.length;for(r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];for((t=o(s=l.apply(null,r))).isUniqueByDependants||(t.lastDependants&&!st(s,t.lastDependants,0)&&t.clear(),t.lastDependants=s),n=t.head;n;){if(st(n.args,r,1))return n!==t.head&&(n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.next=t.head,n.prev=null,t.head.prev=n,t.head=n),n.val;n=n.next}return n={val:e.apply(null,r)},r[0]=null,n.args=r,t.head&&(t.head.prev=n,n.next=t.head),t.head=n,n.val}return r.getDependants=l,r.clear=a,a(),r}const ct=[],dt={},ut=(0,u.createRegistrySelector)((e=>()=>{var t;return null!==(t=e(p.store).get("core/edit-post","editorMode"))&&void 0!==t?t:"visual"})),mt=(0,u.createRegistrySelector)((e=>()=>{const t=e(ne).getActiveComplementaryArea("core/edit-post");return["edit-post/document","edit-post/block"].includes(t)})),pt=(0,u.createRegistrySelector)((e=>()=>{const t=e(ne).getActiveComplementaryArea("core/edit-post");return!!t&&!["edit-post/document","edit-post/block"].includes(t)})),gt=(0,u.createRegistrySelector)((e=>()=>e(ne).getActiveComplementaryArea("core/edit-post"))),ht=(0,u.createRegistrySelector)((e=>()=>{d()("select( 'core/edit-post' ).getPreferences",{since:"6.0",alternative:"select( 'core/preferences' ).get"});return{...["hiddenBlockTypes","editorMode","preferredStyleVariations"].reduce(((t,n)=>({...t,[n]:e(p.store).get("core/edit-post",n)})),{}),panels:function(e,t){var n;const l=null==e?void 0:e.reduce(((e,t)=>({...e,[t]:{enabled:!1}})),{}),o=null==t?void 0:t.reduce(((e,t)=>{const n=null==e?void 0:e[t];return{...e,[t]:{...n,opened:!0}}}),null!=l?l:{});return null!==(n=null!=o?o:l)&&void 0!==n?n:dt}(e(p.store).get("core/edit-post","inactivePanels"),e(p.store).get("core/edit-post","openPanels"))}}));function _t(e,t,n){d()("select( 'core/edit-post' ).getPreference",{since:"6.0",alternative:"select( 'core/preferences' ).get"});const l=ht(e)[t];return void 0===l?n:l}const Et=(0,u.createRegistrySelector)((e=>()=>{var t;return null!==(t=e(p.store).get("core/edit-post","hiddenBlockTypes"))&&void 0!==t?t:ct}));function bt(e){return e.publishSidebarActive}function vt(e,t){return e.removedPanels.includes(t)}const ft=(0,u.createRegistrySelector)((e=>(t,n)=>{const l=e(p.store).get("core/edit-post","inactivePanels");return!(vt(t,n)||null!=l&&l.includes(n))})),yt=(0,u.createRegistrySelector)((e=>(t,n)=>{const l=e(p.store).get("core/edit-post","openPanels");return!(null==l||!l.includes(n))}));function wt(e,t){return e.activeModal===t}const St=(0,u.createRegistrySelector)((e=>(t,n)=>!!e(p.store).get("core/edit-post",n))),kt=(0,u.createRegistrySelector)((e=>(t,n)=>e(ne).isItemPinned("core/edit-post",n))),Pt=it((e=>Object.keys(e.metaBoxes.locations).filter((t=>Tt(e,t)))),(e=>[e.metaBoxes.locations]));function Ct(e,t){var n;return Tt(e,t)&&(null===(n=xt(e,t))||void 0===n?void 0:n.some((t=>{let{id:n}=t;return ft(e,`meta-box-${n}`)})))}function Tt(e,t){const n=xt(e,t);return!!n&&0!==n.length}function xt(e,t){return e.metaBoxes.locations[t]}const Bt=it((e=>Object.values(e.metaBoxes.locations).flat()),(e=>[e.metaBoxes.locations]));function Mt(e){return Pt(e).length>0}function Nt(e){return e.metaBoxes.isSaving}function It(e){return e.deviceType}function At(e){return!!e.blockInserterPanel}function Dt(e){const{rootClientId:t,insertionIndex:n,filterValue:l}=e.blockInserterPanel;return{rootClientId:t,insertionIndex:n,filterValue:l}}function Lt(e){return e.listViewPanel}function Ot(e){return e.isEditingTemplate}function Vt(e){return e.metaBoxes.initialized}const Ft=(0,u.createRegistrySelector)((e=>()=>{const t=e(x.store).getEditedPostAttribute("template");if(t){var n;const l=null===(n=e(Me.store).getEntityRecords("postType","wp_template",{per_page:-1}))||void 0===n?void 0:n.find((e=>e.slug===t));return l?e(Me.store).getEditedEntityRecord("postType","wp_template",l.id):l}const l=e(x.store).getCurrentPost();return l.link?e(Me.store).__experimentalGetTemplateForLink(l.link):null})),Rt="core/edit-post",Ht=(0,u.createReduxStore)(Rt,{reducer:A,actions:o,selectors:a});(0,u.register)(Ht);const Gt=(0,u.withDispatch)((e=>{const{openModal:t}=e(Ht);return{openModal:t}}))((function(e){let{openModal:t}=e;return(0,r.createElement)(E.MenuItem,{onClick:()=>{t("edit-post/keyboard-shortcut-help")},shortcut:M.displayShortcut.access("h")},(0,v.__)("Keyboard shortcuts"))})),{Fill:Ut,Slot:zt}=(0,E.createSlotFill)("ToolsMoreMenuGroup");Ut.Slot=e=>{let{fillProps:t}=e;return(0,r.createElement)(zt,{fillProps:t},(e=>e.length>0&&(0,r.createElement)(E.MenuGroup,{label:(0,v.__)("Tools")},e)))};const Wt=Ut;function $t(){const e=(0,u.useSelect)((e=>e(Ht).isEditingTemplate()),[]);return(0,r.createElement)(p.PreferenceToggleMenuItem,{scope:"core/edit-post",name:e?"welcomeGuideTemplate":"welcomeGuide",label:(0,v.__)("Welcome Guide")})}(0,P.registerPlugin)("edit-post",{render:()=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Wt,null,(e=>{let{onClose:t}=e;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(E.MenuItem,{role:"menuitem",href:(0,C.addQueryArgs)("edit.php",{post_type:"wp_block"})},(0,v.__)("Manage Reusable blocks")),(0,r.createElement)(Gt,{onSelect:t}),(0,r.createElement)($t,null),(0,r.createElement)(B,null),(0,r.createElement)(E.MenuItem,{role:"menuitem",icon:k,href:(0,v.__)("https://wordpress.org/documentation/article/wordpress-block-editor/"),target:"_blank",rel:"noopener noreferrer"},(0,v.__)("Help"),(0,r.createElement)(E.VisuallyHidden,{as:"span"},
/* translators: accessibility text */
(0,v.__)("(opens in a new tab)"))))})))});const jt=window.wp.keyboardShortcuts,qt=window.wp.commands,Zt=window.wp.coreCommands;function Kt(){const e=(0,u.useSelect)((e=>e(x.store).getEditorSettings().richEditingEnabled),[]),{switchEditorMode:t}=(0,u.useDispatch)(Ht);return(0,r.createElement)("div",{className:"edit-post-text-editor"},(0,r.createElement)(x.TextEditorGlobalKeyboardShortcuts,null),e&&(0,r.createElement)("div",{className:"edit-post-text-editor__toolbar"},(0,r.createElement)("h2",null,(0,v.__)("Editing code")),(0,r.createElement)(E.Button,{variant:"tertiary",onClick:()=>t("visual"),shortcut:M.displayShortcut.secondary("m")},(0,v.__)("Exit code editor"))),(0,r.createElement)("div",{className:"edit-post-text-editor__body"},(0,r.createElement)(x.PostTitle,null),(0,r.createElement)(x.PostTextEditor,null)))}const Yt=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"}));function Xt(e){let{children:t,contentRef:n,shouldIframe:l,styles:o,style:a}=e;const s=(0,b.__unstableUseMouseMoveTypingReset)();return l?(0,r.createElement)(b.__unstableIframe,{ref:s,contentRef:n,style:{width:"100%",height:"100%",display:"block"},name:"editor-canvas"},(0,r.createElement)(b.__unstableEditorStyles,{styles:o}),t):(0,r.createElement)(r.Fragment,null,(0,r.createElement)(b.__unstableEditorStyles,{styles:o}),(0,r.createElement)(b.WritingFlow,{ref:n,className:"editor-styles-wrapper",style:{flex:"1",...a},tabIndex:-1},t))}function Qt(e){for(let t=0;t<e.length;t++){if("core/post-content"===e[t].name)return e[t].attributes;if(e[t].innerBlocks.length){const n=Qt(e[t].innerBlocks);if(n)return n}}}function Jt(e){let{styles:t}=e;const{deviceType:n,isWelcomeGuideVisible:l,isTemplateMode:o,postContentAttributes:a,editedPostTemplate:i={},wrapperBlockName:c,wrapperUniqueId:d,isBlockBasedTheme:m}=(0,u.useSelect)((e=>{const{isFeatureActive:t,isEditingTemplate:n,getEditedPostTemplate:l,__experimentalGetPreviewDeviceType:o}=e(Ht),{getCurrentPostId:a,getCurrentPostType:r,getEditorSettings:s}=e(x.store),i=n();let c;"wp_block"===r()?c="core/block":i||(c="core/post-content");const d=s(),u=d.supportsTemplateMode,m=e(Me.store).canUser("create","templates");return{deviceType:o(),isWelcomeGuideVisible:t("welcomeGuide"),isTemplateMode:i,postContentAttributes:s().postContentAttributes,editedPostTemplate:u&&m?l():void 0,wrapperBlockName:c,wrapperUniqueId:a(),isBlockBasedTheme:d.__unstableIsBlockBasedTheme}}),[]),{isCleanNewPost:p}=(0,u.useSelect)(x.store),g=(0,u.useSelect)((e=>e(Ht).hasMetaBoxes()),[]),{hasRootPaddingAwareAlignments:h,isFocusMode:_,themeHasDisabledLayoutStyles:y,themeSupportsLayout:w}=(0,u.useSelect)((e=>{var t;const n=e(b.store).getSettings();return{themeHasDisabledLayoutStyles:n.disableLayoutStyles,themeSupportsLayout:n.supportsLayout,isFocusMode:n.focusMode,hasRootPaddingAwareAlignments:null===(t=n.__experimentalFeatures)||void 0===t?void 0:t.useRootPaddingAwareAlignments}}),[]),{clearSelectedBlock:S}=(0,u.useDispatch)(b.store),{setIsEditingTemplate:k}=(0,u.useDispatch)(Ht),P={height:"100%",width:"100%",margin:0,display:"flex",flexFlow:"column",background:"white"},C={...P,borderRadius:"2px 2px 0 0",border:"1px solid #ddd",borderBottom:0},T=(0,b.__experimentalUseResizeCanvas)(n,o),B=(0,b.useSetting)("layout"),M="is-"+n.toLowerCase()+"-preview";let N,I=o?C:P;T&&(I=T),g||T||o||(N="40vh");const A=(0,r.useRef)(),D=(0,f.useMergeRefs)([A,(0,b.__unstableUseClipboardHandler)(),(0,b.__unstableUseTypewriter)(),(0,b.__unstableUseTypingObserver)(),(0,b.__unstableUseBlockSelectionClearer)()]),L=(0,b.__unstableUseBlockSelectionClearer)(),O=(0,r.useMemo)((()=>o?{type:"default"}:w?{...B,type:"constrained"}:{type:"default"}),[o,w,B]),F=(0,r.useMemo)((()=>{if(!(null!=i&&i.content||null!=i&&i.blocks))return a;if(null!=i&&i.blocks)return Qt(null==i?void 0:i.blocks);const e="string"==typeof(null==i?void 0:i.content)?null==i?void 0:i.content:"";return Qt((0,s.parse)(e))||{}}),[null==i?void 0:i.content,null==i?void 0:i.blocks,a]),{layout:R={},align:H=""}=F||{},G=(0,b.__experimentaluseLayoutClasses)(F,"core/post-content"),U=V()({"is-layout-flow":!w},w&&G,H&&`align${H}`),z=(0,b.__experimentaluseLayoutStyles)(F,"core/post-content",".block-editor-block-list__layout.is-root-container"),W=(0,r.useMemo)((()=>R&&("constrained"===(null==R?void 0:R.type)||null!=R&&R.inherit||null!=R&&R.contentSize||null!=R&&R.wideSize)?{...B,...R,type:"constrained"}:{...B,...R,type:"default"}),[null==R?void 0:R.type,null==R?void 0:R.inherit,null==R?void 0:R.contentSize,null==R?void 0:R.wideSize,B]),$=a?W:O,j=(0,r.useRef)();return(0,r.useEffect)((()=>{var e;!l&&p()&&(null==j||null===(e=j.current)||void 0===e||e.focus())}),[l,p]),t=(0,r.useMemo)((()=>[...t,{css:".edit-post-visual-editor__post-title-wrapper{margin-top:4rem}"+(N?`body{padding-bottom:${N}}`:"")}]),[t]),(0,r.createElement)(b.BlockTools,{__unstableContentRef:A,className:V()("edit-post-visual-editor",{"is-template-mode":o})},(0,r.createElement)(x.VisualEditorGlobalKeyboardShortcuts,null),(0,r.createElement)(E.__unstableMotion.div,{className:"edit-post-visual-editor__content-area",animate:{padding:o?"48px 48px 0":0},ref:L},o&&(0,r.createElement)(E.Button,{className:"edit-post-visual-editor__exit-template-mode",icon:Yt,onClick:()=>{S(),k(!1)}},(0,v.__)("Back")),(0,r.createElement)(E.__unstableMotion.div,{animate:I,initial:P,className:M},(0,r.createElement)(Xt,{shouldIframe:m&&!g||o||"Tablet"===n||"Mobile"===n,contentRef:D,styles:t},w&&!y&&!o&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(b.__experimentalLayoutStyle,{selector:".edit-post-visual-editor__post-title-wrapper, .block-editor-block-list__layout.is-root-container",layout:O,layoutDefinitions:null==B?void 0:B.definitions}),H&&(0,r.createElement)(b.__experimentalLayoutStyle,{css:".is-root-container.alignwide { max-width: var(--wp--style--global--wide-size); margin-left: auto; margin-right: auto;}\n\t\t.is-root-container.alignwide:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: var(--wp--style--global--wide-size);}\n\t\t.is-root-container.alignfull { max-width: none; margin-left: auto; margin-right: auto;}\n\t\t.is-root-container.alignfull:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: none;}"}),z&&(0,r.createElement)(b.__experimentalLayoutStyle,{layout:W,css:z,layoutDefinitions:null==B?void 0:B.definitions})),!o&&(0,r.createElement)("div",{className:V()("edit-post-visual-editor__post-title-wrapper",{"is-focus-mode":_,"has-global-padding":h}),contentEditable:!1},(0,r.createElement)(x.PostTitle,{ref:j})),(0,r.createElement)(b.__experimentalRecursionProvider,{blockName:c,uniqueId:d},(0,r.createElement)(b.BlockList,{className:o?"wp-site-blocks":`${U} wp-block-post-content`,__experimentalLayout:$}))))))}const en=function(){const{getBlockSelectionStart:e}=(0,u.useSelect)(b.store),{getEditorMode:t,isEditorSidebarOpened:n,isListViewOpened:l,isFeatureActive:o}=(0,u.useSelect)(Ht),a=(0,u.useSelect)((e=>{const{richEditingEnabled:t,codeEditingEnabled:n}=e(x.store).getEditorSettings();return!t||!n}),[]),{createInfoNotice:i}=(0,u.useDispatch)(T.store),{switchEditorMode:c,openGeneralSidebar:d,closeGeneralSidebar:m,toggleFeature:g,setIsListViewOpened:h,setIsInserterOpened:_}=(0,u.useDispatch)(Ht),{registerShortcut:E}=(0,u.useDispatch)(jt.store),{set:f}=(0,u.useDispatch)(p.store),{replaceBlocks:y}=(0,u.useDispatch)(b.store),{getBlockName:w,getSelectedBlockClientId:S,getBlockAttributes:k}=(0,u.useSelect)(b.store),P=(e,t)=>{e.preventDefault();const n=0===t?"core/paragraph":"core/heading",l=S();if(null===l)return;const o=w(l);if("core/paragraph"!==o&&"core/heading"!==o)return;const a=k(l),r="core/paragraph"===o?"align":"textAlign",i="core/paragraph"===n?"align":"textAlign";y(l,(0,s.createBlock)(n,{level:t,content:a.content,[i]:a[r]}))};return(0,r.useEffect)((()=>{E({name:"core/edit-post/toggle-mode",category:"global",description:(0,v.__)("Switch between visual editor and code editor."),keyCombination:{modifier:"secondary",character:"m"}}),E({name:"core/edit-post/toggle-distraction-free",category:"global",description:(0,v.__)("Toggle distraction free mode."),keyCombination:{modifier:"primaryShift",character:"\\"}}),E({name:"core/edit-post/toggle-fullscreen",category:"global",description:(0,v.__)("Toggle fullscreen mode."),keyCombination:{modifier:"secondary",character:"f"}}),E({name:"core/edit-post/toggle-list-view",category:"global",description:(0,v.__)("Open the block list view."),keyCombination:{modifier:"access",character:"o"}}),E({name:"core/edit-post/toggle-sidebar",category:"global",description:(0,v.__)("Show or hide the Settings sidebar."),keyCombination:{modifier:"primaryShift",character:","}}),E({name:"core/edit-post/next-region",category:"global",description:(0,v.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),E({name:"core/edit-post/previous-region",category:"global",description:(0,v.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"},{modifier:"ctrlShift",character:"~"}]}),E({name:"core/edit-post/keyboard-shortcuts",category:"main",description:(0,v.__)("Display these keyboard shortcuts."),keyCombination:{modifier:"access",character:"h"}}),E({name:"core/edit-post/transform-heading-to-paragraph",category:"block-library",description:(0,v.__)("Transform heading to paragraph."),keyCombination:{modifier:"access",character:"0"}}),[1,2,3,4,5,6].forEach((e=>{E({name:`core/edit-post/transform-paragraph-to-heading-${e}`,category:"block-library",description:(0,v.__)("Transform paragraph to heading."),keyCombination:{modifier:"access",character:`${e}`}})}))}),[]),(0,jt.useShortcut)("core/edit-post/toggle-mode",(()=>{c("visual"===t()?"text":"visual")}),{isDisabled:a}),(0,jt.useShortcut)("core/edit-post/toggle-fullscreen",(()=>{g("fullscreenMode")})),(0,jt.useShortcut)("core/edit-post/toggle-distraction-free",(()=>{m(),h(!1),f("core/edit-post","fixedToolbar",!1),_(!1),h(!1),m(),g("distractionFree"),i(o("distractionFree")?(0,v.__)("Distraction free mode turned on."):(0,v.__)("Distraction free mode turned off."),{id:"core/edit-post/distraction-free-mode/notice",type:"snackbar"})})),(0,jt.useShortcut)("core/edit-post/toggle-sidebar",(t=>{if(t.preventDefault(),n())m();else{const t=e()?"edit-post/block":"edit-post/document";d(t)}})),(0,jt.useShortcut)("core/edit-post/toggle-list-view",(()=>{l()||h(!0)})),(0,jt.useShortcut)("core/edit-post/transform-heading-to-paragraph",(e=>P(e,0))),[1,2,3,4,5,6].forEach((e=>{(0,jt.useShortcut)(`core/edit-post/transform-paragraph-to-heading-${e}`,(t=>P(t,e)))})),null},tn=[{keyCombination:{modifier:"primary",character:"b"},description:(0,v.__)("Make the selected text bold.")},{keyCombination:{modifier:"primary",character:"i"},description:(0,v.__)("Make the selected text italic.")},{keyCombination:{modifier:"primary",character:"k"},description:(0,v.__)("Convert the selected text into a link.")},{keyCombination:{modifier:"primaryShift",character:"k"},description:(0,v.__)("Remove a link.")},{keyCombination:{character:"[["},description:(0,v.__)("Insert a link to a post or page.")},{keyCombination:{modifier:"primary",character:"u"},description:(0,v.__)("Underline the selected text.")},{keyCombination:{modifier:"access",character:"d"},description:(0,v.__)("Strikethrough the selected text.")},{keyCombination:{modifier:"access",character:"x"},description:(0,v.__)("Make the selected text inline code.")},{keyCombination:{modifier:"access",character:"0"},description:(0,v.__)("Convert the current heading to a paragraph.")},{keyCombination:{modifier:"access",character:"1-6"},description:(0,v.__)("Convert the current paragraph or heading to a heading of level 1 to 6.")}];function nn(e){let{keyCombination:t,forceAriaLabel:n}=e;const l=t.modifier?M.displayShortcutList[t.modifier](t.character):t.character,o=t.modifier?M.shortcutAriaLabel[t.modifier](t.character):t.character;return(0,r.createElement)("kbd",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":n||o},(Array.isArray(l)?l:[l]).map(((e,t)=>"+"===e?(0,r.createElement)(r.Fragment,{key:t},e):(0,r.createElement)("kbd",{key:t,className:"edit-post-keyboard-shortcut-help-modal__shortcut-key"},e))))}const ln=function(e){let{description:t,keyCombination:n,aliases:l=[],ariaLabel:o}=e;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-description"},t),(0,r.createElement)("div",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-term"},(0,r.createElement)(nn,{keyCombination:n,forceAriaLabel:o}),l.map(((e,t)=>(0,r.createElement)(nn,{keyCombination:e,forceAriaLabel:o,key:t})))))},on=function(e){let{name:t}=e;const{keyCombination:n,description:l,aliases:o}=(0,u.useSelect)((e=>{const{getShortcutKeyCombination:n,getShortcutDescription:l,getShortcutAliases:o}=e(jt.store);return{keyCombination:n(t),aliases:o(t),description:l(t)}}),[t]);return n?(0,r.createElement)(ln,{keyCombination:n,description:l,aliases:o}):null},an="edit-post/keyboard-shortcut-help",rn=e=>{let{shortcuts:t}=e;return(0,r.createElement)("ul",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-list",role:"list"},t.map(((e,t)=>(0,r.createElement)("li",{className:"edit-post-keyboard-shortcut-help-modal__shortcut",key:t},"string"==typeof e?(0,r.createElement)(on,{name:e}):(0,r.createElement)(ln,e)))))},sn=e=>{let{title:t,shortcuts:n,className:l}=e;return(0,r.createElement)("section",{className:V()("edit-post-keyboard-shortcut-help-modal__section",l)},!!t&&(0,r.createElement)("h2",{className:"edit-post-keyboard-shortcut-help-modal__section-title"},t),(0,r.createElement)(rn,{shortcuts:n}))},cn=e=>{let{title:t,categoryName:n,additionalShortcuts:l=[]}=e;const o=(0,u.useSelect)((e=>e(jt.store).getCategoryShortcuts(n)),[n]);return(0,r.createElement)(sn,{title:t,shortcuts:o.concat(l)})},dn=(0,f.compose)([(0,u.withSelect)((e=>({isModalActive:e(Ht).isModalActive(an)}))),(0,u.withDispatch)(((e,t)=>{let{isModalActive:n}=t;const{openModal:l,closeModal:o}=e(Ht);return{toggleModal:()=>n?o():l(an)}}))])((function(e){let{isModalActive:t,toggleModal:n}=e;return(0,jt.useShortcut)("core/edit-post/keyboard-shortcuts",n),t?(0,r.createElement)(E.Modal,{className:"edit-post-keyboard-shortcut-help-modal",title:(0,v.__)("Keyboard shortcuts"),closeButtonLabel:(0,v.__)("Close"),onRequestClose:n},(0,r.createElement)(sn,{className:"edit-post-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:["core/edit-post/keyboard-shortcuts"]}),(0,r.createElement)(cn,{title:(0,v.__)("Global shortcuts"),categoryName:"global"}),(0,r.createElement)(cn,{title:(0,v.__)("Selection shortcuts"),categoryName:"selection"}),(0,r.createElement)(cn,{title:(0,v.__)("Block shortcuts"),categoryName:"block",additionalShortcuts:[{keyCombination:{character:"/"},description:(0,v.__)("Change the block type after adding a new paragraph."),
/* translators: The forward-slash character. e.g. '/'. */
ariaLabel:(0,v.__)("Forward-slash")}]}),(0,r.createElement)(sn,{title:(0,v.__)("Text formatting"),shortcuts:tn})):null}));function un(e){let{willEnable:t}=e;const[n,l]=(0,r.useState)(!1);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("p",{className:"edit-post-preferences-modal__custom-fields-confirmation-message"},(0,v.__)("A page reload is required for this change. Make sure your content is saved before reloading.")),(0,r.createElement)(E.Button,{className:"edit-post-preferences-modal__custom-fields-confirmation-button",variant:"secondary",isBusy:n,disabled:n,onClick:()=>{l(!0),document.getElementById("toggle-custom-fields-form").submit()}},t?(0,v.__)("Enable & Reload"):(0,v.__)("Disable & Reload")))}const mn=(0,u.withSelect)((e=>({areCustomFieldsEnabled:!!e(x.store).getEditorSettings().enableCustomFields})))((function(e){let{label:t,areCustomFieldsEnabled:n}=e;const[l,o]=(0,r.useState)(n);return(0,r.createElement)(xe,{label:t,isChecked:l,onChange:o},l!==n&&(0,r.createElement)(un,{willEnable:l}))})),pn=(0,f.compose)((0,u.withSelect)(((e,t)=>{let{panelName:n}=t;const{isEditorPanelEnabled:l,isEditorPanelRemoved:o}=e(Ht);return{isRemoved:o(n),isChecked:l(n)}})),(0,f.ifCondition)((e=>{let{isRemoved:t}=e;return!t})),(0,u.withDispatch)(((e,t)=>{let{panelName:n}=t;return{onChange:()=>e(Ht).toggleEditorPanelEnabled(n)}})))(xe),{Fill:gn,Slot:hn}=(0,E.createSlotFill)("EnablePluginDocumentSettingPanelOption"),En=e=>{let{label:t,panelName:n}=e;return(0,r.createElement)(gn,null,(0,r.createElement)(pn,{label:t,panelName:n}))};En.Slot=hn;const bn=En,vn=(0,f.compose)((0,u.withSelect)((e=>({isChecked:e(x.store).isPublishSidebarEnabled()}))),(0,u.withDispatch)((e=>{const{enablePublishSidebar:t,disablePublishSidebar:n}=e(x.store);return{onChange:e=>e?t():n()}})),(0,G.ifViewportMatches)("medium"))(xe),fn=(0,f.compose)((0,u.withSelect)(((e,t)=>{let{featureName:n}=t;const{isFeatureActive:l}=e(Ht);return{isChecked:l(n)}})),(0,u.withDispatch)(((e,t)=>{let{featureName:n,onToggle:l=(()=>{})}=t;return{onChange:()=>{l(),e(Ht).toggleFeature(n)}}})))(xe),yn=(0,u.withSelect)((e=>{const{getEditorSettings:t}=e(x.store),{getAllMetaBoxes:n}=e(Ht);return{areCustomFieldsRegistered:void 0!==t().enableCustomFields,metaBoxes:n()}}))((function(e){let{areCustomFieldsRegistered:t,metaBoxes:n,...l}=e;const o=n.filter((e=>{let{id:t}=e;return"postcustom"!==t}));return t||0!==o.length?(0,r.createElement)(Te,l,t&&(0,r.createElement)(mn,{label:(0,v.__)("Custom fields")}),o.map((e=>{let{id:t,title:n}=e;return(0,r.createElement)(pn,{key:t,label:n,panelName:`meta-box-${t}`})}))):null})),wn=function(e){let{blockTypes:t,value:n,onItemChange:l}=e;return(0,r.createElement)("ul",{className:"edit-post-block-manager__checklist"},t.map((e=>(0,r.createElement)("li",{key:e.name,className:"edit-post-block-manager__checklist-item"},(0,r.createElement)(E.CheckboxControl,{__nextHasNoMarginBottom:!0,label:e.title,checked:n.includes(e.name),onChange:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return l(e.name,...n)}}),(0,r.createElement)(b.BlockIcon,{icon:e.icon})))))},Sn=function e(t){let{title:n,blockTypes:l}=t;const o=(0,f.useInstanceId)(e),{defaultAllowedBlockTypes:a,hiddenBlockTypes:s}=(0,u.useSelect)((e=>{const{getEditorSettings:t}=e(x.store),{getHiddenBlockTypes:n}=e(Ht);return{defaultAllowedBlockTypes:t().defaultAllowedBlockTypes,hiddenBlockTypes:n()}}),[]),i=(0,r.useMemo)((()=>!0===a?l:l.filter((e=>{let{name:t}=e;return null==a?void 0:a.includes(t)}))),[a,l]),{showBlockTypes:c,hideBlockTypes:d}=(0,u.useDispatch)(Ht),m=(0,r.useCallback)(((e,t)=>{t?c(e):d(e)}),[]),p=(0,r.useCallback)((e=>{const t=l.map((e=>{let{name:t}=e;return t}));e?c(t):d(t)}),[l]);if(!i.length)return null;const g=i.map((e=>{let{name:t}=e;return t})).filter((e=>!s.includes(e))),h="edit-post-block-manager__category-title-"+o,_=g.length===i.length,b=!_&&g.length>0;return(0,r.createElement)("div",{role:"group","aria-labelledby":h,className:"edit-post-block-manager__category"},(0,r.createElement)(E.CheckboxControl,{__nextHasNoMarginBottom:!0,checked:_,onChange:p,className:"edit-post-block-manager__category-title",indeterminate:b,label:(0,r.createElement)("span",{id:h},n)}),(0,r.createElement)(wn,{blockTypes:i,value:g,onItemChange:m}))},kn=(0,u.withSelect)((e=>{const{getBlockTypes:t,getCategories:n,hasBlockSupport:l,isMatchingSearchTerm:o}=e(s.store),{getHiddenBlockTypes:a}=e(Ht),r=t(),i=a().filter((e=>r.some((t=>t.name===e)))),c=Array.isArray(i)&&i.length;return{blockTypes:r,categories:n(),hasBlockSupport:l,isMatchingSearchTerm:o,numberOfHiddenBlocks:c}}))((function(e){let{blockTypes:t,categories:n,hasBlockSupport:l,isMatchingSearchTerm:o,numberOfHiddenBlocks:a}=e;const s=(0,f.useDebounce)(Be.speak,500),[i,c]=(0,r.useState)("");return t=t.filter((e=>l(e,"inserter",!0)&&(!i||o(e,i))&&(!e.parent||e.parent.includes("core/post-content")))),(0,r.useEffect)((()=>{if(!i)return;const e=t.length,n=(0,v.sprintf)(
/* translators: %d: number of results. */
(0,v._n)("%d result found.","%d results found.",e),e);s(n)}),[t.length,i,s]),(0,r.createElement)("div",{className:"edit-post-block-manager__content"},!!a&&(0,r.createElement)("div",{className:"edit-post-block-manager__disabled-blocks-count"},(0,v.sprintf)(
/* translators: %d: number of blocks. */
(0,v._n)("%d block is hidden.","%d blocks are hidden.",a),a)),(0,r.createElement)(E.SearchControl,{__nextHasNoMarginBottom:!0,label:(0,v.__)("Search for a block"),placeholder:(0,v.__)("Search for a block"),value:i,onChange:e=>c(e),className:"edit-post-block-manager__search"}),(0,r.createElement)("div",{tabIndex:"0",role:"region","aria-label":(0,v.__)("Available block types"),className:"edit-post-block-manager__results"},0===t.length&&(0,r.createElement)("p",{className:"edit-post-block-manager__no-results"},(0,v.__)("No blocks found.")),n.map((e=>(0,r.createElement)(Sn,{key:e.slug,title:e.title,blockTypes:t.filter((t=>t.category===e.slug))}))),(0,r.createElement)(Sn,{title:(0,v.__)("Uncategorized"),blockTypes:t.filter((e=>{let{category:t}=e;return!t}))})))}));function Pn(){const e=(0,f.useViewportMatch)("medium"),{closeModal:t}=(0,u.useDispatch)(Ht),[n,l]=(0,u.useSelect)((t=>{const{getEditorSettings:n}=t(x.store),{getEditorMode:l,isFeatureActive:o}=t(Ht),a=t(Ht).isModalActive("edit-post/preferences"),r=l(),s=n().richEditingEnabled,i=o("distractionFree");return[a,!i&&e&&s&&"visual"===r,i]}),[e]),{closeGeneralSidebar:o,setIsListViewOpened:a,setIsInserterOpened:s}=(0,u.useDispatch)(Ht),{set:i}=(0,u.useDispatch)(p.store),c=()=>{i("core/edit-post","fixedToolbar",!1),s(!1),a(!1),o()},d=(0,r.useMemo)((()=>[{name:"general",tabLabel:(0,v.__)("General"),content:(0,r.createElement)(r.Fragment,null,e&&(0,r.createElement)(Te,{title:(0,v.__)("Publishing"),description:(0,v.__)("Change options related to publishing.")},(0,r.createElement)(vn,{help:(0,v.__)("Review settings, such as visibility and tags."),label:(0,v.__)("Include pre-publish checklist")})),(0,r.createElement)(Te,{title:(0,v.__)("Appearance"),description:(0,v.__)("Customize options related to the block editor interface and editing flow.")},(0,r.createElement)(fn,{featureName:"distractionFree",onToggle:c,help:(0,v.__)("Reduce visual distractions by hiding the toolbar and other elements to focus on writing."),label:(0,v.__)("Distraction free")}),(0,r.createElement)(fn,{featureName:"focusMode",help:(0,v.__)("Highlights the current block and fades other content."),label:(0,v.__)("Spotlight mode")}),(0,r.createElement)(fn,{featureName:"showIconLabels",label:(0,v.__)("Show button text labels"),help:(0,v.__)("Show text instead of icons on buttons.")}),(0,r.createElement)(fn,{featureName:"showListViewByDefault",help:(0,v.__)("Opens the block list view sidebar by default."),label:(0,v.__)("Always open list view")}),(0,r.createElement)(fn,{featureName:"themeStyles",help:(0,v.__)("Make the editor look like your theme."),label:(0,v.__)("Use theme styles")}),l&&(0,r.createElement)(fn,{featureName:"showBlockBreadcrumbs",help:(0,v.__)("Shows block breadcrumbs at the bottom of the editor."),label:(0,v.__)("Display block breadcrumbs")})))},{name:"blocks",tabLabel:(0,v.__)("Blocks"),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Te,{title:(0,v.__)("Block interactions"),description:(0,v.__)("Customize how you interact with blocks in the block library and editing canvas.")},(0,r.createElement)(fn,{featureName:"mostUsedBlocks",help:(0,v.__)("Places the most frequent blocks in the block library."),label:(0,v.__)("Show most used blocks")}),(0,r.createElement)(fn,{featureName:"keepCaretInsideBlock",help:(0,v.__)("Aids screen readers by stopping text caret from leaving blocks."),label:(0,v.__)("Contain text cursor inside block")})),(0,r.createElement)(Te,{title:(0,v.__)("Visible blocks"),description:(0,v.__)("Disable blocks that you don't want to appear in the inserter. They can always be toggled back on later.")},(0,r.createElement)(kn,null)))},{name:"panels",tabLabel:(0,v.__)("Panels"),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Te,{title:(0,v.__)("Document settings"),description:(0,v.__)("Choose what displays in the panel.")},(0,r.createElement)(bn.Slot,null),(0,r.createElement)(x.PostTaxonomies,{taxonomyWrapper:(e,t)=>(0,r.createElement)(pn,{label:t.labels.menu_name,panelName:`taxonomy-panel-${t.slug}`})}),(0,r.createElement)(x.PostFeaturedImageCheck,null,(0,r.createElement)(pn,{label:(0,v.__)("Featured image"),panelName:"featured-image"})),(0,r.createElement)(x.PostExcerptCheck,null,(0,r.createElement)(pn,{label:(0,v.__)("Excerpt"),panelName:"post-excerpt"})),(0,r.createElement)(x.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},(0,r.createElement)(pn,{label:(0,v.__)("Discussion"),panelName:"discussion-panel"})),(0,r.createElement)(x.PageAttributesCheck,null,(0,r.createElement)(pn,{label:(0,v.__)("Page attributes"),panelName:"page-attributes"}))),(0,r.createElement)(yn,{title:(0,v.__)("Additional"),description:(0,v.__)("Add extra areas to the editor.")}))}]),[e,l]);return n?(0,r.createElement)(ye,{closeModal:t},(0,r.createElement)(Ce,{sections:d})):null}class Cn extends r.Component{constructor(){super(...arguments),this.state={historyId:null}}componentDidUpdate(e){const{postId:t,postStatus:n,postType:l,isSavingPost:o}=this.props,{historyId:a}=this.state;"trash"!==n||o?t===e.postId&&t===a||"auto-draft"===n||!t||this.setBrowserURL(t):this.setTrashURL(t,l)}setTrashURL(e,t){window.location.href=function(e,t){return(0,C.addQueryArgs)("edit.php",{trashed:1,post_type:t,ids:e})}(e,t)}setBrowserURL(e){window.history.replaceState({id:e},"Post "+e,function(e){return(0,C.addQueryArgs)("post.php",{post:e,action:"edit"})}(e)),this.setState((()=>({historyId:e})))}render(){return null}}const Tn=(0,u.withSelect)((e=>{const{getCurrentPost:t,isSavingPost:n}=e(x.store),l=t();let{id:o,status:a,type:r}=l;return["wp_template","wp_template_part"].includes(r)&&(o=l.wp_id),{postId:o,postStatus:a,postType:r,isSavingPost:n()}}))(Cn),xn=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,r.createElement)(S.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})),Bn=function(e){var t,n;let{showTooltip:l,icon:o,href:a}=e;const{isActive:s,isRequestingSiteIcon:i,postType:c,siteIconUrl:d}=(0,u.useSelect)((e=>{const{getCurrentPostType:t}=e(x.store),{isFeatureActive:n}=e(Ht),{getEntityRecord:l,getPostType:o,isResolving:a}=e(Me.store),r=l("root","__unstableBase",void 0)||{};return{isActive:n("fullscreenMode"),isRequestingSiteIcon:a("getEntityRecord",["root","__unstableBase",void 0]),postType:o(t()),siteIconUrl:r.site_icon_url}}),[]),m=(0,f.useReducedMotion)();if(!s||!c)return null;let p=(0,r.createElement)(E.Icon,{size:"36px",icon:xn});d&&(p=(0,r.createElement)(E.__unstableMotion.img,{variants:!m&&{expand:{scale:1.25,transition:{type:"tween",duration:"0.3"}}},alt:(0,v.__)("Site Icon"),className:"edit-post-fullscreen-mode-close_site-icon",src:d})),i&&(p=null),o&&(p=(0,r.createElement)(E.Icon,{size:"36px",icon:o}));const g=V()({"edit-post-fullscreen-mode-close":!0,"has-icon":d});return(0,r.createElement)(E.__unstableMotion.div,{whileHover:"expand"},(0,r.createElement)(E.Button,{className:g,href:null!=a?a:(0,C.addQueryArgs)("edit.php",{post_type:c.slug}),label:null!==(t=null==c||null===(n=c.labels)||void 0===n?void 0:n.view_items)&&void 0!==t?t:(0,v.__)("Back"),showTooltip:l},p))},Mn=(0,r.createElement)(S.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(S.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"})),Nn=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),In=window.wp.privateApis,{lock:An,unlock:Dn}=(0,In.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my plugin or theme will inevitably break on the next WordPress release.","@wordpress/edit-post"),{useShouldContextualToolbarShow:Ln}=Dn(b.privateApis),On=e=>{e.preventDefault()},Vn=function(){const e=(0,r.useRef)(),{setIsInserterOpened:t,setIsListViewOpened:n}=(0,u.useDispatch)(Ht),{isInserterEnabled:l,isInserterOpened:o,isTextModeEnabled:a,showIconLabels:s,isListViewOpen:i,listViewShortcut:c}=(0,u.useSelect)((e=>{const{hasInserterItems:t,getBlockRootClientId:n,getBlockSelectionEnd:l}=e(b.store),{getEditorSettings:o}=e(x.store),{getEditorMode:a,isFeatureActive:r,isListViewOpened:s}=e(Ht),{getShortcutRepresentation:i}=e(jt.store);return{isInserterEnabled:"visual"===a()&&o().richEditingEnabled&&t(n(l())),isInserterOpened:e(Ht).isInserterOpened(),isTextModeEnabled:"text"===a(),showIconLabels:r("showIconLabels"),isListViewOpen:s(),listViewShortcut:i("core/edit-post/toggle-list-view")}}),[]),d=(0,f.useViewportMatch)("medium"),m=(0,f.useViewportMatch)("wide"),{shouldShowContextualToolbar:p,canFocusHiddenToolbar:g,fixedToolbarCanBeFocused:h}=Ln(),_=p||g||h,y=(0,v.__)("Document tools"),w=(0,r.useCallback)((()=>n(!i)),[n,i]),S=(0,r.createElement)(r.Fragment,null,(0,r.createElement)(E.ToolbarItem,{as:E.Button,className:"edit-post-header-toolbar__document-overview-toggle",icon:Mn,disabled:a,isPressed:i
/* translators: button label text should, if possible, be under 16 characters. */,label:(0,v.__)("Document Overview"),onClick:w,shortcut:c,showTooltip:!s,variant:s?"tertiary":void 0})),k=(0,r.useCallback)((()=>{o?(e.current.focus(),t(!1)):t(!0)}),[o,t]),P=(0,v._x)("Toggle block inserter","Generic label for block inserter button"),C=o?(0,v.__)("Close"):(0,v.__)("Add");return(0,r.createElement)(b.NavigableToolbar,{className:"edit-post-header-toolbar","aria-label":y,shouldUseKeyboardFocusShortcut:!_},(0,r.createElement)("div",{className:"edit-post-header-toolbar__left"},(0,r.createElement)(E.ToolbarItem,{ref:e,as:E.Button,className:"edit-post-header-toolbar__inserter-toggle",variant:"primary",isPressed:o,onMouseDown:On,onClick:k,disabled:!l,icon:Nn,label:s?C:P,showTooltip:!s}),(m||!s)&&(0,r.createElement)(r.Fragment,null,d&&(0,r.createElement)(E.ToolbarItem,{as:b.ToolSelector,showTooltip:!s,variant:s?"tertiary":void 0,disabled:a}),(0,r.createElement)(E.ToolbarItem,{as:x.EditorHistoryUndo,showTooltip:!s,variant:s?"tertiary":void 0}),(0,r.createElement)(E.ToolbarItem,{as:x.EditorHistoryRedo,showTooltip:!s,variant:s?"tertiary":void 0}),S)))},Fn=[{value:"visual",label:(0,v.__)("Visual editor")},{value:"text",label:(0,v.__)("Code editor")}],Rn=function(){const{shortcut:e,isRichEditingEnabled:t,isCodeEditingEnabled:n,isEditingTemplate:l,mode:o}=(0,u.useSelect)((e=>({shortcut:e(jt.store).getShortcutRepresentation("core/edit-post/toggle-mode"),isRichEditingEnabled:e(x.store).getEditorSettings().richEditingEnabled,isCodeEditingEnabled:e(x.store).getEditorSettings().codeEditingEnabled,isEditingTemplate:e(Ht).isEditingTemplate(),mode:e(Ht).getEditorMode()})),[]),{switchEditorMode:a}=(0,u.useDispatch)(Ht);if(l)return null;if(!t||!n)return null;const s=Fn.map((t=>t.value!==o?{...t,shortcut:e}:t));return(0,r.createElement)(E.MenuGroup,{label:(0,v.__)("Editor")},(0,r.createElement)(E.MenuItemsChoice,{choices:s,value:o,onSelect:a}))};function Hn(){const{openModal:e}=(0,u.useDispatch)(Ht);return(0,r.createElement)(E.MenuItem,{onClick:()=>{e("edit-post/preferences")}},(0,v.__)("Preferences"))}const Gn=function(){const e=(0,u.useRegistry)(),t=(0,u.useSelect)((e=>e(b.store).getSettings().isDistractionFree),[]),n=(0,u.useSelect)((e=>e(b.store).getBlocks()),[]),{setIsInserterOpened:l,setIsListViewOpened:o,closeGeneralSidebar:a}=(0,u.useDispatch)(Ht),{set:s}=(0,u.useDispatch)(p.store),{selectBlock:i}=(0,u.useDispatch)(b.store);return(0,f.useViewportMatch)("medium")?(0,r.createElement)(E.MenuGroup,{label:(0,v._x)("View","noun")},(0,r.createElement)(p.PreferenceToggleMenuItem,{scope:"core/edit-post",disabled:t,name:"fixedToolbar",label:(0,v.__)("Top toolbar"),info:(0,v.__)("Access all block and document tools in a single place"),messageActivated:(0,v.__)("Top toolbar activated"),messageDeactivated:(0,v.__)("Top toolbar deactivated")}),(0,r.createElement)(p.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"focusMode",label:(0,v.__)("Spotlight mode"),info:(0,v.__)("Focus on one block at a time"),messageActivated:(0,v.__)("Spotlight mode activated"),messageDeactivated:(0,v.__)("Spotlight mode deactivated")}),(0,r.createElement)(p.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"fullscreenMode",label:(0,v.__)("Fullscreen mode"),info:(0,v.__)("Show and hide admin UI"),messageActivated:(0,v.__)("Fullscreen mode activated"),messageDeactivated:(0,v.__)("Fullscreen mode deactivated"),shortcut:M.displayShortcut.secondary("f")}),(0,r.createElement)(p.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"distractionFree",onToggle:()=>{e.batch((()=>{s("core/edit-post","fixedToolbar",!1),l(!1),o(!1),a(),!t&&n.length&&i(n[0].clientId)}))},label:(0,v.__)("Distraction free"),info:(0,v.__)("Write with calmness"),messageActivated:(0,v.__)("Distraction free mode activated"),messageDeactivated:(0,v.__)("Distraction free mode deactivated"),shortcut:M.displayShortcut.primaryShift("\\")})):null},Un=e=>{let{showIconLabels:t}=e;const n=(0,f.useViewportMatch)("large");return(0,r.createElement)(fe,{toggleProps:{showTooltip:!t,...t&&{variant:"tertiary"}}},(e=>{let{onClose:l}=e;return(0,r.createElement)(r.Fragment,null,t&&!n&&(0,r.createElement)(me.Slot,{className:t&&"show-icon-labels",scope:"core/edit-post"}),(0,r.createElement)(Gn,null),(0,r.createElement)(Rn,null),(0,r.createElement)(ie.Slot,{name:"core/edit-post/plugin-more-menu",label:(0,v.__)("Plugins"),as:E.MenuGroup,fillProps:{onClick:l}}),(0,r.createElement)(Wt.Slot,{fillProps:{onClose:l}}),(0,r.createElement)(E.MenuGroup,null,(0,r.createElement)(Hn,null)))}))},zn=(0,f.compose)((0,u.withSelect)((e=>{var t,n,l;return{hasPublishAction:null!==(t=null===(n=e(x.store).getCurrentPost())||void 0===n||null===(l=n._links)||void 0===l?void 0:l["wp:action-publish"])&&void 0!==t&&t,isBeingScheduled:e(x.store).isEditedPostBeingScheduled(),isPending:e(x.store).isCurrentPostPending(),isPublished:e(x.store).isCurrentPostPublished(),isPublishSidebarEnabled:e(x.store).isPublishSidebarEnabled(),isPublishSidebarOpened:e(Ht).isPublishSidebarOpened(),isScheduled:e(x.store).isCurrentPostScheduled()}})),(0,u.withDispatch)((e=>{const{togglePublishSidebar:t}=e(Ht);return{togglePublishSidebar:t}})))((function(e){let{forceIsDirty:t,forceIsSaving:n,hasPublishAction:l,isBeingScheduled:o,isPending:a,isPublished:s,isPublishSidebarEnabled:i,isPublishSidebarOpened:c,isScheduled:d,togglePublishSidebar:u,setEntitiesSavedStatesCallback:m}=e;const p="toggle",g="button",h=(0,f.useViewportMatch)("medium","<");let _;return _=s||d&&o||a&&!l&&!h?g:h||i?p:g,(0,r.createElement)(x.PostPublishButton,{forceIsDirty:t,forceIsSaving:n,isOpen:c,isToggle:_===p,onToggle:u,setEntitiesSavedStatesCallback:m})}));function Wn(){const{hasActiveMetaboxes:e,isPostSaveable:t,isSaving:n,isViewable:l,deviceType:o}=(0,u.useSelect)((e=>{var t;const{getEditedPostAttribute:n}=e(x.store),{getPostType:l}=e(Me.store),o=l(n("type"));return{hasActiveMetaboxes:e(Ht).hasMetaBoxes(),isSaving:e(Ht).isSavingMetaBoxes(),isPostSaveable:e(x.store).isEditedPostSaveable(),isViewable:null!==(t=null==o?void 0:o.viewable)&&void 0!==t&&t,deviceType:e(Ht).__experimentalGetPreviewDeviceType()}}),[]),{__experimentalSetPreviewDeviceType:a}=(0,u.useDispatch)(Ht);return(0,r.createElement)(b.__experimentalPreviewOptions,{isEnabled:t,className:"edit-post-post-preview-dropdown",deviceType:o,setDeviceType:a
/* translators: button label text should, if possible, be under 16 characters. */,viewLabel:(0,v.__)("Preview")},l&&(0,r.createElement)(E.MenuGroup,null,(0,r.createElement)("div",{className:"edit-post-header-preview__grouping-external"},(0,r.createElement)(x.PostPreviewButton,{className:"edit-post-header-preview__button-external",role:"menuitem",forceIsAutosaveable:e,forcePreviewLink:n?null:void 0,textContent:(0,r.createElement)(r.Fragment,null,(0,v.__)("Preview in new tab"),(0,r.createElement)(E.Icon,{icon:k}))}))))}function $n(){const{permalink:e,isPublished:t,label:n}=(0,u.useSelect)((e=>{const t=e(x.store).getCurrentPostType(),n=e(Me.store).getPostType(t);return{permalink:e(x.store).getPermalink(),isPublished:e(x.store).isCurrentPostPublished(),label:null==n?void 0:n.labels.view_item}}),[]);return t&&e?(0,r.createElement)(E.Button,{icon:k,label:n||(0,v.__)("View post"),href:e,target:"_blank"}):null}const jn="__experimentalMainDashboardButton",{Fill:qn,Slot:Zn}=(0,E.createSlotFill)(jn),Kn=qn;Kn.Slot=e=>{let{children:t}=e;const n=(0,E.__experimentalUseSlotFills)(jn);return Boolean(n&&n.length)?(0,r.createElement)(Zn,{bubblesVirtually:!0}):t};const Yn=Kn,Xn=(0,r.createElement)(S.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(S.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));function Qn(){const{clearSelectedBlock:e}=(0,u.useDispatch)(b.store),{setIsEditingTemplate:t}=(0,u.useDispatch)(Ht),{getEditorSettings:n}=(0,u.useSelect)(x.store),{updateEditorSettings:l,editPost:o}=(0,u.useDispatch)(x.store),{deleteEntityRecord:a}=(0,u.useDispatch)(Me.store),{template:s}=(0,u.useSelect)((e=>{const{isEditingTemplate:t,getEditedPostTemplate:n}=e(Ht);return{template:t()?n():null}}),[]),[i,c]=(0,r.useState)(!1);if(!s||!s.wp_id)return null;let d=s.slug;null!=s&&s.title&&(d=s.title);const m=null==s?void 0:s.has_theme_file;return(0,r.createElement)(E.MenuGroup,{className:"edit-post-template-top-area__second-menu-group"},(0,r.createElement)(r.Fragment,null,(0,r.createElement)(E.MenuItem,{className:"edit-post-template-top-area__delete-template-button",isDestructive:!m,onClick:()=>{c(!0)},info:m?(0,v.__)("Use the template as supplied by the theme."):void 0},m?(0,v.__)("Clear customizations"):(0,v.__)("Delete template")),(0,r.createElement)(E.__experimentalConfirmDialog,{isOpen:i,onConfirm:()=>{var r;e(),t(!1),c(!1),o({template:""});const i=n(),d=Object.fromEntries(Object.entries(null!==(r=i.availableTemplates)&&void 0!==r?r:{}).filter((e=>{let[t]=e;return t!==s.slug})));l({availableTemplates:d}),a("postType","wp_template",s.id,{throwOnError:!0})},onCancel:()=>{c(!1)}},(0,v.sprintf)(
/* translators: %s: template name */
(0,v.__)("Are you sure you want to delete the %s template? It may be used by other pages or posts."),d))))}function Jn(){const[e,t]=(0,r.useState)(!1),{template:n}=(0,u.useSelect)((e=>{const{getEditedPostTemplate:t}=e(Ht);return{template:t()}}),[]),{editEntityRecord:l}=(0,u.useDispatch)(Me.store),{getEditorSettings:o}=(0,u.useSelect)(x.store),{updateEditorSettings:a}=(0,u.useDispatch)(x.store);if(!n.is_custom||n.has_theme_file)return null;let s=(0,v.__)("Default");return null!=n&&n.title?s=n.title:n&&(s=n.slug),(0,r.createElement)("div",{className:"edit-site-template-details__group"},(0,r.createElement)(E.TextControl,{__nextHasNoMarginBottom:!0,label:(0,v.__)("Title"),value:e?"":s,help:(0,v.__)('Give the template a title that indicates its purpose, e.g. "Full Width".'),onChange:r=>{var s;if(!r&&!e)return void t(!0);t(!1);const i=o(),c=Object.fromEntries(Object.entries(null!==(s=i.availableTemplates)&&void 0!==s?s:{}).map((e=>{let[t,l]=e;return[t,t!==n.slug?l:r]})));a({availableTemplates:c}),l("postType","wp_template",n.id,{title:r})},onBlur:()=>t(!1)}))}function el(){const{description:e,title:t}=(0,u.useSelect)((e=>{const{getEditedPostTemplate:t}=e(Ht);return{title:t().title,description:t().description}}),[]);return e?(0,r.createElement)("div",{className:"edit-site-template-details__group"},(0,r.createElement)(E.__experimentalHeading,{level:4,weight:600},t),(0,r.createElement)(E.__experimentalText,{className:"edit-post-template-details__description",size:"body",as:"p",style:{marginTop:"12px"}},e)):null}const tl=function(){const{template:e,isEditing:t,title:n}=(0,u.useSelect)((e=>{const{isEditingTemplate:t,getEditedPostTemplate:n}=e(Ht),{getEditedPostAttribute:l}=e(x.store),o=t();return{template:o?n():null,isEditing:o,title:l("title")?l("title"):(0,v.__)("Untitled")}}),[]),{clearSelectedBlock:l}=(0,u.useDispatch)(b.store),{setIsEditingTemplate:o}=(0,u.useDispatch)(Ht);if(!t||!e)return null;let a=(0,v.__)("Default");null!=e&&e.title?a=e.title:e&&(a=e.slug);const s=!!(e.custom||e.wp_id||e.description);return(0,r.createElement)("div",{className:"edit-post-template-top-area"},(0,r.createElement)(E.Button,{className:"edit-post-template-post-title",isLink:!0,showTooltip:!0,label:(0,v.sprintf)(
/* translators: %s: Title of the referring post, e.g: "Hello World!" */
(0,v.__)("Edit %s"),n),onClick:()=>{l(),o(!1)}},n),s?(0,r.createElement)(E.Dropdown,{popoverProps:{placement:"bottom"},contentClassName:"edit-post-template-top-area__popover",renderToggle:e=>{let{onToggle:t}=e;return(0,r.createElement)(E.Button,{className:"edit-post-template-title",isLink:!0,icon:Xn,showTooltip:!0,onClick:t,label:(0,v.__)("Template Options")},a)},renderContent:()=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Jn,null),(0,r.createElement)(el,null),(0,r.createElement)(Qn,null))}):(0,r.createElement)(E.__experimentalText,{className:"edit-post-template-title",size:"body",style:{lineHeight:"24px"}},a))},nl=function(e){let{setEntitiesSavedStatesCallback:t}=e;const n=(0,f.useViewportMatch)("large"),{hasActiveMetaboxes:l,isPublishSidebarOpened:o,isSaving:a,showIconLabels:s,isDistractionFreeMode:i}=(0,u.useSelect)((e=>({hasActiveMetaboxes:e(Ht).hasMetaBoxes(),isPublishSidebarOpened:e(Ht).isPublishSidebarOpened(),isSaving:e(Ht).isSavingMetaBoxes(),showIconLabels:e(Ht).isFeatureActive("showIconLabels"),isDistractionFreeMode:e(Ht).isFeatureActive("distractionFree")})),[]),c=i&&n,d={hidden:c?{y:"-50"}:{y:0},hover:{y:0,transition:{type:"tween",delay:.2}}},m={hidden:c?{x:"-100%"}:{x:0},hover:{x:0,transition:{type:"tween",delay:.2}}};return(0,r.createElement)("div",{className:"edit-post-header"},(0,r.createElement)(Yn.Slot,null,(0,r.createElement)(E.__unstableMotion.div,{variants:m,transition:{type:"tween",delay:.8}},(0,r.createElement)(Bn,{showTooltip:!0}))),(0,r.createElement)(E.__unstableMotion.div,{variants:d,transition:{type:"tween",delay:.8},className:"edit-post-header__toolbar"},(0,r.createElement)(Vn,null),(0,r.createElement)(tl,null)),(0,r.createElement)(E.__unstableMotion.div,{variants:d,transition:{type:"tween",delay:.8},className:"edit-post-header__settings"},!o&&(0,r.createElement)(x.PostSavedState,{forceIsDirty:l,forceIsSaving:a,showIconLabels:s}),(0,r.createElement)($n,null),(0,r.createElement)(Wn,null),(0,r.createElement)(x.PostPreviewButton,{forceIsAutosaveable:l,forcePreviewLink:a?null:void 0}),(0,r.createElement)(zn,{forceIsDirty:l,forceIsSaving:a,setEntitiesSavedStatesCallback:t}),(n||!s)&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(me.Slot,{scope:"core/edit-post"}),(0,r.createElement)(Un,{showIconLabels:s})),s&&!n&&(0,r.createElement)(Un,{showIconLabels:s})))},ll=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function ol(){const{insertionPoint:e,showMostUsedBlocks:t}=(0,u.useSelect)((e=>{const{isFeatureActive:t,__experimentalGetInsertionPoint:n}=e(Ht);return{insertionPoint:n(),showMostUsedBlocks:t("mostUsedBlocks")}}),[]),{setIsInserterOpened:n}=(0,u.useDispatch)(Ht),l=(0,f.useViewportMatch)("medium","<"),o=l?"div":E.VisuallyHidden,[a,s]=(0,f.__experimentalUseDialog)({onClose:()=>n(!1),focusOnMount:null}),i=(0,r.useRef)();return(0,r.useEffect)((()=>{i.current.focusSearch()}),[]),(0,r.createElement)("div",_({ref:a},s,{className:"edit-post-editor__inserter-panel"}),(0,r.createElement)(o,{className:"edit-post-editor__inserter-panel-header"},(0,r.createElement)(E.Button,{icon:ll,label:(0,v.__)("Close block inserter"),onClick:()=>n(!1)})),(0,r.createElement)("div",{className:"edit-post-editor__inserter-panel-content"},(0,r.createElement)(b.__experimentalLibrary,{showMostUsedBlocks:t,showInserterHelpPanel:!0,shouldFocusBlock:l,rootClientId:e.rootClientId,__experimentalInsertionIndex:e.insertionIndex,__experimentalFilterValue:e.filterValue,ref:i})))}const al=window.wp.dom;function rl(){return(0,r.createElement)(E.SVG,{width:"138",height:"148",viewBox:"0 0 138 148",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(E.Rect,{width:"138",height:"148",rx:"4",fill:"#F0F6FC"}),(0,r.createElement)(E.Line,{x1:"44",y1:"28",x2:"24",y2:"28",stroke:"#DDDDDD"}),(0,r.createElement)(E.Rect,{x:"48",y:"16",width:"27",height:"23",rx:"4",fill:"#DDDDDD"}),(0,r.createElement)(E.Path,{d:"M54.7585 32V23.2727H56.6037V26.8736H60.3494V23.2727H62.1903V32H60.3494V28.3949H56.6037V32H54.7585ZM67.4574 23.2727V32H65.6122V25.0241H65.5611L63.5625 26.277V24.6406L65.723 23.2727H67.4574Z",fill:"black"}),(0,r.createElement)(E.Line,{x1:"55",y1:"59",x2:"24",y2:"59",stroke:"#DDDDDD"}),(0,r.createElement)(E.Rect,{x:"59",y:"47",width:"29",height:"23",rx:"4",fill:"#DDDDDD"}),(0,r.createElement)(E.Path,{d:"M65.7585 63V54.2727H67.6037V57.8736H71.3494V54.2727H73.1903V63H71.3494V59.3949H67.6037V63H65.7585ZM74.6605 63V61.6705L77.767 58.794C78.0313 58.5384 78.2528 58.3082 78.4318 58.1037C78.6136 57.8991 78.7514 57.6989 78.8452 57.5028C78.9389 57.304 78.9858 57.0895 78.9858 56.8594C78.9858 56.6037 78.9276 56.3835 78.8111 56.1989C78.6946 56.0114 78.5355 55.8679 78.3338 55.7685C78.1321 55.6662 77.9034 55.6151 77.6477 55.6151C77.3807 55.6151 77.1477 55.669 76.9489 55.777C76.75 55.8849 76.5966 56.0398 76.4886 56.2415C76.3807 56.4432 76.3267 56.6832 76.3267 56.9616H74.5753C74.5753 56.3906 74.7045 55.8949 74.9631 55.4744C75.2216 55.054 75.5838 54.7287 76.0497 54.4986C76.5156 54.2685 77.0526 54.1534 77.6605 54.1534C78.2855 54.1534 78.8295 54.2642 79.2926 54.4858C79.7585 54.7045 80.1207 55.0085 80.3793 55.3977C80.6378 55.7869 80.767 56.233 80.767 56.7358C80.767 57.0653 80.7017 57.3906 80.571 57.7116C80.4432 58.0327 80.2145 58.3892 79.8849 58.7812C79.5554 59.1705 79.0909 59.6378 78.4915 60.1832L77.2173 61.4318V61.4915H80.8821V63H74.6605Z",fill:"black"}),(0,r.createElement)(E.Line,{x1:"80",y1:"90",x2:"24",y2:"90",stroke:"#DDDDDD"}),(0,r.createElement)(E.Rect,{x:"84",y:"78",width:"30",height:"23",rx:"4",fill:"#F0B849"}),(0,r.createElement)(E.Path,{d:"M90.7585 94V85.2727H92.6037V88.8736H96.3494V85.2727H98.1903V94H96.3494V90.3949H92.6037V94H90.7585ZM99.5284 92.4659V91.0128L103.172 85.2727H104.425V87.2841H103.683L101.386 90.919V90.9872H106.564V92.4659H99.5284ZM103.717 94V92.0227L103.751 91.3793V85.2727H105.482V94H103.717Z",fill:"black"}),(0,r.createElement)(E.Line,{x1:"66",y1:"121",x2:"24",y2:"121",stroke:"#DDDDDD"}),(0,r.createElement)(E.Rect,{x:"70",y:"109",width:"29",height:"23",rx:"4",fill:"#DDDDDD"}),(0,r.createElement)(E.Path,{d:"M76.7585 125V116.273H78.6037V119.874H82.3494V116.273H84.1903V125H82.3494V121.395H78.6037V125H76.7585ZM88.8864 125.119C88.25 125.119 87.6832 125.01 87.1861 124.791C86.6918 124.57 86.3011 124.266 86.0142 123.879C85.7301 123.49 85.5838 123.041 85.5753 122.533H87.4332C87.4446 122.746 87.5142 122.933 87.642 123.095C87.7727 123.254 87.946 123.378 88.1619 123.466C88.3778 123.554 88.6207 123.598 88.8906 123.598C89.1719 123.598 89.4205 123.548 89.6364 123.449C89.8523 123.349 90.0213 123.212 90.1435 123.036C90.2656 122.859 90.3267 122.656 90.3267 122.426C90.3267 122.193 90.2614 121.987 90.1307 121.808C90.0028 121.626 89.8182 121.484 89.5767 121.382C89.3381 121.28 89.054 121.229 88.7244 121.229H87.9105V119.874H88.7244C89.0028 119.874 89.2486 119.825 89.4616 119.729C89.6776 119.632 89.8452 119.499 89.9645 119.328C90.0838 119.155 90.1435 118.953 90.1435 118.723C90.1435 118.504 90.0909 118.312 89.9858 118.148C89.8835 117.98 89.7386 117.849 89.5511 117.756C89.3665 117.662 89.1506 117.615 88.9034 117.615C88.6534 117.615 88.4247 117.661 88.2173 117.751C88.0099 117.839 87.8438 117.966 87.7188 118.131C87.5938 118.295 87.527 118.489 87.5185 118.71H85.75C85.7585 118.207 85.902 117.764 86.1804 117.381C86.4588 116.997 86.8338 116.697 87.3054 116.482C87.7798 116.263 88.3153 116.153 88.9119 116.153C89.5142 116.153 90.0412 116.263 90.4929 116.482C90.9446 116.7 91.2955 116.996 91.5455 117.368C91.7983 117.737 91.9233 118.152 91.9205 118.612C91.9233 119.101 91.7713 119.509 91.4645 119.835C91.1605 120.162 90.7642 120.369 90.2756 120.457V120.526C90.9176 120.608 91.4063 120.831 91.7415 121.195C92.0795 121.555 92.2472 122.007 92.2443 122.55C92.2472 123.047 92.1037 123.489 91.8139 123.875C91.527 124.261 91.1307 124.565 90.625 124.787C90.1193 125.009 89.5398 125.119 88.8864 125.119Z",fill:"black"}))}function sl(){const{headingCount:e}=(0,u.useSelect)((e=>{const{getGlobalBlockCount:t}=e(b.store);return{headingCount:t("core/heading")}}),[]);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"edit-post-editor__list-view-overview"},(0,r.createElement)("div",null,(0,r.createElement)(E.__experimentalText,null,(0,v.__)("Characters:")),(0,r.createElement)(E.__experimentalText,null,(0,r.createElement)(x.CharacterCount,null))),(0,r.createElement)("div",null,(0,r.createElement)(E.__experimentalText,null,(0,v.__)("Words:")),(0,r.createElement)(x.WordCount,null)),(0,r.createElement)("div",null,(0,r.createElement)(E.__experimentalText,null,(0,v.__)("Time to read:")),(0,r.createElement)(x.TimeToRead,null))),e>0?(0,r.createElement)(x.DocumentOutline,null):(0,r.createElement)("div",{className:"edit-post-editor__list-view-empty-headings"},(0,r.createElement)(rl,null),(0,r.createElement)("p",null,(0,v.__)("Navigate the structure of your document and address issues like empty or incorrect heading levels."))))}function il(){const{setIsListViewOpened:e}=(0,u.useDispatch)(Ht),t=(0,f.useFocusOnMount)("firstElement"),n=(0,f.useFocusReturn)(),l=(0,f.useFocusReturn)(),[o,a]=(0,r.useState)("list-view"),s=(0,r.useRef)(),i=(0,r.useRef)(),c=(0,r.useRef)(),d=(0,r.useRef)();return(0,jt.useShortcut)("core/edit-post/toggle-list-view",(()=>{s.current.contains(s.current.ownerDocument.activeElement)?e(!1):function(e){if("list-view"===e){const e=al.focus.tabbable.find(d.current)[0];(s.current.contains(e)?e:i.current).focus()}else c.current.focus()}(o)})),(0,r.createElement)("div",{className:"edit-post-editor__document-overview-panel",onKeyDown:function(t){t.keyCode!==M.ESCAPE||t.defaultPrevented||(t.preventDefault(),e(!1))},ref:s},(0,r.createElement)("div",{className:"edit-post-editor__document-overview-panel-header components-panel__header edit-post-sidebar__panel-tabs",ref:n},(0,r.createElement)(E.Button,{icon:U,label:(0,v.__)("Close"),onClick:()=>e(!1)}),(0,r.createElement)("ul",null,(0,r.createElement)("li",null,(0,r.createElement)(E.Button,{ref:i,onClick:()=>{a("list-view")},className:V()("edit-post-sidebar__panel-tab",{"is-active":"list-view"===o}),"aria-current":"list-view"===o},(0,v.__)("List View"))),(0,r.createElement)("li",null,(0,r.createElement)(E.Button,{ref:c,onClick:()=>{a("outline")},className:V()("edit-post-sidebar__panel-tab",{"is-active":"outline"===o}),"aria-current":"outline"===o},(0,v.__)("Outline"))))),(0,r.createElement)("div",{ref:(0,f.useMergeRefs)([l,t,d]),className:"edit-post-editor__list-view-container"},"list-view"===o&&(0,r.createElement)("div",{className:"edit-post-editor__list-view-panel-content"},(0,r.createElement)(b.__experimentalListView,null)),"outline"===o&&(0,r.createElement)(sl,null)))}const cl=(0,r.createElement)(S.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z"})),dl=(0,r.createElement)(S.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})),ul=e=>{let{sidebarName:t}=e;const{openGeneralSidebar:n}=(0,u.useDispatch)(Ht),l=()=>n("edit-post/document"),{documentLabel:o,isTemplateMode:a}=(0,u.useSelect)((e=>({
// translators: Default label for the Document sidebar tab, not selected.
documentLabel:e(x.store).getPostTypeLabel()||(0,v._x)("Document","noun"),isTemplateMode:e(Ht).isEditingTemplate()})),[]),[s,i]="edit-post/document"===t?// translators: ARIA label for the Document sidebar tab, selected. %s: Document label.
[(0,v.sprintf)((0,v.__)("%s (selected)"),o),"is-active"]:[o,""],[c,d]="edit-post/block"===t?// translators: ARIA label for the Block Settings Sidebar tab, selected.
[(0,v.__)("Block (selected)"),"is-active"]:// translators: ARIA label for the Block Settings Sidebar tab, not selected.
[(0,v.__)("Block"),""],[m,p]="edit-post/document"===t?[(0,v.__)("Template (selected)"),"is-active"]:[(0,v.__)("Template"),""];return(0,r.createElement)("ul",null,!a&&(0,r.createElement)("li",null,(0,r.createElement)(E.Button,{onClick:l,className:`edit-post-sidebar__panel-tab ${i}`,"aria-label":s,"data-label":o},o)),a&&(0,r.createElement)("li",null,(0,r.createElement)(E.Button,{onClick:l,className:`edit-post-sidebar__panel-tab ${p}`,"aria-label":m,"data-label":(0,v.__)("Template")},(0,v.__)("Template"))),(0,r.createElement)("li",null,(0,r.createElement)(E.Button,{onClick:()=>n("edit-post/block"),className:`edit-post-sidebar__panel-tab ${d}`,"aria-label":c,"data-label":(0,v.__)("Block")},// translators: Text label for the Block Settings Sidebar tab.
(0,v.__)("Block"))))};function ml(e){let{isOpen:t,onClick:n}=e;const l=(0,x.usePostVisibilityLabel)();return(0,r.createElement)(E.Button,{className:"edit-post-post-visibility__toggle",variant:"tertiary","aria-expanded":t,"aria-label":(0,v.sprintf)((0,v.__)("Select visibility: %s"),l),onClick:n},l)}const pl=function(){const[e,t]=(0,r.useState)(null),n=(0,r.useMemo)((()=>({anchor:e,placement:"bottom-end"})),[e]);return(0,r.createElement)(x.PostVisibilityCheck,{render:e=>{let{canEdit:l}=e;return(0,r.createElement)(E.PanelRow,{ref:t,className:"edit-post-post-visibility"},(0,r.createElement)("span",null,(0,v.__)("Visibility")),!l&&(0,r.createElement)("span",null,(0,r.createElement)(x.PostVisibilityLabel,null)),l&&(0,r.createElement)(E.Dropdown,{contentClassName:"edit-post-post-visibility__dialog",popoverProps:n,focusOnMount:!0,renderToggle:e=>{let{isOpen:t,onToggle:n}=e;return(0,r.createElement)(ml,{isOpen:t,onClick:n})},renderContent:e=>{let{onClose:t}=e;return(0,r.createElement)(x.PostVisibility,{onClose:t})}}))}})};function gl(){return(0,r.createElement)(x.PostTrashCheck,null,(0,r.createElement)(E.FlexItem,{isBlock:!0},(0,r.createElement)(x.PostTrash,null)))}function hl(){const[e,t]=(0,r.useState)(null),n=(0,r.useMemo)((()=>({anchor:e,placement:"bottom-end"})),[e]);return(0,r.createElement)(x.PostScheduleCheck,null,(0,r.createElement)(E.PanelRow,{className:"edit-post-post-schedule",ref:t},(0,r.createElement)("span",null,(0,v.__)("Publish")),(0,r.createElement)(E.Dropdown,{popoverProps:n,contentClassName:"edit-post-post-schedule__dialog",focusOnMount:!0,renderToggle:e=>{let{isOpen:t,onToggle:n}=e;return(0,r.createElement)(_l,{isOpen:t,onClick:n})},renderContent:e=>{let{onClose:t}=e;return(0,r.createElement)(x.PostSchedule,{onClose:t})}})))}function _l(e){let{isOpen:t,onClick:n}=e;const l=(0,x.usePostScheduleLabel)(),o=(0,x.usePostScheduleLabel)({full:!0});return(0,r.createElement)(E.Button,{className:"edit-post-post-schedule__toggle",variant:"tertiary",label:o,showTooltip:!0,"aria-expanded":t,"aria-label":(0,v.sprintf)((0,v.__)("Change date: %s"),l),onClick:n},l)}const El=function(){return(0,r.createElement)(x.PostStickyCheck,null,(0,r.createElement)(E.PanelRow,null,(0,r.createElement)(x.PostSticky,null)))},bl=function(){return(0,r.createElement)(x.PostAuthorCheck,null,(0,r.createElement)(E.PanelRow,{className:"edit-post-post-author"},(0,r.createElement)(x.PostAuthor,null)))},vl=function(){return(0,r.createElement)(x.PostSlugCheck,null,(0,r.createElement)(E.PanelRow,{className:"edit-post-post-slug"},(0,r.createElement)(x.PostSlug,null)))},fl=function(){return(0,r.createElement)(x.PostFormatCheck,null,(0,r.createElement)(E.PanelRow,{className:"edit-post-post-format"},(0,r.createElement)(x.PostFormat,null)))},yl=function(){return(0,r.createElement)(x.PostPendingStatusCheck,null,(0,r.createElement)(E.PanelRow,null,(0,r.createElement)(x.PostPendingStatus,null)))},{Fill:wl,Slot:Sl}=(0,E.createSlotFill)("PluginPostStatusInfo"),kl=e=>{let{children:t,className:n}=e;return(0,r.createElement)(wl,null,(0,r.createElement)(E.PanelRow,{className:n},t))};kl.Slot=Sl;const Pl=kl,Cl=(0,r.createElement)(S.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(S.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 5.5V8H20V5.5H22.5V4H20V1.5H18.5V4H16V5.5H18.5ZM13.9624 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V10.0391H18.5V18C18.5 18.2761 18.2761 18.5 18 18.5H10L10 10.4917L16.4589 10.5139L16.4641 9.01389L5.5 8.97618V6C5.5 5.72386 5.72386 5.5 6 5.5H13.9624V4ZM5.5 10.4762V18C5.5 18.2761 5.72386 18.5 6 18.5H8.5L8.5 10.4865L5.5 10.4762Z"})),Tl=(0,v.__)("Custom Template");function xl(e){let{onClose:t}=e;const n=(0,u.useSelect)((e=>e(x.store).getEditorSettings().defaultBlockTemplate),[]),{__unstableCreateTemplate:l,__unstableSwitchToTemplateMode:o}=(0,u.useDispatch)(Ht),[a,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),m=()=>{i(""),t()};return(0,r.createElement)(E.Modal,{title:(0,v.__)("Create custom template"),onRequestClose:m,className:"edit-post-post-template__create-modal"},(0,r.createElement)("form",{className:"edit-post-post-template__create-form",onSubmit:async e=>{if(e.preventDefault(),c)return;d(!0);const t=null!=n?n:(0,s.serialize)([(0,s.createBlock)("core/group",{tagName:"header",layout:{inherit:!0}},[(0,s.createBlock)("core/site-title"),(0,s.createBlock)("core/site-tagline")]),(0,s.createBlock)("core/separator"),(0,s.createBlock)("core/group",{tagName:"main"},[(0,s.createBlock)("core/group",{layout:{inherit:!0}},[(0,s.createBlock)("core/post-title")]),(0,s.createBlock)("core/post-content",{layout:{inherit:!0}})])]);await l({slug:(0,C.cleanForSlug)(a||Tl),content:t,title:a||Tl}),d(!1),m(),o(!0)}},(0,r.createElement)(E.__experimentalVStack,{spacing:"3"},(0,r.createElement)(E.TextControl,{__nextHasNoMarginBottom:!0,label:(0,v.__)("Name"),value:a,onChange:i,placeholder:Tl,disabled:c,help:(0,v.__)('Describe the template, e.g. "Post with sidebar". A custom template can be manually applied to any post or page.')}),(0,r.createElement)(E.__experimentalHStack,{justify:"right"},(0,r.createElement)(E.Button,{variant:"tertiary",onClick:m},(0,v.__)("Cancel")),(0,r.createElement)(E.Button,{variant:"primary",type:"submit",isBusy:c,"aria-disabled":c},(0,v.__)("Create"))))))}function Bl(e){var t,n;let{onClose:l}=e;const{isPostsPage:o,availableTemplates:a,fetchedTemplates:s,selectedTemplateSlug:i,canCreate:c,canEdit:d}=(0,u.useSelect)((e=>{const{canUser:t,getEntityRecord:n,getEntityRecords:l}=e(Me.store),o=e(x.store).getEditorSettings(),a=t("read","settings")?n("root","site"):void 0,r=e(x.store).getCurrentPostId()===(null==a?void 0:a.page_for_posts),s=t("create","templates");return{isPostsPage:r,availableTemplates:o.availableTemplates,fetchedTemplates:s?l("postType","wp_template",{post_type:e(x.store).getCurrentPostType(),per_page:-1}):void 0,selectedTemplateSlug:e(x.store).getEditedPostAttribute("template"),canCreate:s&&!r&&o.supportsTemplateMode,canEdit:s&&o.supportsTemplateMode&&!!e(Ht).getEditedPostTemplate()}}),[]),m=(0,r.useMemo)((()=>Object.entries({...a,...Object.fromEntries((null!=s?s:[]).map((e=>{let{slug:t,title:n}=e;return[t,n.rendered]})))}).map((e=>{let[t,n]=e;return{value:t,label:n}}))),[a,s]),p=null!==(t=m.find((e=>e.value===i)))&&void 0!==t?t:m.find((e=>!e.value)),{editPost:g}=(0,u.useDispatch)(x.store),{__unstableSwitchToTemplateMode:h}=(0,u.useDispatch)(Ht),[_,f]=(0,r.useState)(!1);return(0,r.createElement)("div",{className:"edit-post-post-template__form"},(0,r.createElement)(b.__experimentalInspectorPopoverHeader,{title:(0,v.__)("Template"),help:(0,v.__)("Templates define the way content is displayed when viewing your site."),actions:c?[{icon:Cl,label:(0,v.__)("Add template"),onClick:()=>f(!0)}]:[],onClose:l}),o?(0,r.createElement)(E.Notice,{className:"edit-post-post-template__notice",status:"warning",isDismissible:!1},(0,v.__)("The posts page template cannot be changed.")):(0,r.createElement)(E.SelectControl,{__nextHasNoMarginBottom:!0,hideLabelFromVision:!0,label:(0,v.__)("Template"),value:null!==(n=null==p?void 0:p.value)&&void 0!==n?n:"",options:m,onChange:e=>g({template:e||""})}),d&&(0,r.createElement)("p",null,(0,r.createElement)(E.Button,{variant:"link",onClick:()=>h()},(0,v.__)("Edit template"))),_&&(0,r.createElement)(xl,{onClose:()=>f(!1)}))}function Ml(){const[e,t]=(0,r.useState)(null),n=(0,r.useMemo)((()=>({anchor:e,placement:"bottom-end"})),[e]);return(0,u.useSelect)((e=>{var t;const n=e(x.store).getCurrentPostType(),l=e(Me.store).getPostType(n);if(null==l||!l.viewable)return!1;const o=e(x.store).getEditorSettings();return!!(o.availableTemplates&&Object.keys(o.availableTemplates).length>0)||!!o.supportsTemplateMode&&(null!==(t=e(Me.store).canUser("create","templates"))&&void 0!==t&&t)}),[])?(0,r.createElement)(E.PanelRow,{className:"edit-post-post-template",ref:t},(0,r.createElement)("span",null,(0,v.__)("Template")),(0,r.createElement)(E.Dropdown,{popoverProps:n,className:"edit-post-post-template__dropdown",contentClassName:"edit-post-post-template__dialog",focusOnMount:!0,renderToggle:e=>{let{isOpen:t,onToggle:n}=e;return(0,r.createElement)(Nl,{isOpen:t,onClick:n})},renderContent:e=>{let{onClose:t}=e;return(0,r.createElement)(Bl,{onClose:t})}})):null}function Nl(e){let{isOpen:t,onClick:n}=e;const l=(0,u.useSelect)((e=>{const t=e(x.store).getEditedPostAttribute("template"),{supportsTemplateMode:n,availableTemplates:l}=e(x.store).getEditorSettings();if(!n&&l[t])return l[t];const o=e(Me.store).canUser("create","templates")&&e(Ht).getEditedPostTemplate();return(null==o?void 0:o.title)||(null==o?void 0:o.slug)||(null==l?void 0:l[t])}),[]);return(0,r.createElement)(E.Button,{className:"edit-post-post-template__toggle",variant:"tertiary","aria-expanded":t,"aria-label":l?(0,v.sprintf)(// translators: %s: Name of the currently selected template.
(0,v.__)("Select template: %s"),l):(0,v.__)("Select template"),onClick:n},null!=l?l:(0,v.__)("Default template"))}function Il(){const[e,t]=(0,r.useState)(null),n=(0,r.useMemo)((()=>({anchor:e,placement:"bottom-end"})),[e]);return(0,r.createElement)(x.PostURLCheck,null,(0,r.createElement)(E.PanelRow,{className:"edit-post-post-url",ref:t},(0,r.createElement)("span",null,(0,v.__)("URL")),(0,r.createElement)(E.Dropdown,{popoverProps:n,className:"edit-post-post-url__dropdown",contentClassName:"edit-post-post-url__dialog",focusOnMount:!0,renderToggle:e=>{let{isOpen:t,onToggle:n}=e;return(0,r.createElement)(Al,{isOpen:t,onClick:n})},renderContent:e=>{let{onClose:t}=e;return(0,r.createElement)(x.PostURL,{onClose:t})}})))}function Al(e){let{isOpen:t,onClick:n}=e;const l=(0,x.usePostURLLabel)();return(0,r.createElement)(E.Button,{className:"edit-post-post-url__toggle",variant:"tertiary","aria-expanded":t,"aria-label":(0,v.sprintf)((0,v.__)("Change URL: %s"),l),onClick:n},l)}const Dl="post-status",Ll=(0,f.compose)([(0,u.withSelect)((e=>{const{isEditorPanelRemoved:t,isEditorPanelOpened:n}=e(Ht);return{isRemoved:t(Dl),isOpened:n(Dl)}})),(0,f.ifCondition)((e=>{let{isRemoved:t}=e;return!t})),(0,u.withDispatch)((e=>({onTogglePanel:()=>e(Ht).toggleEditorPanelOpened(Dl)})))])((function(e){let{isOpened:t,onTogglePanel:n}=e;return(0,r.createElement)(E.PanelBody,{className:"edit-post-post-status",title:(0,v.__)("Summary"),opened:t,onToggle:n},(0,r.createElement)(Pl.Slot,null,(e=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(pl,null),(0,r.createElement)(hl,null),(0,r.createElement)(Ml,null),(0,r.createElement)(Il,null),(0,r.createElement)(El,null),(0,r.createElement)(yl,null),(0,r.createElement)(fl,null),(0,r.createElement)(vl,null),(0,r.createElement)(bl,null),e,(0,r.createElement)(E.__experimentalHStack,{style:{marginTop:"16px"},spacing:4},(0,r.createElement)(x.PostSwitchToDraftButton,null),(0,r.createElement)(gl,null))))))})),Ol=function(){return(0,r.createElement)(x.PostLastRevisionCheck,null,(0,r.createElement)(E.PanelBody,{className:"edit-post-last-revision__panel"},(0,r.createElement)(x.PostLastRevision,null)))},Vl=(0,f.compose)((0,u.withSelect)(((e,t)=>{var n;const l=null===(n=t.taxonomy)||void 0===n?void 0:n.slug,o=l?`taxonomy-panel-${l}`:"";return{panelName:o,isEnabled:!!l&&e(Ht).isEditorPanelEnabled(o),isOpened:!!l&&e(Ht).isEditorPanelOpened(o)}})),(0,u.withDispatch)(((e,t)=>({onTogglePanel:()=>{e(Ht).toggleEditorPanelOpened(t.panelName)}}))))((function(e){var t;let{isEnabled:n,taxonomy:l,isOpened:o,onTogglePanel:a,children:s}=e;if(!n)return null;const i=null==l||null===(t=l.labels)||void 0===t?void 0:t.menu_name;return i?(0,r.createElement)(E.PanelBody,{title:i,opened:o,onToggle:a},s):null})),Fl=function(){return(0,r.createElement)(x.PostTaxonomiesCheck,null,(0,r.createElement)(x.PostTaxonomies,{taxonomyWrapper:(e,t)=>(0,r.createElement)(Vl,{taxonomy:t},e)}))},Rl="featured-image",Hl=(0,u.withSelect)((e=>{const{getEditedPostAttribute:t}=e(x.store),{getPostType:n}=e(Me.store),{isEditorPanelEnabled:l,isEditorPanelOpened:o}=e(Ht);return{postType:n(t("type")),isEnabled:l(Rl),isOpened:o(Rl)}})),Gl=(0,u.withDispatch)((e=>{const{toggleEditorPanelOpened:t}=e(Ht);return{onTogglePanel:function(){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return t(Rl,...n)}}})),Ul=(0,f.compose)(Hl,Gl)((function(e){var t,n;let{isEnabled:l,isOpened:o,postType:a,onTogglePanel:s}=e;return l?(0,r.createElement)(x.PostFeaturedImageCheck,null,(0,r.createElement)(E.PanelBody,{title:null!==(t=null==a||null===(n=a.labels)||void 0===n?void 0:n.featured_image)&&void 0!==t?t:(0,v.__)("Featured image"),opened:o,onToggle:s},(0,r.createElement)(x.PostFeaturedImage,null))):null})),zl="post-excerpt",Wl=(0,f.compose)([(0,u.withSelect)((e=>({isEnabled:e(Ht).isEditorPanelEnabled(zl),isOpened:e(Ht).isEditorPanelOpened(zl)}))),(0,u.withDispatch)((e=>({onTogglePanel:()=>e(Ht).toggleEditorPanelOpened(zl)})))])((function(e){let{isEnabled:t,isOpened:n,onTogglePanel:l}=e;return t?(0,r.createElement)(x.PostExcerptCheck,null,(0,r.createElement)(E.PanelBody,{title:(0,v.__)("Excerpt"),opened:n,onToggle:l},(0,r.createElement)(x.PostExcerpt,null))):null})),$l="discussion-panel",jl=(0,f.compose)([(0,u.withSelect)((e=>({isEnabled:e(Ht).isEditorPanelEnabled($l),isOpened:e(Ht).isEditorPanelOpened($l)}))),(0,u.withDispatch)((e=>({onTogglePanel:()=>e(Ht).toggleEditorPanelOpened($l)})))])((function(e){let{isEnabled:t,isOpened:n,onTogglePanel:l}=e;return t?(0,r.createElement)(x.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},(0,r.createElement)(E.PanelBody,{title:(0,v.__)("Discussion"),opened:n,onToggle:l},(0,r.createElement)(x.PostTypeSupportCheck,{supportKeys:"comments"},(0,r.createElement)(E.PanelRow,null,(0,r.createElement)(x.PostComments,null))),(0,r.createElement)(x.PostTypeSupportCheck,{supportKeys:"trackbacks"},(0,r.createElement)(E.PanelRow,null,(0,r.createElement)(x.PostPingbacks,null))))):null})),ql="page-attributes",Zl=function(){var e,t;const{isEnabled:n,isOpened:l,postType:o}=(0,u.useSelect)((e=>{const{getEditedPostAttribute:t}=e(x.store),{isEditorPanelEnabled:n,isEditorPanelOpened:l}=e(Ht),{getPostType:o}=e(Me.store);return{isEnabled:n(ql),isOpened:l(ql),postType:o(t("type"))}}),[]),{toggleEditorPanelOpened:a}=(0,u.useDispatch)(Ht);return n&&o?(0,r.createElement)(x.PageAttributesCheck,null,(0,r.createElement)(E.PanelBody,{title:null!==(e=null==o||null===(t=o.labels)||void 0===t?void 0:t.attributes)&&void 0!==e?e:(0,v.__)("Page attributes"),opened:l,onToggle:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(ql,...t)}},(0,r.createElement)(x.PageAttributesParent,null),(0,r.createElement)(E.PanelRow,null,(0,r.createElement)(x.PageAttributesOrder,null)))):null},Kl=function(e){let{location:t}=e;const n=(0,r.useRef)(null),l=(0,r.useRef)(null);(0,r.useEffect)((()=>(l.current=document.querySelector(".metabox-location-"+t),l.current&&n.current.appendChild(l.current),()=>{l.current&&document.querySelector("#metaboxes").appendChild(l.current)})),[t]);const o=(0,u.useSelect)((e=>e(Ht).isSavingMetaBoxes()),[]),a=V()("edit-post-meta-boxes-area",`is-${t}`,{"is-loading":o});return(0,r.createElement)("div",{className:a},o&&(0,r.createElement)(E.Spinner,null),(0,r.createElement)("div",{className:"edit-post-meta-boxes-area__container",ref:n}),(0,r.createElement)("div",{className:"edit-post-meta-boxes-area__clear"}))};class Yl extends r.Component{componentDidMount(){this.updateDOM()}componentDidUpdate(e){this.props.isVisible!==e.isVisible&&this.updateDOM()}updateDOM(){const{id:e,isVisible:t}=this.props,n=document.getElementById(e);n&&(t?n.classList.remove("is-hidden"):n.classList.add("is-hidden"))}render(){return null}}const Xl=(0,u.withSelect)(((e,t)=>{let{id:n}=t;return{isVisible:e(Ht).isEditorPanelEnabled(`meta-box-${n}`)}}))(Yl);function Ql(e){let{location:t}=e;const n=(0,u.useRegistry)(),{metaBoxes:l,areMetaBoxesInitialized:o,isEditorReady:a}=(0,u.useSelect)((e=>{const{__unstableIsEditorReady:n}=e(x.store),{getMetaBoxesPerLocation:l,areMetaBoxesInitialized:o}=e(Ht);return{metaBoxes:l(t),areMetaBoxesInitialized:o(),isEditorReady:n()}}),[t]);return(0,r.useEffect)((()=>{a&&!o&&n.dispatch(Ht).initializeMetaBoxes()}),[a,o]),o?(0,r.createElement)(r.Fragment,null,(null!=l?l:[]).map((e=>{let{id:t}=e;return(0,r.createElement)(Xl,{key:t,id:t})})),(0,r.createElement)(Kl,{location:t})):null}window.wp.warning;const{Fill:Jl,Slot:eo}=(0,E.createSlotFill)("PluginDocumentSettingPanel"),to=(0,f.compose)((0,P.withPluginContext)(((e,t)=>(void 0===t.name&&"undefined"!=typeof process&&process.env,{panelName:`${e.name}/${t.name}`}))),(0,u.withSelect)(((e,t)=>{let{panelName:n}=t;return{opened:e(Ht).isEditorPanelOpened(n),isEnabled:e(Ht).isEditorPanelEnabled(n)}})),(0,u.withDispatch)(((e,t)=>{let{panelName:n}=t;return{onToggle:()=>e(Ht).toggleEditorPanelOpened(n)}})))((e=>{let{isEnabled:t,panelName:n,opened:l,onToggle:o,className:a,title:s,icon:i,children:c}=e;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(bn,{label:s,panelName:n}),(0,r.createElement)(Jl,null,t&&(0,r.createElement)(E.PanelBody,{className:a,title:s,icon:i,opened:l,onToggle:o},c)))}));to.Slot=eo;const no=to;function lo(e){let{className:t,...n}=e;const{postTitle:l,shortcut:o,showIconLabels:a}=(0,u.useSelect)((e=>({postTitle:e(x.store).getEditedPostAttribute("title"),shortcut:e(jt.store).getShortcutRepresentation("core/edit-post/toggle-sidebar"),showIconLabels:e(Ht).isFeatureActive("showIconLabels")})),[]);return(0,r.createElement)(he,_({panelClassName:t,className:"edit-post-sidebar",smallScreenTitle:l||(0,v.__)("(no title)"),scope:"core/edit-post",toggleShortcut:o,showIconLabels:a},n))}const oo=(0,r.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(S.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})),ao=function(){const e=(0,u.useSelect)((e=>{const{getEditedPostTemplate:t}=e(Ht);return t()}),[]);return e?(0,r.createElement)(E.PanelBody,null,(0,r.createElement)(E.Flex,{align:"flex-start",gap:"3"},(0,r.createElement)(E.FlexItem,null,(0,r.createElement)(we,{icon:oo})),(0,r.createElement)(E.FlexBlock,null,(0,r.createElement)("h2",{className:"edit-post-template-summary__title"},(null==e?void 0:e.title)||(null==e?void 0:e.slug)),(0,r.createElement)("p",null,null==e?void 0:e.description)))):null},ro=r.Platform.select({web:!0,native:!1}),so=()=>{const{sidebarName:e,keyboardShortcut:t,isTemplateMode:n}=(0,u.useSelect)((e=>{let t=e(ne).getActiveComplementaryArea(Ht.name);return["edit-post/document","edit-post/block"].includes(t)||(e(b.store).getBlockSelectionStart()&&(t="edit-post/block"),t="edit-post/document"),{sidebarName:t,keyboardShortcut:e(jt.store).getShortcutRepresentation("core/edit-post/toggle-sidebar"),isTemplateMode:e(Ht).isEditingTemplate()}}),[]);return(0,r.createElement)(lo,{identifier:e,header:(0,r.createElement)(ul,{sidebarName:e}),closeLabel:(0,v.__)("Close Settings"),headerClassName:"edit-post-sidebar__panel-tabs"
/* translators: button label text should, if possible, be under 16 characters. */,title:(0,v.__)("Settings"),toggleShortcut:t,icon:(0,v.isRTL)()?cl:dl,isActiveByDefault:ro},!n&&"edit-post/document"===e&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Ll,null),(0,r.createElement)(no.Slot,null),(0,r.createElement)(Ol,null),(0,r.createElement)(Fl,null),(0,r.createElement)(Ul,null),(0,r.createElement)(Wl,null),(0,r.createElement)(jl,null),(0,r.createElement)(Zl,null),(0,r.createElement)(Ql,{location:"side"})),n&&"edit-post/document"===e&&(0,r.createElement)(ao,null),"edit-post/block"===e&&(0,r.createElement)(b.BlockInspector,null))};function io(e){let{nonAnimatedSrc:t,animatedSrc:n}=e;return(0,r.createElement)("picture",{className:"edit-post-welcome-guide__image"},(0,r.createElement)("source",{srcSet:t,media:"(prefers-reduced-motion: reduce)"}),(0,r.createElement)("img",{src:n,width:"312",height:"240",alt:""}))}function co(){const{toggleFeature:e}=(0,u.useDispatch)(Ht);return(0,r.createElement)(E.Guide,{className:"edit-post-welcome-guide",contentLabel:(0,v.__)("Welcome to the block editor"),finishButtonText:(0,v.__)("Get started"),onFinish:()=>e("welcomeGuide"),pages:[{image:(0,r.createElement)(io,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,v.__)("Welcome to the block editor")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,v.__)("In the WordPress editor, each paragraph, image, or video is presented as a distinct block of content.")))},{image:(0,r.createElement)(io,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,v.__)("Make each block your own")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,v.__)("Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.")))},{image:(0,r.createElement)(io,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,v.__)("Get to know the block library")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,r.createInterpolateElement)((0,v.__)("All of the blocks available to you live in the block library. Youll find it wherever you see the <InserterIconImage /> icon."),{InserterIconImage:(0,r.createElement)("img",{alt:(0,v.__)("inserter"),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})))},{image:(0,r.createElement)(io,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,v.__)("Learn how to use the block editor")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,v.__)("New to the block editor? Want to learn more about using it? "),(0,r.createElement)(E.ExternalLink,{href:(0,v.__)("https://wordpress.org/documentation/article/wordpress-block-editor/")},(0,v.__)("Here's a detailed guide."))))}]})}function uo(){const{toggleFeature:e}=(0,u.useDispatch)(Ht);return(0,r.createElement)(E.Guide,{className:"edit-template-welcome-guide",contentLabel:(0,v.__)("Welcome to the template editor"),finishButtonText:(0,v.__)("Get started"),onFinish:()=>e("welcomeGuideTemplate"),pages:[{image:(0,r.createElement)(io,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,v.__)("Welcome to the template editor")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,v.__)("Templates help define the layout of the site. You can customize all aspects of your posts and pages using blocks and patterns in this editor.")))}]})}function mo(){const{isActive:e,isTemplateMode:t}=(0,u.useSelect)((e=>{const{isFeatureActive:t,isEditingTemplate:n}=e(Ht),l=n();return{isActive:t(l?"welcomeGuideTemplate":"welcomeGuide"),isTemplateMode:l}}),[]);return e?t?(0,r.createElement)(uo,null):(0,r.createElement)(co,null):null}const{Fill:po,Slot:go}=(0,E.createSlotFill)("PluginPostPublishPanel"),ho=(0,f.compose)((0,P.withPluginContext)(((e,t)=>({icon:t.icon||e.icon}))))((e=>{let{children:t,className:n,title:l,initialOpen:o=!1,icon:a}=e;return(0,r.createElement)(po,null,(0,r.createElement)(E.PanelBody,{className:n,initialOpen:o||!l,title:l,icon:a},t))}));ho.Slot=go;const _o=ho,{Fill:Eo,Slot:bo}=(0,E.createSlotFill)("PluginPrePublishPanel"),vo=(0,f.compose)((0,P.withPluginContext)(((e,t)=>({icon:t.icon||e.icon}))))((e=>{let{children:t,className:n,title:l,initialOpen:o=!1,icon:a}=e;return(0,r.createElement)(Eo,null,(0,r.createElement)(E.PanelBody,{className:n,initialOpen:o||!l,title:l,icon:a},t))}));vo.Slot=bo;const fo=vo,{Fill:yo,Slot:wo}=(0,E.createSlotFill)("ActionsPanel");function So(e){let{setEntitiesSavedStatesCallback:t,closeEntitiesSavedStates:n,isEntitiesSavedStatesOpen:l}=e;const{closePublishSidebar:o,togglePublishSidebar:a}=(0,u.useDispatch)(Ht),{publishSidebarOpened:s,hasActiveMetaboxes:i,isSavingMetaBoxes:c,hasNonPostEntityChanges:d}=(0,u.useSelect)((e=>({publishSidebarOpened:e(Ht).isPublishSidebarOpened(),hasActiveMetaboxes:e(Ht).hasMetaBoxes(),isSavingMetaBoxes:e(Ht).isSavingMetaBoxes(),hasNonPostEntityChanges:e(x.store).hasNonPostEntityChanges()})),[]),m=(0,r.useCallback)((()=>t(!0)),[]);let p;return p=s?(0,r.createElement)(x.PostPublishPanel,{onClose:o,forceIsDirty:i,forceIsSaving:c,PrePublishExtension:fo.Slot,PostPublishExtension:_o.Slot}):d?(0,r.createElement)("div",{className:"edit-post-layout__toggle-entities-saved-states-panel"},(0,r.createElement)(E.Button,{variant:"secondary",className:"edit-post-layout__toggle-entities-saved-states-panel-button",onClick:m,"aria-expanded":!1},(0,v.__)("Open save panel"))):(0,r.createElement)("div",{className:"edit-post-layout__toggle-publish-panel"},(0,r.createElement)(E.Button,{variant:"secondary",className:"edit-post-layout__toggle-publish-panel-button",onClick:a,"aria-expanded":!1},(0,v.__)("Open publish panel"))),(0,r.createElement)(r.Fragment,null,l&&(0,r.createElement)(x.EntitiesSavedStates,{close:n}),(0,r.createElement)(wo,{bubblesVirtually:!0}),!l&&p)}function ko(){const{blockPatternsWithPostContentBlockType:e,postType:t}=(0,u.useSelect)((e=>{const{getPatternsByBlockTypes:t}=e(b.store),{getCurrentPostType:n}=e(x.store);return{blockPatternsWithPostContentBlockType:t("core/post-content"),postType:n()}}),[]);return(0,r.useMemo)((()=>e.filter((e=>"page"===t&&!e.postTypes||Array.isArray(e.postTypes)&&e.postTypes.includes(t)))),[t,e])}function Po(e){let{onChoosePattern:t}=e;const n=ko(),l=(0,f.useAsyncList)(n),{resetEditorBlocks:o}=(0,u.useDispatch)(x.store);return(0,r.createElement)(b.__experimentalBlockPatternsList,{blockPatterns:n,shownPatterns:l,onClickPattern:(e,n)=>{o(n),t()}})}const Co="INITIAL",To="PATTERN",xo="CLOSED";function Bo(){const[e,t]=(0,r.useState)(Co),n=ko().length>0,l=(0,u.useSelect)((t=>{if(!n||e!==Co)return!1;const{getEditedPostContent:l,isEditedPostSaveable:o}=t(x.store),{isEditingTemplate:a,isFeatureActive:r}=t(Ht);return!o()&&""===l()&&!a()&&!r("welcomeGuide")}),[e,n]);return(0,r.useEffect)((()=>{l&&t(To)}),[l]),e===Co||e===xo?null:(0,r.createElement)(E.Modal,{className:"edit-post-start-page-options__modal",title:(0,v.__)("Choose a pattern"),isFullScreen:!0,onRequestClose:()=>{t(xo)}},(0,r.createElement)("div",{className:"edit-post-start-page-options__modal-content"},e===To&&(0,r.createElement)(Po,{onChoosePattern:()=>{t(xo)}})))}const Mo={
/* translators: accessibility text for the editor top bar landmark region. */
header:(0,v.__)("Editor top bar"),
/* translators: accessibility text for the editor content landmark region. */
body:(0,v.__)("Editor content"),
/* translators: accessibility text for the editor settings landmark region. */
sidebar:(0,v.__)("Editor settings"),
/* translators: accessibility text for the editor publish landmark region. */
actions:(0,v.__)("Editor publish"),
/* translators: accessibility text for the editor footer landmark region. */
footer:(0,v.__)("Editor footer")},No=function(e){let{styles:t}=e;const n=(0,f.useViewportMatch)("medium","<"),l=(0,f.useViewportMatch)("huge",">="),o=(0,f.useViewportMatch)("large"),{openGeneralSidebar:a,closeGeneralSidebar:s,setIsInserterOpened:i}=(0,u.useDispatch)(Ht),{createErrorNotice:c}=(0,u.useDispatch)(T.store),{mode:d,isFullscreenActive:m,isRichEditingEnabled:p,sidebarIsOpened:g,hasActiveMetaboxes:h,hasFixedToolbar:_,previousShortcut:y,nextShortcut:w,hasBlockSelected:S,isInserterOpened:k,isListViewOpened:C,showIconLabels:B,isDistractionFree:M,showBlockBreadcrumbs:N,isTemplateMode:I,documentLabel:A}=(0,u.useSelect)((e=>{const{getEditorSettings:t,getPostTypeLabel:n}=e(x.store),l=t(),o=n();return{isTemplateMode:e(Ht).isEditingTemplate(),hasFixedToolbar:e(Ht).isFeatureActive("fixedToolbar"),sidebarIsOpened:!(!e(ne).getActiveComplementaryArea(Ht.name)&&!e(Ht).isPublishSidebarOpened()),isFullscreenActive:e(Ht).isFeatureActive("fullscreenMode"),isInserterOpened:e(Ht).isInserterOpened(),isListViewOpened:e(Ht).isListViewOpened(),mode:e(Ht).getEditorMode(),isRichEditingEnabled:l.richEditingEnabled,hasActiveMetaboxes:e(Ht).hasMetaBoxes(),previousShortcut:e(jt.store).getAllShortcutKeyCombinations("core/edit-post/previous-region"),nextShortcut:e(jt.store).getAllShortcutKeyCombinations("core/edit-post/next-region"),showIconLabels:e(Ht).isFeatureActive("showIconLabels"),isDistractionFree:e(Ht).isFeatureActive("distractionFree"),showBlockBreadcrumbs:e(Ht).isFeatureActive("showBlockBreadcrumbs"),
// translators: Default label for the Document in the Block Breadcrumb.
documentLabel:o||(0,v._x)("Document","noun")}}),[]);(0,r.useEffect)((()=>{g&&!l&&i(!1)}),[g,l]),(0,r.useEffect)((()=>{k&&!l&&s()}),[k,l]);const[D,L]=(0,r.useState)(!1),O=(0,r.useCallback)((e=>{"function"==typeof D&&D(e),L(!1)}),[D]),F=V()("edit-post-layout","is-mode-"+d,{"is-sidebar-opened":g,"has-fixed-toolbar":_,"has-metaboxes":h,"show-icon-labels":B,"is-distraction-free":M&&o,"is-entity-save-view-open":!!D}),R=C?(0,v.__)("Document Overview"):(0,v.__)("Block Library");return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(_e,{isActive:m}),(0,r.createElement)(Tn,null),(0,r.createElement)(x.UnsavedChangesWarning,null),(0,r.createElement)(x.AutosaveMonitor,null),(0,r.createElement)(x.LocalAutosaveMonitor,null),(0,r.createElement)(en,null),(0,r.createElement)(x.EditorKeyboardShortcutsRegister,null),(0,r.createElement)(so,null),(0,r.createElement)(be,{isDistractionFree:M&&o,className:F,labels:{...Mo,secondarySidebar:R},header:(0,r.createElement)(nl,{setEntitiesSavedStatesCallback:L}),editorNotices:(0,r.createElement)(x.EditorNotices,null),secondarySidebar:"visual"===d&&k?(0,r.createElement)(ol,null):"visual"===d&&C?(0,r.createElement)(il,null):null,sidebar:(!n||g)&&(0,r.createElement)(r.Fragment,null,!n&&!g&&(0,r.createElement)("div",{className:"edit-post-layout__toggle-sidebar-panel"},(0,r.createElement)(E.Button,{variant:"secondary",className:"edit-post-layout__toggle-sidebar-panel-button",onClick:()=>a(S?"edit-post/block":"edit-post/document"),"aria-expanded":!1},S?(0,v.__)("Open block settings"):(0,v.__)("Open document settings"))),(0,r.createElement)(he.Slot,{scope:"core/edit-post"})),notices:(0,r.createElement)(x.EditorSnackbars,null),content:(0,r.createElement)(r.Fragment,null,!M&&(0,r.createElement)(x.EditorNotices,null),("text"===d||!p)&&(0,r.createElement)(Kt,null),p&&"visual"===d&&(0,r.createElement)(Jt,{styles:t}),!M&&!I&&(0,r.createElement)("div",{className:"edit-post-layout__metaboxes"},(0,r.createElement)(Ql,{location:"normal"}),(0,r.createElement)(Ql,{location:"advanced"})),n&&g&&(0,r.createElement)(E.ScrollLock,null)),footer:!M&&!n&&N&&p&&"visual"===d&&(0,r.createElement)("div",{className:"edit-post-layout__footer"},(0,r.createElement)(b.BlockBreadcrumb,{rootLabelText:A})),actions:(0,r.createElement)(So,{closeEntitiesSavedStates:O,isEntitiesSavedStatesOpen:D,setEntitiesSavedStatesCallback:L}),shortcuts:{previous:y,next:w}}),(0,r.createElement)(Pn,null),(0,r.createElement)(dn,null),(0,r.createElement)(mo,null),(0,r.createElement)(Bo,null),(0,r.createElement)(E.Popover.Slot,null),(0,r.createElement)(P.PluginArea,{onError:function(e){c((0,v.sprintf)(
/* translators: %s: plugin name */
(0,v.__)('The "%s" plugin has encountered an error and cannot be rendered.'),e))}}))};function Io(e){let{postId:t}=e;return(e=>{const{hasBlockSelection:t,isEditorSidebarOpened:n}=(0,u.useSelect)((e=>({hasBlockSelection:!!e(b.store).getBlockSelectionStart(),isEditorSidebarOpened:e(Rt).isEditorSidebarOpened()})),[e]),{openGeneralSidebar:l}=(0,u.useDispatch)(Rt);(0,r.useEffect)((()=>{n&&l(t?"edit-post/block":"edit-post/document")}),[t,n])})(t),(e=>{const{newPermalink:t}=(0,u.useSelect)((e=>({newPermalink:e(x.store).getCurrentPost().link})),[e]),n=(0,r.useRef)();(0,r.useEffect)((()=>{n.current=document.querySelector("#wp-admin-bar-preview a")||document.querySelector("#wp-admin-bar-view a")}),[e]),(0,r.useEffect)((()=>{t&&n.current&&n.current.setAttribute("href",t)}),[t])})(t),null}const{ExperimentalEditorProvider:Ao}=Dn(x.privateApis),{useCommands:Do}=Dn(Zt.privateApis),Lo=function(e){let{postId:t,postType:n,settings:l,initialEdits:o,...a}=e;Do();const{hasFixedToolbar:i,focusMode:c,isDistractionFree:d,hasInlineToolbar:m,hasThemeStyles:g,post:h,preferredStyleVariations:b,hiddenBlockTypes:v,blockTypes:f,keepCaretInsideBlock:y,isTemplateMode:w,template:S}=(0,u.useSelect)((e=>{var l,o;const{isFeatureActive:a,__experimentalGetPreviewDeviceType:r,isEditingTemplate:i,getEditedPostTemplate:c,getHiddenBlockTypes:d}=e(Ht),{getEntityRecord:u,getPostType:m,getEntityRecords:g,canUser:h}=e(Me.store),{getEditorSettings:_}=e(x.store),{getBlockTypes:E}=e(s.store);let b;if(["wp_template","wp_template_part"].includes(n)){const e=g("postType",n,{wp_id:t});b=null==e?void 0:e[0]}else b=u("postType",n,t);const v=_().supportsTemplateMode,f=null!==(l=null===(o=m(n))||void 0===o?void 0:o.viewable)&&void 0!==l&&l,y=h("create","templates");return{hasFixedToolbar:a("fixedToolbar")||"Desktop"!==r(),focusMode:a("focusMode"),isDistractionFree:a("distractionFree"),hasInlineToolbar:a("inlineToolbar"),hasThemeStyles:a("themeStyles"),preferredStyleVariations:e(p.store).get("core/edit-post","preferredStyleVariations"),hiddenBlockTypes:d(),blockTypes:E(),keepCaretInsideBlock:a("keepCaretInsideBlock"),isTemplateMode:i(),template:v&&f&&y?c():null,post:b}}),[n,t]),{updatePreferredStyleVariations:k,setIsInserterOpened:P}=(0,u.useDispatch)(Ht),C=(0,r.useMemo)((()=>{const e={...l,__experimentalPreferredStyleVariations:{value:b,onChange:k},hasFixedToolbar:i,focusMode:c,isDistractionFree:d,hasInlineToolbar:m,__experimentalSetIsInserterOpened:P,keepCaretInsideBlock:y,defaultAllowedBlockTypes:l.allowedBlockTypes};if(v.length>0){const t=!0===l.allowedBlockTypes?f.map((e=>{let{name:t}=e;return t})):l.allowedBlockTypes||[];e.allowedBlockTypes=t.filter((e=>!v.includes(e)))}return e}),[l,i,m,c,d,v,f,b,P,k,y]),T=(0,r.useMemo)((()=>{var e;const t=[],n=[];null===(e=l.styles)||void 0===e||e.forEach((e=>{e.__unstableType&&"theme"!==e.__unstableType?n.push(e):t.push(e)}));const o=[...l.defaultEditorStyles,...n];return g&&t.length?l.styles:o}),[l,g]);return h?(0,r.createElement)(jt.ShortcutProvider,null,(0,r.createElement)(E.SlotFillProvider,null,(0,r.createElement)(Ao,_({settings:C,post:h,initialEdits:o,useSubRegistry:!1,__unstableTemplate:w?S:void 0},a),(0,r.createElement)(x.ErrorBoundary,null,(0,r.createElement)(qt.CommandMenu,null),(0,r.createElement)(Io,{postId:t}),(0,r.createElement)(No,{styles:T})),(0,r.createElement)(x.PostLockedModal,null)))):null},Oo=e=>{let{allowedBlocks:t,icon:n,label:l,onClick:o,small:a,role:s}=e;return(0,r.createElement)(b.BlockSettingsMenuControls,null,(e=>{let{selectedBlocks:i,onClose:c}=e;return((e,t)=>{return!Array.isArray(t)||(n=t,0===e.filter((e=>!n.includes(e))).length);var n})(i,t)?(0,r.createElement)(E.MenuItem,{onClick:(0,f.compose)(o,c),icon:n,label:a?l:void 0,role:s},!a&&l):null}))},Vo=(0,f.compose)((0,P.withPluginContext)(((e,t)=>{var n;return{as:null!==(n=t.as)&&void 0!==n?n:E.MenuItem,icon:t.icon||e.icon,name:"core/edit-post/plugin-more-menu"}})))(ie);function Fo(e){return(0,r.createElement)(de,_({__unstableExplicitMenuItem:!0,scope:"core/edit-post"},e))}function Ro(e,t,n,l,o){const a=document.getElementById(e),c=(0,r.createRoot)(a);return(0,u.dispatch)(p.store).setDefaults("core/edit-post",{editorMode:"visual",fixedToolbar:!1,fullscreenMode:!0,hiddenBlockTypes:[],inactivePanels:[],isPublishSidebarEnabled:!0,openPanels:["post-status"],preferredStyleVariations:{},showBlockBreadcrumbs:!0,showIconLabels:!1,showListViewByDefault:!1,themeStyles:!0,welcomeGuide:!0,welcomeGuideTemplate:!0}),(0,u.dispatch)(s.store).__experimentalReapplyBlockTypeFilters(),(0,u.select)(Ht).isFeatureActive("showListViewByDefault")&&(0,u.dispatch)(Ht).setIsListViewOpened(!0),(0,i.registerCoreBlocks)(),(0,g.registerLegacyWidgetBlock)({inserter:!1}),(0,g.registerWidgetGroupBlock)({inserter:!1}),(0,i.__experimentalRegisterExperimentalCoreBlocks)({enableFSEBlocks:l.__unstableEnableFullSiteEditingBlocks}),(0,m.addFilter)("blockEditor.__unstableCanInsertBlockType","removeTemplatePartsFromInserter",((e,t)=>!!((0,u.select)(Ht).isEditingTemplate()||"core/template-part"!==t.name&&"core/post-content"!==t.name)&&e)),"Standards"!=("CSS1Compat"===document.compatMode?"Standards":"Quirks")&&console.warn("Your browser is using Quirks Mode. \nThis can cause rendering issues such as blocks overlaying meta boxes in the editor. Quirks Mode can be triggered by PHP errors or HTML code appearing before the opening <!DOCTYPE html>. Try checking the raw page source or your site's PHP error log and resolving errors there, removing any HTML before the doctype, or disabling plugins."),-1!==window.navigator.userAgent.indexOf("iPhone")&&window.addEventListener("scroll",(e=>{const t=document.getElementsByClassName("interface-interface-skeleton__body")[0];e.target===document&&(window.scrollY>100&&(t.scrollTop=t.scrollTop+window.scrollY),document.getElementsByClassName("is-mode-visual")[0]&&window.scrollTo(0,0))})),window.addEventListener("dragover",(e=>e.preventDefault()),!1),window.addEventListener("drop",(e=>e.preventDefault()),!1),c.render((0,r.createElement)(Lo,{settings:l,postId:n,postType:t,initialEdits:o})),c}function Ho(){d()("wp.editPost.reinitializeEditor",{since:"6.2",version:"6.3"})}})(),(window.wp=window.wp||{}).editPost=l})();
//# sourceMappingURL=index.min.js.map