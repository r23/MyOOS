!function(){var e={4184:function(e,t){var n;!function(){"use strict";var l={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var r=o.apply(null,n);r&&e.push(r)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var i in n)l.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(l){var o=t[l];if(void 0!==o)return o.exports;var a=t[l]={exports:{}};return e[l](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};!function(){"use strict";n.r(l),n.d(l,{PluginBlockSettingsMenuItem:function(){return mo},PluginDocumentSettingPanel:function(){return Dl},PluginMoreMenuItem:function(){return po},PluginPostPublishPanel:function(){return Jl},PluginPostStatusInfo:function(){return dl},PluginPrePublishPanel:function(){return lo},PluginSidebar:function(){return Rl},PluginSidebarMoreMenuItem:function(){return Eo},__experimentalFullscreenModeClose:function(){return Pn},__experimentalMainDashboardButton:function(){return zn},initializeEditor:function(){return go},reinitializeEditor:function(){return _o},store:function(){return At}});var e={};n.r(e),n.d(e,{disableComplementaryArea:function(){return x},enableComplementaryArea:function(){return C},pinItem:function(){return B},setFeatureDefaults:function(){return L},setFeatureValue:function(){return A},toggleFeature:function(){return M},unpinItem:function(){return N}});var t={};n.r(t),n.d(t,{getActiveComplementaryArea:function(){return O},isFeatureActive:function(){return R},isItemPinned:function(){return D}});var o={};n.r(o),n.d(o,{__experimentalSetPreviewDeviceType:function(){return We},__experimentalUpdateLocalAutosaveInterval:function(){return Fe},__unstableCreateTemplate:function(){return je},__unstableSwitchToTemplateMode:function(){return Ye},closeGeneralSidebar:function(){return ke},closeModal:function(){return Te},closePublishSidebar:function(){return xe},hideBlockTypes:function(){return De},initializeMetaBoxes:function(){return Qe},metaBoxUpdatesFailure:function(){return He},metaBoxUpdatesSuccess:function(){return ze},openGeneralSidebar:function(){return Se},openModal:function(){return Pe},openPublishSidebar:function(){return Ce},removeEditorPanel:function(){return Me},requestMetaBoxUpdates:function(){return Ge},setAvailableMetaBoxesPerLocation:function(){return Ue},setIsEditingTemplate:function(){return Ke},setIsInserterOpened:function(){return $e},setIsListViewOpened:function(){return qe},showBlockTypes:function(){return Ve},switchEditorMode:function(){return Le},toggleEditorPanelEnabled:function(){return Be},toggleEditorPanelOpened:function(){return Ne},toggleFeature:function(){return Ae},togglePinnedPluginItem:function(){return Oe},togglePublishSidebar:function(){return Ie},updatePreferredStyleVariations:function(){return Re}});var a={};n.r(a),n.d(a,{__experimentalGetInsertionPoint:function(){return Tt},__experimentalGetPreviewDeviceType:function(){return kt},areMetaBoxesInitialized:function(){return It},getActiveGeneralSidebarName:function(){return it},getActiveMetaBoxLocations:function(){return ht},getAllMetaBoxes:function(){return yt},getEditedPostTemplate:function(){return Bt},getEditorMode:function(){return ot},getMetaBoxesPerLocation:function(){return vt},getPreference:function(){return ct},getPreferences:function(){return st},hasMetaBoxes:function(){return wt},isEditingTemplate:function(){return xt},isEditorPanelEnabled:function(){return mt},isEditorPanelOpened:function(){return pt},isEditorPanelRemoved:function(){return dt},isEditorSidebarOpened:function(){return at},isFeatureActive:function(){return _t},isInserterOpened:function(){return Pt},isListViewOpened:function(){return Ct},isMetaBoxLocationActive:function(){return ft},isMetaBoxLocationVisible:function(){return bt},isModalActive:function(){return Et},isPluginItemPinned:function(){return gt},isPluginSidebarOpened:function(){return rt},isPublishSidebarOpened:function(){return ut},isSavingMetaBoxes:function(){return St}});var r=window.wp.element,i=window.wp.blockLibrary,s=window.wp.data;function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}var u=n(4184),d=n.n(u),m=window.wp.components,p=window.wp.i18n,E=window.wp.primitives,_=(0,r.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(E.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),g=(0,r.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(E.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),h=(0,r.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(E.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),b=window.wp.viewport,f=(0,r.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(E.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),v=window.lodash;const y=(0,v.flow)([s.combineReducers])({features(e={},t){if("SET_FEATURE_DEFAULTS"===t.type){const{scope:n,defaults:l}=t;return{...e,[n]:{...e[n],...l}}}return e}}),w=(0,v.flow)([s.combineReducers])({features(e={},t){if("SET_FEATURE_VALUE"===t.type){const{scope:n,featureName:l,value:o}=t;return{...e,[n]:{...e[n],[l]:o}}}return e}}),S=(0,s.combineReducers)({singleEnableItems:function(e={},{type:t,itemType:n,scope:l,item:o}){return"SET_SINGLE_ENABLE_ITEM"===t&&n&&l?{...e,[n]:{...e[n],[l]:o||null}}:e},multipleEnableItems:function(e={},{type:t,itemType:n,scope:l,item:o,isEnable:a}){if("SET_MULTIPLE_ENABLE_ITEM"!==t||!n||!l||!o||(0,v.get)(e,[n,l,o])===a)return e;const r=e[n]||{},i=r[l]||{};return{...e,[n]:{...r,[l]:{...i,[o]:a||!1}}}}});var k=(0,s.combineReducers)({enableItems:S,preferenceDefaults:y,preferences:w});const P="core/interface";function T(e,t,n){return{type:"SET_SINGLE_ENABLE_ITEM",itemType:e,scope:t,item:n}}function C(e,t){return T("complementaryArea",e,t)}function x(e){return T("complementaryArea",e,void 0)}function I(e,t,n,l){return{type:"SET_MULTIPLE_ENABLE_ITEM",itemType:e,scope:t,item:n,isEnable:l}}function B(e,t){return I("pinnedItems",e,t,!0)}function N(e,t){return I("pinnedItems",e,t,!1)}function*M(e,t){const n=yield s.controls.select(P,"isFeatureActive",e,t);yield s.controls.dispatch(P,"setFeatureValue",e,t,!n)}function A(e,t,n){return{type:"SET_FEATURE_VALUE",scope:e,featureName:t,value:!!n}}function L(e,t){return{type:"SET_FEATURE_DEFAULTS",scope:e,defaults:t}}function O(e,t){return function(e,t,n){return(0,v.get)(e.enableItems.singleEnableItems,["complementaryArea",n])}(e,0,t)}function D(e,t,n){return!1!==function(e,t,n,l){return(0,v.get)(e.enableItems.multipleEnableItems,["pinnedItems",n,l])}(e,0,t,n)}function R(e,t,n){var l,o;const a=null===(l=e.preferences.features[t])||void 0===l?void 0:l[n];return!!(void 0!==a?a:null===(o=e.preferenceDefaults.features[t])||void 0===o?void 0:o[n])}const F=(0,s.createReduxStore)(P,{reducer:k,actions:e,selectors:t,persist:["enableItems","preferences"]});(0,s.registerStore)(P,{reducer:k,actions:e,selectors:t,persist:["enableItems","preferences"]});var V=window.wp.plugins,U=(0,V.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`}))),G=U((function({as:e=m.Button,scope:t,identifier:n,icon:l,selectedIcon:o,...a}){const i=e,u=(0,s.useSelect)((e=>e(F).getActiveComplementaryArea(t)===n),[n]),{enableComplementaryArea:d,disableComplementaryArea:p}=(0,s.useDispatch)(F);return(0,r.createElement)(i,c({icon:o&&u?o:l,onClick:()=>{u?p(t):d(t,n)}},(0,v.omit)(a,["name"])))})),z=({smallScreenTitle:e,children:t,className:n,toggleButtonProps:l})=>{const o=(0,r.createElement)(G,c({icon:f},l));return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},e&&(0,r.createElement)("span",{className:"interface-complementary-area-header__small-title"},e),o),(0,r.createElement)("div",{className:d()("components-panel__header","interface-complementary-area-header",n),tabIndex:-1},t,o))};function H({name:e,as:t=m.Button,onClick:n,...l}){return(0,r.createElement)(m.Fill,{name:e},(({onClick:e})=>(0,r.createElement)(t,c({onClick:n||e?(...t)=>{(n||v.noop)(...t),(e||v.noop)(...t)}:void 0},l))))}H.Slot=function({name:e,as:t=m.ButtonGroup,fillProps:n={},bubblesVirtually:l,...o}){return(0,r.createElement)(m.Slot,{name:e,bubblesVirtually:l,fillProps:n},(e=>{if((0,v.isEmpty)(r.Children.toArray(e)))return null;const n=[];r.Children.forEach(e,(({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&n.push(t)}));const l=r.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&n.includes(e.props.__unstableTarget)?null:e));return(0,r.createElement)(t,o,l)}))};var W=H;const $=e=>(0,r.createElement)(m.MenuItem,(0,v.omit)(e,["__unstableExplicitMenuItem","__unstableTarget"]));function q({scope:e,target:t,__unstableExplicitMenuItem:n,...l}){return(0,r.createElement)(G,c({as:l=>(0,r.createElement)(W,c({__unstableExplicitMenuItem:n,__unstableTarget:`${e}/${t}`,as:$,name:`${e}/plugin-more-menu`},l)),role:"menuitemcheckbox",selectedIcon:_,name:t,scope:e},l))}function K({scope:e,...t}){return(0,r.createElement)(m.Fill,c({name:`PinnedItems/${e}`},t))}K.Slot=function({scope:e,className:t,...n}){return(0,r.createElement)(m.Slot,c({name:`PinnedItems/${e}`},n),(e=>!(0,v.isEmpty)(e)&&(0,r.createElement)("div",{className:d()(t,"interface-pinned-items")},e)))};var Y=K;function j({scope:e,children:t,className:n}){return(0,r.createElement)(m.Fill,{name:`ComplementaryArea/${e}`},(0,r.createElement)("div",{className:n},t))}const X=U((function({children:e,className:t,closeLabel:n=(0,p.__)("Close plugin"),identifier:l,header:o,headerClassName:a,icon:i,isPinnable:c=!0,panelClassName:u,scope:E,name:f,smallScreenTitle:v,title:y,toggleShortcut:w,isActiveByDefault:S,showIconLabels:k=!1}){const{isActive:P,isPinned:T,activeArea:C,isSmall:x,isLarge:I}=(0,s.useSelect)((e=>{const{getActiveComplementaryArea:t,isItemPinned:n}=e(F),o=t(E);return{isActive:o===l,isPinned:n(E,l),activeArea:o,isSmall:e(b.store).isViewportMatch("< medium"),isLarge:e(b.store).isViewportMatch("large")}}),[l,E]);!function(e,t,n,l,o){const a=(0,r.useRef)(!1),i=(0,r.useRef)(!1),{enableComplementaryArea:c,disableComplementaryArea:u}=(0,s.useDispatch)(F);(0,r.useEffect)((()=>{l&&o&&!a.current?(u(e),i.current=!0):i.current&&!o&&a.current?(i.current=!1,c(e,t)):i.current&&n&&n!==t&&(i.current=!1),o!==a.current&&(a.current=o)}),[l,o,e,t,n])}(E,l,C,P,x);const{enableComplementaryArea:B,disableComplementaryArea:N,pinItem:M,unpinItem:A}=(0,s.useDispatch)(F);return(0,r.useEffect)((()=>{S&&void 0===C&&!x&&B(E,l)}),[C,S,E,l,x]),(0,r.createElement)(r.Fragment,null,c&&(0,r.createElement)(Y,{scope:E},T&&(0,r.createElement)(G,{scope:E,identifier:l,isPressed:P&&(!k||I),"aria-expanded":P,label:y,icon:k?_:i,showTooltip:!k,variant:k?"tertiary":void 0})),f&&c&&(0,r.createElement)(q,{target:f,scope:E,icon:i},y),P&&(0,r.createElement)(j,{className:d()("interface-complementary-area",t),scope:E},(0,r.createElement)(z,{className:a,closeLabel:n,onClose:()=>N(E),smallScreenTitle:v,toggleButtonProps:{label:n,shortcut:w,scope:E,identifier:l}},o||(0,r.createElement)(r.Fragment,null,(0,r.createElement)("strong",null,y),c&&(0,r.createElement)(m.Button,{className:"interface-complementary-area__pin-unpin-item",icon:T?g:h,label:T?(0,p.__)("Unpin from toolbar"):(0,p.__)("Pin to toolbar"),onClick:()=>(T?A:M)(E,l),isPressed:T,"aria-expanded":T}))),(0,r.createElement)(m.Panel,{className:u},e)))}));X.Slot=function({scope:e,...t}){return(0,r.createElement)(m.Slot,c({name:`ComplementaryArea/${e}`},t))};var Q=X,Z=({isActive:e})=>((0,r.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,r.useEffect)((()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")})),[e]),null),J=window.wp.compose,ee=(0,r.forwardRef)((function({footer:e,header:t,sidebar:n,secondarySidebar:l,notices:o,content:a,drawer:i,actions:s,labels:u,className:E,shortcuts:_},g){const h=(0,m.__unstableUseNavigateRegions)(_);!function(e){(0,r.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const b={
/* translators: accessibility text for the nav bar landmark region. */
drawer:(0,p.__)("Drawer"),
/* translators: accessibility text for the top bar landmark region. */
header:(0,p.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:(0,p.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,p.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,p.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,p.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,p.__)("Footer"),...u};return(0,r.createElement)("div",c({},h,{ref:(0,J.useMergeRefs)([g,h.ref]),className:d()(E,"interface-interface-skeleton",h.className,!!e&&"has-footer")}),!!i&&(0,r.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":b.drawer},i),(0,r.createElement)("div",{className:"interface-interface-skeleton__editor"},!!t&&(0,r.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":b.header,tabIndex:"-1"},t),(0,r.createElement)("div",{className:"interface-interface-skeleton__body"},!!l&&(0,r.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":b.secondarySidebar,tabIndex:"-1"},l),!!o&&(0,r.createElement)("div",{className:"interface-interface-skeleton__notices"},o),(0,r.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":b.body,tabIndex:"-1"},a),!!n&&(0,r.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":b.sidebar,tabIndex:"-1"},n),!!s&&(0,r.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":b.actions,tabIndex:"-1"},s))),!!e&&(0,r.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":b.footer,tabIndex:"-1"},e))})),te=(0,r.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(E.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function ne({as:e=m.DropdownMenu,className:t,label:
/* translators: button label text should, if possible, be under 16 characters. */
n=(0,p.__)("Options"),popoverProps:l,toggleProps:o,children:a}){return(0,r.createElement)(e,{className:d()("interface-more-menu-dropdown",t),icon:te,label:n,popoverProps:{position:"bottom left",...l,className:d()("interface-more-menu-dropdown__content",null==l?void 0:l.className)},toggleProps:{tooltipPosition:"bottom",...o}},(e=>a(e)))}var le=window.wp.a11y;function oe({scope:e,label:t,info:n,messageActivated:l,messageDeactivated:o,shortcut:a,feature:i}){const c=(0,s.useSelect)((t=>t(F).isFeatureActive(e,i)),[i]),{toggleFeature:u}=(0,s.useDispatch)(F);return(0,r.createElement)(m.MenuItem,{icon:c&&_,isSelected:c,onClick:()=>{u(e,i),c?(0,le.speak)(o||(0,p.__)("Feature deactivated")):(0,le.speak)(l||(0,p.__)("Feature activated"))},role:"menuitemcheckbox",info:n,shortcut:a},t)}var ae=window.wp.hooks,re=window.wp.mediaUtils;(0,ae.addFilter)("editor.MediaUpload","core/edit-post/replace-media-upload",(()=>re.MediaUpload));var ie=window.wp.blocks,se=window.wp.blockEditor;const ce=(0,J.compose)((0,s.withSelect)(((e,t)=>{if((0,ie.hasBlockSupport)(t.name,"multiple",!0))return{};const n=e(se.store).getBlocks(),l=(0,v.find)(n,(({name:e})=>t.name===e));return{originalBlockClientId:l&&l.clientId!==t.clientId&&l.clientId}})),(0,s.withDispatch)(((e,{originalBlockClientId:t})=>({selectFirst:()=>e(se.store).selectBlock(t)})))),ue=(0,J.createHigherOrderComponent)((e=>ce((({originalBlockClientId:t,selectFirst:n,...l})=>{if(!t)return(0,r.createElement)(e,l);const o=(0,ie.getBlockType)(l.name),a=function(e){const t=(0,ie.findTransform)((0,ie.getBlockTransforms)("to",e),(({type:e,blocks:t})=>"block"===e&&1===t.length));return t?(0,ie.getBlockType)(t.blocks[0]):null}(l.name);return[(0,r.createElement)("div",{key:"invalid-preview",style:{minHeight:"60px"}},(0,r.createElement)(e,c({key:"block-edit"},l))),(0,r.createElement)(se.Warning,{key:"multiple-use-warning",actions:[(0,r.createElement)(m.Button,{key:"find-original",variant:"secondary",onClick:n},(0,p.__)("Find original")),(0,r.createElement)(m.Button,{key:"remove",variant:"secondary",onClick:()=>l.onReplace([])},(0,p.__)("Remove")),a&&(0,r.createElement)(m.Button,{key:"transform",variant:"secondary",onClick:()=>l.onReplace((0,ie.createBlock)(a.name,l.attributes))},(0,p.__)("Transform into:")," ",a.title)]},(0,r.createElement)("strong",null,o.title,": "),(0,p.__)("This block can only be used once."))]}))),"withMultipleValidation");(0,ae.addFilter)("editor.BlockEdit","core/edit-post/validate-multiple-use/with-multiple-validation",ue);var de=(0,r.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(E.Path,{d:"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"})),me=window.wp.url,pe=window.wp.notices,Ee=window.wp.editor;function _e(){const{createNotice:e}=(0,s.useDispatch)(pe.store),t=(0,s.useSelect)((e=>()=>e(Ee.store).getEditedPostAttribute("content")),[]),n=(0,J.useCopyToClipboard)(t,(function(){e("info",(0,p.__)("All content copied."),{isDismissible:!0,type:"snackbar"})}));return(0,r.createElement)(m.MenuItem,{ref:n},(0,p.__)("Copy all content"))}var ge=window.wp.keycodes,he=window.wp.dataControls;const be=(0,v.flow)([s.combineReducers,(fe={editorMode:"visual",panels:{"post-status":{opened:!0}},hiddenBlockTypes:[],preferredStyleVariations:{},localAutosaveInterval:15},e=>(t=fe,n)=>e(t,n))])({panels(e,t){switch(t.type){case"TOGGLE_PANEL_ENABLED":{const{panelName:n}=t;return{...e,[n]:{...e[n],enabled:!(0,v.get)(e,[n,"enabled"],!0)}}}case"TOGGLE_PANEL_OPENED":{const{panelName:n}=t,l=!0===e[n]||(0,v.get)(e,[n,"opened"],!1);return{...e,[n]:{...e[n],opened:!l}}}}return e},editorMode:(e,t)=>"SWITCH_MODE"===t.type?t.mode:e,hiddenBlockTypes(e,t){switch(t.type){case"SHOW_BLOCK_TYPES":return(0,v.without)(e,...t.blockNames);case"HIDE_BLOCK_TYPES":return(0,v.union)(e,t.blockNames)}return e},preferredStyleVariations(e,t){switch(t.type){case"UPDATE_PREFERRED_STYLE_VARIATIONS":return t.blockName?t.blockStyle?{...e,[t.blockName]:t.blockStyle}:(0,v.omit)(e,[t.blockName]):e}return e},localAutosaveInterval(e,t){switch(t.type){case"UPDATE_LOCAL_AUTOSAVE_INTERVAL":return t.interval}return e}});var fe;const ve=(0,s.combineReducers)({isSaving:function(e=!1,t){switch(t.type){case"REQUEST_META_BOX_UPDATES":return!0;case"META_BOX_UPDATES_SUCCESS":case"META_BOX_UPDATES_FAILURE":return!1;default:return e}},locations:function(e={},t){switch(t.type){case"SET_META_BOXES_PER_LOCATIONS":return t.metaBoxesPerLocation}return e},initialized:function(e=!1,t){switch(t.type){case"META_BOXES_INITIALIZED":return!0}return e}});var ye=(0,s.combineReducers)({activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e},metaBoxes:ve,preferences:be,publishSidebarActive:function(e=!1,t){switch(t.type){case"OPEN_PUBLISH_SIDEBAR":return!0;case"CLOSE_PUBLISH_SIDEBAR":return!1;case"TOGGLE_PUBLISH_SIDEBAR":return!e}return e},removedPanels:function(e=[],t){switch(t.type){case"REMOVE_PANEL":if(!(0,v.includes)(e,t.panelName))return[...e,t.panelName]}return e},deviceType:function(e="Desktop",t){switch(t.type){case"SET_PREVIEW_DEVICE_TYPE":return t.deviceType}return e},blockInserterPanel:function(e=!1,t){switch(t.type){case"SET_IS_LIST_VIEW_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.value}return e},listViewPanel:function(e=!1,t){switch(t.type){case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e},isEditingTemplate:function(e=!1,t){switch(t.type){case"SET_IS_EDITING_TEMPLATE":return t.value}return e}}),we=window.wp.coreData;function*Se(e){yield s.controls.dispatch(F,"enableComplementaryArea",At.name,e)}function*ke(){yield s.controls.dispatch(F,"disableComplementaryArea",At.name)}function Pe(e){return{type:"OPEN_MODAL",name:e}}function Te(){return{type:"CLOSE_MODAL"}}function Ce(){return{type:"OPEN_PUBLISH_SIDEBAR"}}function xe(){return{type:"CLOSE_PUBLISH_SIDEBAR"}}function Ie(){return{type:"TOGGLE_PUBLISH_SIDEBAR"}}function Be(e){return{type:"TOGGLE_PANEL_ENABLED",panelName:e}}function Ne(e){return{type:"TOGGLE_PANEL_OPENED",panelName:e}}function Me(e){return{type:"REMOVE_PANEL",panelName:e}}function*Ae(e){yield s.controls.dispatch(F.name,"toggleFeature","core/edit-post",e)}function*Le(e){yield{type:"SWITCH_MODE",mode:e},"visual"!==e&&(yield s.controls.dispatch(se.store,"clearSelectedBlock"));const t="visual"===e?(0,p.__)("Visual editor selected"):(0,p.__)("Code editor selected");(0,le.speak)(t,"assertive")}function*Oe(e){const t=yield s.controls.select(F,"isItemPinned","core/edit-post",e);yield s.controls.dispatch(F,t?"unpinItem":"pinItem","core/edit-post",e)}function De(e){return{type:"HIDE_BLOCK_TYPES",blockNames:(0,v.castArray)(e)}}function Re(e,t){return{type:"UPDATE_PREFERRED_STYLE_VARIATIONS",blockName:e,blockStyle:t}}function Fe(e){return{type:"UPDATE_LOCAL_AUTOSAVE_INTERVAL",interval:e}}function Ve(e){return{type:"SHOW_BLOCK_TYPES",blockNames:(0,v.castArray)(e)}}function*Ue(e){yield{type:"SET_META_BOXES_PER_LOCATIONS",metaBoxesPerLocation:e}}function*Ge(){yield{type:"REQUEST_META_BOX_UPDATES"},window.tinyMCE&&window.tinyMCE.triggerSave();const e=yield s.controls.select(Ee.store,"getCurrentPost"),t=[!!e.comment_status&&["comment_status",e.comment_status],!!e.ping_status&&["ping_status",e.ping_status],!!e.sticky&&["sticky",e.sticky],!!e.author&&["post_author",e.author]].filter(Boolean),n=[new window.FormData(document.querySelector(".metabox-base-form")),...(yield s.controls.select(At,"getActiveMetaBoxLocations")).map((e=>new window.FormData((e=>document.querySelector(`.edit-post-meta-boxes-area.is-${e} .metabox-location-${e}`)||document.querySelector("#metaboxes .metabox-location-"+e))(e))))],l=(0,v.reduce)(n,((e,t)=>{for(const[n,l]of t)e.append(n,l);return e}),new window.FormData);t.forEach((([e,t])=>l.append(e,t)));try{yield(0,he.apiFetch)({url:window._wpMetaBoxUrl,method:"POST",body:l,parse:!1}),yield s.controls.dispatch(At,"metaBoxUpdatesSuccess")}catch{yield s.controls.dispatch(At,"metaBoxUpdatesFailure")}}function ze(){return{type:"META_BOX_UPDATES_SUCCESS"}}function He(){return{type:"META_BOX_UPDATES_FAILURE"}}function We(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}function $e(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function qe(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}function Ke(e){return{type:"SET_IS_EDITING_TEMPLATE",value:e}}function*Ye(e=!1){if(yield Ke(!0),!(yield s.controls.select(At,"isFeatureActive","welcomeGuideTemplate"))){const t=e?(0,p.__)("Custom template created. You're in template mode now."):(0,p.__)("Editing template. Changes made here affect all posts and pages that use the template.");yield s.controls.dispatch(pe.store,"createSuccessNotice",t,{type:"snackbar"})}}function*je(e){const t=yield s.controls.dispatch(we.store,"saveEntityRecord","postType","wp_template",e),n=yield s.controls.select(Ee.store,"getCurrentPost");yield s.controls.dispatch(we.store,"editEntityRecord","postType",n.type,n.id,{template:t.slug})}let Xe=!1;function*Qe(){if(!(yield s.controls.select(Ee.store,"__unstableIsEditorReady")))return;const e=yield s.controls.select(Ee.store,"getCurrentPostType");if(Xe)return;window.postboxes.page!==e&&window.postboxes.add_postbox_toggles(e),Xe=!0;let t=yield s.controls.select(Ee.store,"isSavingPost"),n=yield s.controls.select(Ee.store,"isAutosavingPost");const l=yield s.controls.select(At,"hasMetaBoxes");return(0,s.subscribe)((()=>{const e=(0,s.select)(Ee.store).isSavingPost(),o=(0,s.select)(Ee.store).isAutosavingPost(),a=l&&t&&!e&&!n;t=e,n=o,a&&(0,s.dispatch)(At).requestMetaBoxUpdates()})),{type:"META_BOXES_INITIALIZED"}}var Ze,Je;function et(e){return[e]}function tt(){var e={clear:function(){e.head=null}};return e}function nt(e,t,n){var l;if(e.length!==t.length)return!1;for(l=n;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}function lt(e,t){var n,l;function o(){n=Je?new WeakMap:tt()}function a(){var n,o,a,r,i,s=arguments.length;for(r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];for(i=t.apply(null,r),(n=l(i)).isUniqueByDependants||(n.lastDependants&&!nt(i,n.lastDependants,0)&&n.clear(),n.lastDependants=i),o=n.head;o;){if(nt(o.args,r,1))return o!==n.head&&(o.prev.next=o.next,o.next&&(o.next.prev=o.prev),o.next=n.head,o.prev=null,n.head.prev=o,n.head=o),o.val;o=o.next}return o={val:e.apply(null,r)},r[0]=null,o.args=r,n.head&&(n.head.prev=o,o.next=n.head),n.head=o,o.val}return t||(t=et),l=Je?function(e){var t,l,o,a,r,i=n,s=!0;for(t=0;t<e.length;t++){if(!(r=l=e[t])||"object"!=typeof r){s=!1;break}i.has(l)?i=i.get(l):(o=new WeakMap,i.set(l,o),i=o)}return i.has(Ze)||((a=tt()).isUniqueByDependants=s,i.set(Ze,a)),i.get(Ze)}:function(){return n},a.getDependants=t,a.clear=o,o(),a}function ot(e){return ct(e,"editorMode","visual")}Ze={},Je="undefined"!=typeof WeakMap;const at=(0,s.createRegistrySelector)((e=>()=>{const t=e(F).getActiveComplementaryArea("core/edit-post");return(0,v.includes)(["edit-post/document","edit-post/block"],t)})),rt=(0,s.createRegistrySelector)((e=>()=>{const t=e(F).getActiveComplementaryArea("core/edit-post");return!!t&&!(0,v.includes)(["edit-post/document","edit-post/block"],t)})),it=(0,s.createRegistrySelector)((e=>()=>e(F).getActiveComplementaryArea("core/edit-post")));function st(e){return e.preferences}function ct(e,t,n){const l=st(e)[t];return void 0===l?n:l}function ut(e){return e.publishSidebarActive}function dt(e,t){return(0,v.includes)(e.removedPanels,t)}function mt(e,t){const n=ct(e,"panels");return!dt(e,t)&&(0,v.get)(n,[t,"enabled"],!0)}function pt(e,t){const n=ct(e,"panels");return!0===(0,v.get)(n,[t])||!0===(0,v.get)(n,[t,"opened"])}function Et(e,t){return e.activeModal===t}const _t=(0,s.createRegistrySelector)((e=>(t,n)=>e(F).isFeatureActive("core/edit-post",n))),gt=(0,s.createRegistrySelector)((e=>(t,n)=>e(F).isItemPinned("core/edit-post",n))),ht=lt((e=>Object.keys(e.metaBoxes.locations).filter((t=>ft(e,t)))),(e=>[e.metaBoxes.locations]));function bt(e,t){return ft(e,t)&&(0,v.some)(vt(e,t),(({id:t})=>mt(e,`meta-box-${t}`)))}function ft(e,t){const n=vt(e,t);return!!n&&0!==n.length}function vt(e,t){return e.metaBoxes.locations[t]}const yt=lt((e=>(0,v.flatten)((0,v.values)(e.metaBoxes.locations))),(e=>[e.metaBoxes.locations]));function wt(e){return ht(e).length>0}function St(e){return e.metaBoxes.isSaving}function kt(e){return e.deviceType}function Pt(e){return!!e.blockInserterPanel}function Tt(e){const{rootClientId:t,insertionIndex:n,filterValue:l}=e.blockInserterPanel;return{rootClientId:t,insertionIndex:n,filterValue:l}}function Ct(e){return e.listViewPanel}function xt(e){return e.isEditingTemplate}function It(e){return e.metaBoxes.initialized}const Bt=(0,s.createRegistrySelector)((e=>()=>{const t=e(Ee.store).getEditedPostAttribute("template");if(t){var n;const l=null===(n=e(we.store).getEntityRecords("postType","wp_template"))||void 0===n?void 0:n.find((e=>e.slug===t));return l?e(we.store).getEditedEntityRecord("postType","wp_template",l.id):l}const l=e(Ee.store).getCurrentPost();return l.link?e(we.store).__experimentalGetTemplateForLink(l.link):null})),Nt="core/edit-post",Mt={reducer:ye,actions:o,selectors:a,controls:he.controls,persist:["preferences"]},At=(0,s.createReduxStore)(Nt,Mt);(0,s.registerStore)(Nt,Mt);var Lt=(0,s.withDispatch)((e=>{const{openModal:t}=e(At);return{openModal:t}}))((function({openModal:e}){return(0,r.createElement)(m.MenuItem,{onClick:()=>{e("edit-post/keyboard-shortcut-help")},shortcut:ge.displayShortcut.access("h")},(0,p.__)("Keyboard shortcuts"))}));const{Fill:Ot,Slot:Dt}=(0,m.createSlotFill)("ToolsMoreMenuGroup");Ot.Slot=({fillProps:e})=>(0,r.createElement)(Dt,{fillProps:e},(e=>!(0,v.isEmpty)(e)&&(0,r.createElement)(m.MenuGroup,{label:(0,p.__)("Tools")},e)));var Rt=Ot;function Ft(){const e=(0,s.useSelect)((e=>e(At).isEditingTemplate()),[]);return(0,r.createElement)(oe,{scope:"core/edit-post",feature:e?"welcomeGuideTemplate":"welcomeGuide",label:(0,p.__)("Welcome Guide")})}(0,V.registerPlugin)("edit-post",{render:()=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Rt,null,(({onClose:e})=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(m.MenuItem,{role:"menuitem",href:(0,me.addQueryArgs)("edit.php",{post_type:"wp_block"})},(0,p.__)("Manage Reusable blocks")),(0,r.createElement)(Lt,{onSelect:e}),(0,r.createElement)(Ft,null),(0,r.createElement)(_e,null),(0,r.createElement)(m.MenuItem,{role:"menuitem",icon:de,href:(0,p.__)("https://wordpress.org/support/article/wordpress-editor/"),target:"_blank",rel:"noopener noreferrer"},(0,p.__)("Help"),(0,r.createElement)(m.VisuallyHidden,{as:"span"},
/* translators: accessibility text */
(0,p.__)("(opens in a new tab)")))))))});var Vt=window.wp.keyboardShortcuts,Ut={"t a l e s o f g u t e n b e r g":e=>{const{ownerDocument:t}=e.target;(t.activeElement.classList.contains("edit-post-visual-editor")||t.activeElement===t.body)&&(e.preventDefault(),window.wp.data.dispatch("core/block-editor").insertBlock(window.wp.blocks.createBlock("core/paragraph",{content:"ðŸ¡ðŸ¢ðŸ¦€ðŸ¤ðŸ¦‹ðŸ˜ðŸ§ðŸ¹ðŸ¦ðŸ¦„ðŸ¦ðŸ¼ðŸ¿ðŸŽƒðŸ´ðŸðŸ†ðŸ¦•ðŸ¦”ðŸŒ±ðŸ‡Ï€ðŸŒðŸ‰ðŸ’§ðŸ¥¨ðŸŒŒðŸ‚ðŸ ðŸ¥¦ðŸ¥šðŸ¥ðŸŽŸðŸ¥¥ðŸ¥’ðŸ›µðŸ¥–ðŸ’ðŸ¯ðŸŽ¾ðŸŽ²ðŸºðŸšðŸ®âŒ›ï¸"})))}},Gt=(0,J.compose)((0,s.withSelect)((e=>({isRichEditingEnabled:e(Ee.store).getEditorSettings().richEditingEnabled}))),(0,s.withDispatch)((e=>({onExit(){e(At).switchEditorMode("visual")}}))))((function({onExit:e,isRichEditingEnabled:t}){return(0,r.createElement)("div",{className:"edit-post-text-editor"},t&&(0,r.createElement)("div",{className:"edit-post-text-editor__toolbar"},(0,r.createElement)("h2",null,(0,p.__)("Editing code")),(0,r.createElement)(m.Button,{variant:"tertiary",onClick:e,shortcut:ge.displayShortcut.secondary("m")},(0,p.__)("Exit code editor")),(0,r.createElement)(Ee.TextEditorGlobalKeyboardShortcuts,null)),(0,r.createElement)("div",{className:"edit-post-text-editor__body"},(0,r.createElement)(Ee.PostTitle,null),(0,r.createElement)(Ee.PostTextEditor,null)))})),zt=(0,r.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(E.Path,{d:"M20 10.8H6.7l4.1-4.5-1.1-1.1-5.8 6.3 5.8 5.8 1.1-1.1-4-3.9H20z"})),Ht=function({onClick:e=v.noop,small:t=!1}){const{shortcut:n,areAdvancedSettingsOpened:l}=(0,s.useSelect)((e=>({shortcut:e(Vt.store).getShortcutRepresentation("core/edit-post/toggle-sidebar"),areAdvancedSettingsOpened:"edit-post/block"===e(At).getActiveGeneralSidebarName()})),[]),{openGeneralSidebar:o,closeGeneralSidebar:a}=(0,s.useDispatch)(At),i=l?(0,p.__)("Hide more settings"):(0,p.__)("Show more settings");return(0,r.createElement)(m.MenuItem,{onClick:()=>{l?(a(),(0,le.speak)((0,p.__)("Block settings closed"))):(o("edit-post/block"),(0,le.speak)((0,p.__)("Additional settings are now available in the Editor block settings sidebar"))),e()},shortcut:n},!t&&i)};function Wt({children:e,contentRef:t,shouldIframe:n,styles:l,style:o}){const a=(0,se.__unstableUseMouseMoveTypingReset)();return n?(0,r.createElement)(se.__unstableIframe,{head:(0,r.createElement)(se.__unstableEditorStyles,{styles:l}),ref:a,contentRef:t,style:{width:"100%",height:"100%",display:"block"},name:"editor-canvas"},e):(0,r.createElement)(r.Fragment,null,(0,r.createElement)(se.__unstableEditorStyles,{styles:l}),(0,r.createElement)(se.WritingFlow,{ref:t,className:"editor-styles-wrapper",style:{flex:"1",...o},tabIndex:-1},e))}function $t({styles:e}){const{deviceType:t,isTemplateMode:n,wrapperBlockName:l,wrapperUniqueId:o}=(0,s.useSelect)((e=>{const{isEditingTemplate:t,__experimentalGetPreviewDeviceType:n}=e(At),{getCurrentPostId:l,getCurrentPostType:o}=e(Ee.store),a=t();let r;return"wp_block"===o()?r="core/block":a||(r="core/post-content"),{deviceType:n(),isTemplateMode:a,wrapperBlockName:r,wrapperUniqueId:l()}}),[]),a=(0,s.useSelect)((e=>e(At).hasMetaBoxes()),[]),i=(0,s.useSelect)((e=>{const{getSettings:t}=e(se.store);return t().supportsLayout}),[]),{clearSelectedBlock:c}=(0,s.useDispatch)(se.store),{setIsEditingTemplate:u}=(0,s.useDispatch)(At),E={width:"100%",margin:0,display:"flex",flexFlow:"column",background:"white"},_={...E,borderRadius:"2px 2px 0 0",border:"1px solid #ddd",borderBottom:0},g=(0,se.__experimentalUseResizeCanvas)(t,n),h=(0,se.useSetting)("layout"),b="is-"+t.toLowerCase()+"-preview";let f,v=n?_:E;g&&(v=g),a||g||n||(f="40vh");const y=(0,r.useRef)(),w=(0,J.useMergeRefs)([y,(0,se.__unstableUseClipboardHandler)(),(0,se.__unstableUseCanvasClickRedirect)(),(0,se.__unstableUseTypewriter)(),(0,se.__unstableUseTypingObserver)(),(0,se.__unstableUseBlockSelectionClearer)()]),S=(0,se.__unstableUseBlockSelectionClearer)(),[,k]=(0,se.__experimentalUseNoRecursiveRenders)(o,l),P=(0,r.useMemo)((()=>n?{type:"default"}:i?h:void 0),[n,i,h]);return(0,r.createElement)(se.BlockTools,{__unstableContentRef:y,className:d()("edit-post-visual-editor",{"is-template-mode":n})},(0,r.createElement)(Ee.VisualEditorGlobalKeyboardShortcuts,null),(0,r.createElement)(m.__unstableMotion.div,{className:"edit-post-visual-editor__content-area",animate:{padding:n?"48px 48px 0":"0"},ref:S},n&&(0,r.createElement)(m.Button,{className:"edit-post-visual-editor__exit-template-mode",icon:zt,onClick:()=>{c(),u(!1)}},(0,p.__)("Back")),(0,r.createElement)(m.__unstableMotion.div,{animate:v,initial:E,className:b},(0,r.createElement)(Wt,{shouldIframe:n||"Tablet"===t||"Mobile"===t,contentRef:w,styles:e,style:{paddingBottom:f}},i&&!n&&(0,r.createElement)(se.__experimentalLayoutStyle,{selector:".edit-post-visual-editor__post-title-wrapper, .block-editor-block-list__layout.is-root-container",layout:h}),!n&&(0,r.createElement)("div",{className:"edit-post-visual-editor__post-title-wrapper"},(0,r.createElement)(Ee.PostTitle,null)),(0,r.createElement)(k,null,(0,r.createElement)(se.BlockList,{className:n?"wp-site-blocks":void 0,__experimentalLayout:P}))))),(0,r.createElement)(se.__unstableBlockSettingsMenuFirstItem,null,(({onClose:e})=>(0,r.createElement)(Ht,{onClick:e}))))}var qt=function(){const{getBlockSelectionStart:e}=(0,s.useSelect)(se.store),{getEditorMode:t,isEditorSidebarOpened:n,isListViewOpened:l}=(0,s.useSelect)(At),o=(0,s.useSelect)((e=>{const{richEditingEnabled:t,codeEditingEnabled:n}=e(Ee.store).getEditorSettings();return!t||!n}),[]),{switchEditorMode:a,openGeneralSidebar:i,closeGeneralSidebar:c,toggleFeature:u,setIsListViewOpened:d}=(0,s.useDispatch)(At),{registerShortcut:m}=(0,s.useDispatch)(Vt.store);return(0,r.useEffect)((()=>{m({name:"core/edit-post/toggle-mode",category:"global",description:(0,p.__)("Switch between visual editor and code editor."),keyCombination:{modifier:"secondary",character:"m"}}),m({name:"core/edit-post/toggle-fullscreen",category:"global",description:(0,p.__)("Toggle fullscreen mode."),keyCombination:{modifier:"secondary",character:"f"}}),m({name:"core/edit-post/toggle-list-view",category:"global",description:(0,p.__)("Open the block list view."),keyCombination:{modifier:"access",character:"o"}}),m({name:"core/edit-post/toggle-sidebar",category:"global",description:(0,p.__)("Show or hide the settings sidebar."),keyCombination:{modifier:"primaryShift",character:","}}),m({name:"core/edit-post/next-region",category:"global",description:(0,p.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),m({name:"core/edit-post/previous-region",category:"global",description:(0,p.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"}]}),m({name:"core/edit-post/keyboard-shortcuts",category:"main",description:(0,p.__)("Display these keyboard shortcuts."),keyCombination:{modifier:"access",character:"h"}})}),[]),(0,Vt.useShortcut)("core/edit-post/toggle-mode",(()=>{a("visual"===t()?"text":"visual")}),{isDisabled:o}),(0,Vt.useShortcut)("core/edit-post/toggle-fullscreen",(()=>{u("fullscreenMode")})),(0,Vt.useShortcut)("core/edit-post/toggle-sidebar",(t=>{if(t.preventDefault(),n())c();else{const t=e()?"edit-post/block":"edit-post/document";i(t)}})),(0,Vt.useShortcut)("core/edit-post/toggle-list-view",(()=>d(!l()))),null};const Kt=[{keyCombination:{modifier:"primary",character:"b"},description:(0,p.__)("Make the selected text bold.")},{keyCombination:{modifier:"primary",character:"i"},description:(0,p.__)("Make the selected text italic.")},{keyCombination:{modifier:"primary",character:"k"},description:(0,p.__)("Convert the selected text into a link.")},{keyCombination:{modifier:"primaryShift",character:"k"},description:(0,p.__)("Remove a link.")},{keyCombination:{modifier:"primary",character:"u"},description:(0,p.__)("Underline the selected text.")}];function Yt({keyCombination:e,forceAriaLabel:t}){const n=e.modifier?ge.displayShortcutList[e.modifier](e.character):e.character,l=e.modifier?ge.shortcutAriaLabel[e.modifier](e.character):e.character;return(0,r.createElement)("kbd",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":t||l},(0,v.castArray)(n).map(((e,t)=>"+"===e?(0,r.createElement)(r.Fragment,{key:t},e):(0,r.createElement)("kbd",{key:t,className:"edit-post-keyboard-shortcut-help-modal__shortcut-key"},e))))}var jt=function({description:e,keyCombination:t,aliases:n=[],ariaLabel:l}){return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-description"},e),(0,r.createElement)("div",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-term"},(0,r.createElement)(Yt,{keyCombination:t,forceAriaLabel:l}),n.map(((e,t)=>(0,r.createElement)(Yt,{keyCombination:e,forceAriaLabel:l,key:t})))))},Xt=function({name:e}){const{keyCombination:t,description:n,aliases:l}=(0,s.useSelect)((t=>{const{getShortcutKeyCombination:n,getShortcutDescription:l,getShortcutAliases:o}=t(Vt.store);return{keyCombination:n(e),aliases:o(e),description:l(e)}}));return t?(0,r.createElement)(jt,{keyCombination:t,description:n,aliases:l}):null};const Qt="edit-post/keyboard-shortcut-help",Zt=({shortcuts:e})=>(0,r.createElement)("ul",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-list",role:"list"},e.map(((e,t)=>(0,r.createElement)("li",{className:"edit-post-keyboard-shortcut-help-modal__shortcut",key:t},(0,v.isString)(e)?(0,r.createElement)(Xt,{name:e}):(0,r.createElement)(jt,e))))),Jt=({title:e,shortcuts:t,className:n})=>(0,r.createElement)("section",{className:d()("edit-post-keyboard-shortcut-help-modal__section",n)},!!e&&(0,r.createElement)("h2",{className:"edit-post-keyboard-shortcut-help-modal__section-title"},e),(0,r.createElement)(Zt,{shortcuts:t})),en=({title:e,categoryName:t,additionalShortcuts:n=[]})=>{const l=(0,s.useSelect)((e=>e(Vt.store).getCategoryShortcuts(t)),[t]);return(0,r.createElement)(Jt,{title:e,shortcuts:l.concat(n)})};var tn=(0,J.compose)([(0,s.withSelect)((e=>({isModalActive:e(At).isModalActive(Qt)}))),(0,s.withDispatch)(((e,{isModalActive:t})=>{const{openModal:n,closeModal:l}=e(At);return{toggleModal:()=>t?l():n(Qt)}}))])((function({isModalActive:e,toggleModal:t}){return(0,Vt.useShortcut)("core/edit-post/keyboard-shortcuts",t),e?(0,r.createElement)(m.Modal,{className:"edit-post-keyboard-shortcut-help-modal",title:(0,p.__)("Keyboard shortcuts"),closeLabel:(0,p.__)("Close"),onRequestClose:t},(0,r.createElement)(Jt,{className:"edit-post-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:["core/edit-post/keyboard-shortcuts"]}),(0,r.createElement)(en,{title:(0,p.__)("Global shortcuts"),categoryName:"global"}),(0,r.createElement)(en,{title:(0,p.__)("Selection shortcuts"),categoryName:"selection"}),(0,r.createElement)(en,{title:(0,p.__)("Block shortcuts"),categoryName:"block",additionalShortcuts:[{keyCombination:{character:"/"},description:(0,p.__)("Change the block type after adding a new paragraph."),
/* translators: The forward-slash character. e.g. '/'. */
ariaLabel:(0,p.__)("Forward-slash")}]}),(0,r.createElement)(Jt,{title:(0,p.__)("Text formatting"),shortcuts:Kt})):null})),nn=({description:e,title:t,children:n})=>(0,r.createElement)("section",{className:"edit-post-preferences-modal__section"},(0,r.createElement)("h2",{className:"edit-post-preferences-modal__section-title"},t),e&&(0,r.createElement)("p",{className:"edit-post-preferences-modal__section-description"},e),n),ln=function({help:e,label:t,isChecked:n,onChange:l,children:o}){return(0,r.createElement)("div",{className:"edit-post-preferences-modal__option"},(0,r.createElement)(m.ToggleControl,{help:e,label:t,checked:n,onChange:l}),o)};function on({willEnable:e}){const[t,n]=(0,r.useState)(!1);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("p",{className:"edit-post-preferences-modal__custom-fields-confirmation-message"},(0,p.__)("A page reload is required for this change. Make sure your content is saved before reloading.")),(0,r.createElement)(m.Button,{className:"edit-post-preferences-modal__custom-fields-confirmation-button",variant:"secondary",isBusy:t,disabled:t,onClick:()=>{n(!0),document.getElementById("toggle-custom-fields-form").submit()}},e?(0,p.__)("Enable & Reload"):(0,p.__)("Disable & Reload")))}var an=(0,s.withSelect)((e=>({areCustomFieldsEnabled:!!e(Ee.store).getEditorSettings().enableCustomFields})))((function({label:e,areCustomFieldsEnabled:t}){const[n,l]=(0,r.useState)(t);return(0,r.createElement)(ln,{label:e,isChecked:n,onChange:l},n!==t&&(0,r.createElement)(on,{willEnable:n}))})),rn=(0,J.compose)((0,s.withSelect)(((e,{panelName:t})=>{const{isEditorPanelEnabled:n,isEditorPanelRemoved:l}=e(At);return{isRemoved:l(t),isChecked:n(t)}})),(0,J.ifCondition)((({isRemoved:e})=>!e)),(0,s.withDispatch)(((e,{panelName:t})=>({onChange:()=>e(At).toggleEditorPanelEnabled(t)}))))(ln);const{Fill:sn,Slot:cn}=(0,m.createSlotFill)("EnablePluginDocumentSettingPanelOption"),un=({label:e,panelName:t})=>(0,r.createElement)(sn,null,(0,r.createElement)(rn,{label:e,panelName:t}));un.Slot=cn;var dn=un,mn=(0,J.compose)((0,s.withSelect)((e=>({isChecked:e(Ee.store).isPublishSidebarEnabled()}))),(0,s.withDispatch)((e=>{const{enablePublishSidebar:t,disablePublishSidebar:n}=e(Ee.store);return{onChange:e=>e?t():n()}})),(0,b.ifViewportMatches)("medium"))(ln),pn=(0,J.compose)((0,s.withSelect)(((e,{featureName:t})=>{const{isFeatureActive:n}=e(At);return{isChecked:n(t)}})),(0,s.withDispatch)(((e,{featureName:t})=>({onChange:()=>e(At).toggleFeature(t)}))))(ln),En=(0,s.withSelect)((e=>{const{getEditorSettings:t}=e(Ee.store),{getAllMetaBoxes:n}=e(At);return{areCustomFieldsRegistered:void 0!==t().enableCustomFields,metaBoxes:n()}}))((function({areCustomFieldsRegistered:e,metaBoxes:t,...n}){const l=(0,v.filter)(t,(({id:e})=>"postcustom"!==e));return e||0!==l.length?(0,r.createElement)(nn,n,e&&(0,r.createElement)(an,{label:(0,p.__)("Custom fields")}),(0,v.map)(l,(({id:e,title:t})=>(0,r.createElement)(rn,{key:e,label:t,panelName:`meta-box-${e}`})))):null})),gn=function({blockTypes:e,value:t,onItemChange:n}){return(0,r.createElement)("ul",{className:"edit-post-block-manager__checklist"},e.map((e=>(0,r.createElement)("li",{key:e.name,className:"edit-post-block-manager__checklist-item"},(0,r.createElement)(m.CheckboxControl,{label:(0,r.createElement)(r.Fragment,null,e.title,(0,r.createElement)(se.BlockIcon,{icon:e.icon})),checked:t.includes(e.name),onChange:(0,v.partial)(n,e.name)})))))},hn=(0,r.createContext)({}),bn=(0,J.compose)([J.withInstanceId,(0,s.withSelect)((e=>{const{getPreference:t}=e(At);return{hiddenBlockTypes:t("hiddenBlockTypes")}})),(0,s.withDispatch)(((e,t)=>{const{showBlockTypes:n,hideBlockTypes:l}=e(At);return{toggleVisible(e,t){t?n(e):l(e)},toggleAllVisible(e){const o=(0,v.map)(t.blockTypes,"name");e?n(o):l(o)}}}))])((function({instanceId:e,title:t,blockTypes:n,hiddenBlockTypes:l,toggleVisible:o,toggleAllVisible:a}){const i=(0,r.useContext)(hn),{allowedBlockTypes:s}=i,c=(0,r.useMemo)((()=>!0===s?n:n.filter((({name:e})=>(0,v.includes)(s||[],e)))),[s,n]);if(!c.length)return null;const u=(0,v.without)((0,v.map)(c,"name"),...l),d="edit-post-block-manager__category-title-"+e,p=u.length===c.length;let E;return E=p?"true":u.length>0?"mixed":"false",(0,r.createElement)("div",{role:"group","aria-labelledby":d,className:"edit-post-block-manager__category"},(0,r.createElement)(m.CheckboxControl,{checked:p,onChange:a,className:"edit-post-block-manager__category-title","aria-checked":E,label:(0,r.createElement)("span",{id:d},t)}),(0,r.createElement)(gn,{blockTypes:c,value:u,onItemChange:o}))})),fn=(0,s.withSelect)((e=>{const{getBlockTypes:t,getCategories:n,hasBlockSupport:l,isMatchingSearchTerm:o}=e(ie.store),{getPreference:a}=e(At),r=a("hiddenBlockTypes"),i=(0,v.isArray)(r)&&r.length;return{blockTypes:t(),categories:n(),hasBlockSupport:l,isMatchingSearchTerm:o,numberOfHiddenBlocks:i}}))((function({blockTypes:e,categories:t,hasBlockSupport:n,isMatchingSearchTerm:l,numberOfHiddenBlocks:o}){const[a,i]=(0,r.useState)("");return e=e.filter((e=>n(e,"inserter",!0)&&(!a||l(e,a))&&(!e.parent||(0,v.includes)(e.parent,"core/post-content")))),(0,r.createElement)("div",{className:"edit-post-block-manager__content"},!!o&&(0,r.createElement)("div",{className:"edit-post-block-manager__disabled-blocks-count"},(0,p.sprintf)(
/* translators: %d: number of blocks. */
(0,p._n)("%d block is hidden.","%d blocks are hidden.",o),o)),(0,r.createElement)(m.SearchControl,{label:(0,p.__)("Search for a block"),placeholder:(0,p.__)("Search for a block"),value:a,onChange:e=>i(e),className:"edit-post-block-manager__search"}),(0,r.createElement)("div",{tabIndex:"0",role:"region","aria-label":(0,p.__)("Available block types"),className:"edit-post-block-manager__results"},0===e.length&&(0,r.createElement)("p",{className:"edit-post-block-manager__no-results"},(0,p.__)("No blocks found.")),t.map((t=>(0,r.createElement)(bn,{key:t.slug,title:t.title,blockTypes:(0,v.filter)(e,{category:t.slug})}))),(0,r.createElement)(bn,{title:(0,p.__)("Uncategorized"),blockTypes:(0,v.filter)(e,(({category:e})=>!e))})))}));const vn="preferences-menu";function yn(){const e=(0,J.useViewportMatch)("medium"),{closeModal:t}=(0,s.useDispatch)(At),{isModalActive:n,isViewable:l}=(0,s.useSelect)((e=>{const{getEditedPostAttribute:t}=e(Ee.store),{getPostType:n}=e(we.store),l=n(t("type"));return{isModalActive:e(At).isModalActive("edit-post/preferences"),isViewable:(0,v.get)(l,["viewable"],!1)}}),[]),o=(0,s.useSelect)((t=>{const{getEditorSettings:n}=t(Ee.store),{getEditorMode:l,isFeatureActive:o}=t(At),a=l(),r=n().richEditingEnabled;return!o("reducedUI")&&e&&r&&"visual"===a}),[e]),a=(0,r.useMemo)((()=>[{name:"general",tabLabel:(0,p.__)("General"),content:(0,r.createElement)(r.Fragment,null,e&&(0,r.createElement)(nn,{title:(0,p.__)("Publishing"),description:(0,p.__)("Change options related to publishing.")},(0,r.createElement)(mn,{help:(0,p.__)("Review settings, such as visibility and tags."),label:(0,p.__)("Include pre-publish checklist")})),(0,r.createElement)(nn,{title:(0,p.__)("Appearance"),description:(0,p.__)("Customize options related to the block editor interface and editing flow.")},(0,r.createElement)(pn,{featureName:"reducedUI",help:(0,p.__)("Compacts options and outlines in the toolbar."),label:(0,p.__)("Reduce the interface")}),(0,r.createElement)(pn,{featureName:"focusMode",help:(0,p.__)("Highlights the current block and fades other content."),label:(0,p.__)("Spotlight mode")}),(0,r.createElement)(pn,{featureName:"showIconLabels",help:(0,p.__)("Shows text instead of icons."),label:(0,p.__)("Display button labels")}),(0,r.createElement)(pn,{featureName:"themeStyles",help:(0,p.__)("Make the editor look like your theme."),label:(0,p.__)("Use theme styles")}),o&&(0,r.createElement)(pn,{featureName:"showBlockBreadcrumbs",help:(0,p.__)("Shows block breadcrumbs at the bottom of the editor."),label:(0,p.__)("Display block breadcrumbs")})))},{name:"blocks",tabLabel:(0,p.__)("Blocks"),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)(nn,{title:(0,p.__)("Block interactions"),description:(0,p.__)("Customize how you interact with blocks in the block library and editing canvas.")},(0,r.createElement)(pn,{featureName:"mostUsedBlocks",help:(0,p.__)("Places the most frequent blocks in the block library."),label:(0,p.__)("Show most used blocks")}),(0,r.createElement)(pn,{featureName:"keepCaretInsideBlock",help:(0,p.__)("Aids screen readers by stopping text caret from leaving blocks."),label:(0,p.__)("Contain text cursor inside block")})),(0,r.createElement)(nn,{title:(0,p.__)("Visible blocks"),description:(0,p.__)("Disable blocks that you don't want to appear in the inserter. They can always be toggled back on later.")},(0,r.createElement)(fn,null)))},{name:"panels",tabLabel:(0,p.__)("Panels"),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)(nn,{title:(0,p.__)("Document settings"),description:(0,p.__)("Choose what displays in the panel.")},(0,r.createElement)(dn.Slot,null),l&&(0,r.createElement)(rn,{label:(0,p.__)("Permalink"),panelName:"post-link"}),l&&(0,r.createElement)(rn,{label:(0,p.__)("Template"),panelName:"template"}),(0,r.createElement)(Ee.PostTaxonomies,{taxonomyWrapper:(e,t)=>(0,r.createElement)(rn,{label:(0,v.get)(t,["labels","menu_name"]),panelName:`taxonomy-panel-${t.slug}`})}),(0,r.createElement)(Ee.PostFeaturedImageCheck,null,(0,r.createElement)(rn,{label:(0,p.__)("Featured image"),panelName:"featured-image"})),(0,r.createElement)(Ee.PostExcerptCheck,null,(0,r.createElement)(rn,{label:(0,p.__)("Excerpt"),panelName:"post-excerpt"})),(0,r.createElement)(Ee.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},(0,r.createElement)(rn,{label:(0,p.__)("Discussion"),panelName:"discussion-panel"})),(0,r.createElement)(Ee.PageAttributesCheck,null,(0,r.createElement)(rn,{label:(0,p.__)("Page attributes"),panelName:"page-attributes"}))),(0,r.createElement)(En,{title:(0,p.__)("Additional"),description:(0,p.__)("Add extra areas to the editor.")}))}]),[l,e,o]),[i,c]=(0,r.useState)(vn),{tabs:u,sectionsContentMap:d}=(0,r.useMemo)((()=>a.reduce(((e,{name:t,tabLabel:n,content:l})=>(e.tabs.push({name:t,title:n}),e.sectionsContentMap[t]=l,e)),{tabs:[],sectionsContentMap:{}})),[a]),E=(0,r.useCallback)((e=>d[e.name]||null),[d]);if(!n)return null;let _;return _=e?(0,r.createElement)(m.TabPanel,{className:"edit-post-preferences__tabs",tabs:u,initialTabName:i!==vn?i:void 0,onSelect:c,orientation:"vertical"},E):(0,r.createElement)(m.__experimentalNavigation,{activeMenu:i,onActivateMenu:c},(0,r.createElement)(m.__experimentalNavigationMenu,{menu:vn},u.map((e=>(0,r.createElement)(m.__experimentalNavigationItem,{key:e.name,title:e.title,navigateToMenu:e.name})))),a.map((e=>(0,r.createElement)(m.__experimentalNavigationMenu,{key:`${e.name}-menu`,menu:e.name,title:e.tabLabel,parentMenu:vn},(0,r.createElement)(m.__experimentalNavigationItem,null,e.content))))),(0,r.createElement)(m.Modal,{className:"edit-post-preferences-modal",title:(0,p.__)("Preferences"),closeLabel:(0,p.__)("Close"),onRequestClose:t},_)}class wn extends r.Component{constructor(){super(...arguments),this.state={historyId:null}}componentDidUpdate(e){const{postId:t,postStatus:n,postType:l,isSavingPost:o}=this.props,{historyId:a}=this.state;"trash"!==n||o?t===e.postId&&t===a||"auto-draft"===n||!t||this.setBrowserURL(t):this.setTrashURL(t,l)}setTrashURL(e,t){window.location.href=function(e,t){return(0,me.addQueryArgs)("edit.php",{trashed:1,post_type:t,ids:e})}(e,t)}setBrowserURL(e){window.history.replaceState({id:e},"Post "+e,function(e){return(0,me.addQueryArgs)("post.php",{post:e,action:"edit"})}(e)),this.setState((()=>({historyId:e})))}render(){return null}}var Sn=(0,s.withSelect)((e=>{const{getCurrentPost:t,isSavingPost:n}=e(Ee.store),l=t();let{id:o,status:a,type:r}=l;return["wp_template","wp_template_part"].includes(r)&&(o=l.wp_id),{postId:o,postStatus:a,postType:r,isSavingPost:n()}}))(wn),kn=(0,r.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,r.createElement)(E.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})),Pn=function({showTooltip:e,icon:t,href:n}){const{isActive:l,isRequestingSiteIcon:o,postType:a,siteIconUrl:i}=(0,s.useSelect)((e=>{const{getCurrentPostType:t}=e(Ee.store),{isFeatureActive:n}=e(At),{getEntityRecord:l,getPostType:o,isResolving:a}=e(we.store),r=l("root","__unstableBase",void 0)||{};return{isActive:n("fullscreenMode"),isRequestingSiteIcon:a("getEntityRecord",["root","__unstableBase",void 0]),postType:o(t()),siteIconUrl:r.site_icon_url}}),[]);if(!l||!a)return null;let c=(0,r.createElement)(m.Icon,{size:"36px",icon:kn});return i&&(c=(0,r.createElement)("img",{alt:(0,p.__)("Site Icon"),className:"edit-post-fullscreen-mode-close_site-icon",src:i})),o&&(c=null),t&&(c=(0,r.createElement)(m.Icon,{size:"36px",icon:t})),(0,r.createElement)(m.Button,{className:"edit-post-fullscreen-mode-close has-icon",href:null!=n?n:(0,me.addQueryArgs)("edit.php",{post_type:a.slug}),label:(0,v.get)(a,["labels","view_items"],(0,p.__)("Back")),showTooltip:e},c)},Tn=(0,r.createElement)(E.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(E.Path,{d:"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z"})),Cn=(0,r.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(E.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));const xn=e=>{e.preventDefault()};var In=function(){const e=(0,r.useRef)(),{setIsInserterOpened:t,setIsListViewOpened:n}=(0,s.useDispatch)(At),{isInserterEnabled:l,isInserterOpened:o,isTextModeEnabled:a,showIconLabels:i,isListViewOpen:c,listViewShortcut:u}=(0,s.useSelect)((e=>{const{hasInserterItems:t,getBlockRootClientId:n,getBlockSelectionEnd:l}=e(se.store),{getEditorSettings:o}=e(Ee.store),{getEditorMode:a,isFeatureActive:r,isListViewOpened:i}=e(At),{getShortcutRepresentation:s}=e(Vt.store);return{isInserterEnabled:"visual"===a()&&o().richEditingEnabled&&t(n(l())),isInserterOpened:e(At).isInserterOpened(),isTextModeEnabled:"text"===a(),showIconLabels:r("showIconLabels"),isListViewOpen:i(),listViewShortcut:s("core/edit-post/toggle-list-view")}}),[]),d=(0,J.useViewportMatch)("medium"),E=(0,J.useViewportMatch)("wide"),_=(0,p.__)("Document tools"),g=(0,r.useCallback)((()=>n(!c)),[n,c]),h=(0,r.createElement)(r.Fragment,null,(0,r.createElement)(m.ToolbarItem,{as:Ee.TableOfContents,hasOutlineItemsDisabled:a,repositionDropdown:i&&!E,showTooltip:!i,variant:i?"tertiary":void 0}),(0,r.createElement)(m.ToolbarItem,{as:m.Button,className:"edit-post-header-toolbar__list-view-toggle",icon:Tn,disabled:a,isPressed:c
/* translators: button label text should, if possible, be under 16 characters. */,label:(0,p.__)("List View"),onClick:g,shortcut:u,showTooltip:!i})),b=(0,r.useCallback)((()=>{o?e.current.focus():t(!0)}),[o,t]);return(0,r.createElement)(se.NavigableToolbar,{className:"edit-post-header-toolbar","aria-label":_},(0,r.createElement)("div",{className:"edit-post-header-toolbar__left"},(0,r.createElement)(m.ToolbarItem,{ref:e,as:m.Button,className:"edit-post-header-toolbar__inserter-toggle",variant:"primary",isPressed:o,onMouseDown:xn,onClick:b,disabled:!l,icon:Cn
/* translators: button label text should, if possible, be under 16
    characters. */,label:(0,p._x)("Toggle block inserter","Generic label for block inserter button"),showTooltip:!i},i&&(o?(0,p.__)("Close"):(0,p.__)("Add"))),(E||!i)&&(0,r.createElement)(r.Fragment,null,d&&(0,r.createElement)(m.ToolbarItem,{as:se.ToolSelector,showTooltip:!i,variant:i?"tertiary":void 0,disabled:a}),(0,r.createElement)(m.ToolbarItem,{as:Ee.EditorHistoryUndo,showTooltip:!i,variant:i?"tertiary":void 0}),(0,r.createElement)(m.ToolbarItem,{as:Ee.EditorHistoryRedo,showTooltip:!i,variant:i?"tertiary":void 0}),h)))};const Bn=[{value:"visual",label:(0,p.__)("Visual editor")},{value:"text",label:(0,p.__)("Code editor")}];var Nn=function(){const{shortcut:e,isRichEditingEnabled:t,isCodeEditingEnabled:n,mode:l}=(0,s.useSelect)((e=>({shortcut:e(Vt.store).getShortcutRepresentation("core/edit-post/toggle-mode"),isRichEditingEnabled:e(Ee.store).getEditorSettings().richEditingEnabled,isCodeEditingEnabled:e(Ee.store).getEditorSettings().codeEditingEnabled,mode:e(At).getEditorMode()})),[]),{switchEditorMode:o}=(0,s.useDispatch)(At);if(!t||!n)return null;const a=Bn.map((t=>t.value!==l?{...t,shortcut:e}:t));return(0,r.createElement)(m.MenuGroup,{label:(0,p.__)("Editor")},(0,r.createElement)(m.MenuItemsChoice,{choices:a,value:l,onSelect:o}))};function Mn(){const{openModal:e}=(0,s.useDispatch)(At);return(0,r.createElement)(m.MenuItem,{onClick:()=>{e("edit-post/preferences")}},(0,p.__)("Preferences"))}var An=function(){return(0,J.useViewportMatch)("medium")?(0,r.createElement)(m.MenuGroup,{label:(0,p._x)("View","noun")},(0,r.createElement)(oe,{scope:"core/edit-post",feature:"fixedToolbar",label:(0,p.__)("Top toolbar"),info:(0,p.__)("Access all block and document tools in a single place"),messageActivated:(0,p.__)("Top toolbar activated"),messageDeactivated:(0,p.__)("Top toolbar deactivated")}),(0,r.createElement)(oe,{scope:"core/edit-post",feature:"focusMode",label:(0,p.__)("Spotlight mode"),info:(0,p.__)("Focus on one block at a time"),messageActivated:(0,p.__)("Spotlight mode activated"),messageDeactivated:(0,p.__)("Spotlight mode deactivated")}),(0,r.createElement)(oe,{scope:"core/edit-post",feature:"fullscreenMode",label:(0,p.__)("Fullscreen mode"),info:(0,p.__)("Work without distraction"),messageActivated:(0,p.__)("Fullscreen mode activated"),messageDeactivated:(0,p.__)("Fullscreen mode deactivated"),shortcut:ge.displayShortcut.secondary("f")})):null};const Ln={className:"edit-post-more-menu__content"};var On=({showIconLabels:e})=>{const t=(0,J.useViewportMatch)("large");return(0,r.createElement)(ne,{className:"edit-post-more-menu",popoverProps:Ln,toggleProps:{showTooltip:!e,...e&&{variant:"tertiary"}}},(({onClose:n})=>(0,r.createElement)(r.Fragment,null,e&&!t&&(0,r.createElement)(Y.Slot,{className:e&&"show-icon-labels",scope:"core/edit-post"}),(0,r.createElement)(An,null),(0,r.createElement)(Nn,null),(0,r.createElement)(W.Slot,{name:"core/edit-post/plugin-more-menu",label:(0,p.__)("Plugins"),as:m.MenuGroup,fillProps:{onClick:n}}),(0,r.createElement)(Rt.Slot,{fillProps:{onClose:n}}),(0,r.createElement)(m.MenuGroup,null,(0,r.createElement)(Mn,null)))))},Dn=(0,J.compose)((0,s.withSelect)((e=>({hasPublishAction:(0,v.get)(e(Ee.store).getCurrentPost(),["_links","wp:action-publish"],!1),isBeingScheduled:e(Ee.store).isEditedPostBeingScheduled(),isPending:e(Ee.store).isCurrentPostPending(),isPublished:e(Ee.store).isCurrentPostPublished(),isPublishSidebarEnabled:e(Ee.store).isPublishSidebarEnabled(),isPublishSidebarOpened:e(At).isPublishSidebarOpened(),isScheduled:e(Ee.store).isCurrentPostScheduled()}))),(0,s.withDispatch)((e=>{const{togglePublishSidebar:t}=e(At);return{togglePublishSidebar:t}})))((function({forceIsDirty:e,forceIsSaving:t,hasPublishAction:n,isBeingScheduled:l,isPending:o,isPublished:a,isPublishSidebarEnabled:i,isPublishSidebarOpened:s,isScheduled:c,togglePublishSidebar:u,setEntitiesSavedStatesCallback:d}){const m="toggle",p="button",E=(0,J.useViewportMatch)("medium","<");let _;return _=a||c&&l||o&&!n&&!E?p:E||i?m:p,(0,r.createElement)(Ee.PostPublishButton,{forceIsDirty:e,forceIsSaving:t,isOpen:s,isToggle:_===m,onToggle:u,setEntitiesSavedStatesCallback:d})}));function Rn(){const{hasActiveMetaboxes:e,isPostSaveable:t,isSaving:n,deviceType:l}=(0,s.useSelect)((e=>({hasActiveMetaboxes:e(At).hasMetaBoxes(),isSaving:e(At).isSavingMetaBoxes(),isPostSaveable:e(Ee.store).isEditedPostSaveable(),deviceType:e(At).__experimentalGetPreviewDeviceType()})),[]),{__experimentalSetPreviewDeviceType:o}=(0,s.useDispatch)(At);return(0,r.createElement)(se.__experimentalPreviewOptions,{isEnabled:t,className:"edit-post-post-preview-dropdown",deviceType:l,setDeviceType:o},(0,r.createElement)(m.MenuGroup,null,(0,r.createElement)("div",{className:"edit-post-header-preview__grouping-external"},(0,r.createElement)(Ee.PostPreviewButton,{className:"edit-post-header-preview__button-external",role:"menuitem",forceIsAutosaveable:e,forcePreviewLink:n?null:void 0,textContent:(0,r.createElement)(r.Fragment,null,(0,p.__)("Preview in new tab"),(0,r.createElement)(m.Icon,{icon:de}))}))))}const Fn="__experimentalMainDashboardButton",{Fill:Vn,Slot:Un}=(0,m.createSlotFill)(Fn),Gn=Vn;Gn.Slot=({children:e})=>{const t=(0,m.__experimentalUseSlot)(Fn);return Boolean(t.fills&&t.fills.length)?(0,r.createElement)(Un,{bubblesVirtually:!0}):e};var zn=Gn,Hn=(0,r.createElement)(E.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(E.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));function Wn(){const{clearSelectedBlock:e}=(0,s.useDispatch)(se.store),{setIsEditingTemplate:t}=(0,s.useDispatch)(At),{getEditorSettings:n}=(0,s.useSelect)(Ee.store),{updateEditorSettings:l,editPost:o}=(0,s.useDispatch)(Ee.store),{deleteEntityRecord:a}=(0,s.useDispatch)(we.store),{template:i}=(0,s.useSelect)((e=>{const{isEditingTemplate:t,getEditedPostTemplate:n}=e(At);return{template:t()?n():null}}),[]);if(!i||!i.wp_id)return null;let c=i.slug;return null!=i&&i.title&&(c=i.title),(0,r.createElement)(m.MenuGroup,{className:"edit-post-template-top-area__second-menu-group"},(0,r.createElement)(m.MenuItem,{className:"edit-post-template-top-area__delete-template-button",isDestructive:!0,variant:"secondary","aria-label":(0,p.__)("Delete template"),onClick:()=>{if(window.confirm((0,p.sprintf)(
/* translators: %s: template name */
(0,p.__)("Are you sure you want to delete the %s template? It may be used by other pages or posts."),c))){e(),t(!1),o({template:""});const r=n(),s=(0,v.pickBy)(r.availableTemplates,((e,t)=>t!==i.slug));l({...r,availableTemplates:s}),a("postType","wp_template",i.id)}}},(0,p.__)("Delete template")))}function $n(){const{template:e}=(0,s.useSelect)((e=>{const{getEditedPostTemplate:t}=e(At);return{template:t()}}),[]),{editEntityRecord:t}=(0,s.useDispatch)(we.store),{getEditorSettings:n}=(0,s.useSelect)(Ee.store),{updateEditorSettings:l}=(0,s.useDispatch)(Ee.store);let o=(0,p.__)("Default");return null!=e&&e.title?o=e.title:e&&(o=e.slug),(0,r.createElement)(m.TextControl,{label:(0,p.__)("Title"),value:o,help:(0,p.__)('Give the template a title that indicates its purpose, e.g. "Full Width".'),onChange:o=>{const a=n(),r=(0,v.mapValues)(a.availableTemplates,((t,n)=>n!==e.slug?t:o));l({...a,availableTemplates:r}),t("postType","wp_template",e.id,{title:o})}})}function qn(){const{description:e}=(0,s.useSelect)((e=>{const{getEditedPostTemplate:t}=e(At);return{description:t().description}}),[]);return e?(0,r.createElement)(m.__experimentalText,{size:"body"},e):null}var Kn=function(){const{template:e,isEditing:t,title:n}=(0,s.useSelect)((e=>{const{isEditingTemplate:t,getEditedPostTemplate:n}=e(At),{getEditedPostAttribute:l}=e(Ee.store),o=t();return{template:o?n():null,isEditing:o,title:l("title")}}),[]),{clearSelectedBlock:l}=(0,s.useDispatch)(se.store),{setIsEditingTemplate:o}=(0,s.useDispatch)(At);if(!t||!e)return null;let a=(0,p.__)("Default");return null!=e&&e.title?a=e.title:e&&(a=e.slug),(0,r.createElement)("div",{className:"edit-post-template-top-area"},(0,r.createElement)(m.Button,{className:"edit-post-template-post-title",isLink:!0,showTooltip:!0,label:(0,p.sprintf)(
/* translators: %s: Title of the referring post, e.g: "Hello World!" */
(0,p.__)("Edit %s"),n),onClick:()=>{l(),o(!1)}},n),(0,r.createElement)(m.Dropdown,{position:"bottom center",contentClassName:"edit-post-template-top-area__popover",renderToggle:({onToggle:e})=>(0,r.createElement)(m.Button,{className:"edit-post-template-title",isLink:!0,icon:Hn,showTooltip:!0,onClick:e,label:(0,p.__)("Template Options")},a),renderContent:()=>(0,r.createElement)(r.Fragment,null,e.has_theme_file?(0,r.createElement)(qn,null):(0,r.createElement)($n,null),(0,r.createElement)(Wn,null))}))},Yn=function({setEntitiesSavedStatesCallback:e}){const{hasActiveMetaboxes:t,isPublishSidebarOpened:n,isSaving:l,showIconLabels:o,hasReducedUI:a}=(0,s.useSelect)((e=>({hasActiveMetaboxes:e(At).hasMetaBoxes(),isPublishSidebarOpened:e(At).isPublishSidebarOpened(),isSaving:e(At).isSavingMetaBoxes(),showIconLabels:e(At).isFeatureActive("showIconLabels"),hasReducedUI:e(At).isFeatureActive("reducedUI")})),[]),i=(0,J.useViewportMatch)("large"),c=d()("edit-post-header",{"has-reduced-ui":a});return(0,r.createElement)("div",{className:c},(0,r.createElement)(zn.Slot,null,(0,r.createElement)(Pn,null)),(0,r.createElement)("div",{className:"edit-post-header__toolbar"},(0,r.createElement)(In,null),(0,r.createElement)(Kn,null)),(0,r.createElement)("div",{className:"edit-post-header__settings"},!n&&(0,r.createElement)(Ee.PostSavedState,{forceIsDirty:t,forceIsSaving:l,showIconLabels:o}),(0,r.createElement)(Rn,null),(0,r.createElement)(Ee.PostPreviewButton,{forceIsAutosaveable:t,forcePreviewLink:l?null:void 0}),(0,r.createElement)(Dn,{forceIsDirty:t,forceIsSaving:l,setEntitiesSavedStatesCallback:e}),(i||!o)&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Y.Slot,{scope:"core/edit-post"}),(0,r.createElement)(On,{showIconLabels:o})),o&&!i&&(0,r.createElement)(On,{showIconLabels:o})))},jn=(0,r.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(E.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function Xn(){const{insertionPoint:e,showMostUsedBlocks:t}=(0,s.useSelect)((e=>{const{isFeatureActive:t,__experimentalGetInsertionPoint:n}=e(At);return{insertionPoint:n(),showMostUsedBlocks:t("mostUsedBlocks")}}),[]),{setIsInserterOpened:n}=(0,s.useDispatch)(At),l=(0,J.useViewportMatch)("medium","<"),[o,a]=(0,J.__experimentalUseDialog)({onClose:()=>n(!1)});return(0,r.createElement)("div",c({ref:o},a,{className:"edit-post-editor__inserter-panel"}),(0,r.createElement)("div",{className:"edit-post-editor__inserter-panel-header"},(0,r.createElement)(m.Button,{icon:jn,onClick:()=>n(!1)})),(0,r.createElement)("div",{className:"edit-post-editor__inserter-panel-content"},(0,r.createElement)(se.__experimentalLibrary,{showMostUsedBlocks:t,showInserterHelpPanel:!0,shouldFocusBlock:l,rootClientId:e.rootClientId,__experimentalInsertionIndex:e.insertionIndex,__experimentalFilterValue:e.filterValue})))}function Qn(){const{setIsListViewOpened:e}=(0,s.useDispatch)(At),{clearSelectedBlock:t,selectBlock:n}=(0,s.useDispatch)(se.store),l=(0,J.useFocusOnMount)("firstElement"),o=(0,J.useFocusReturn)(),a=`edit-post-editor__list-view-panel-label-${(0,J.useInstanceId)(Qn)}`;return(0,r.createElement)("div",{"aria-labelledby":a,className:"edit-post-editor__list-view-panel",onKeyDown:function(t){t.keyCode!==ge.ESCAPE||t.defaultPrevented||(t.preventDefault(),e(!1))}},(0,r.createElement)("div",{className:"edit-post-editor__list-view-panel-header"},(0,r.createElement)("strong",{id:a},(0,p.__)("List view")),(0,r.createElement)(m.Button,{icon:f,label:(0,p.__)("Close list view sidebar"),onClick:()=>e(!1)})),(0,r.createElement)("div",{className:"edit-post-editor__list-view-panel-content",ref:(0,J.useMergeRefs)([o,l])},(0,r.createElement)(se.__experimentalListView,{onSelect:async function(e){await t(),n(e,-1)},showNestedBlocks:!0,__experimentalPersistentListViewFeatures:!0})))}var Zn=(0,r.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(E.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})),Jn=({sidebarName:e})=>{const{openGeneralSidebar:t}=(0,s.useDispatch)(At),n=()=>t("edit-post/document"),{documentLabel:l,isTemplateMode:o}=(0,s.useSelect)((e=>({
// translators: Default label for the Document sidebar tab, not selected.
documentLabel:e(Ee.store).getPostTypeLabel()||(0,p._x)("Document","noun"),isTemplateMode:e(At).isEditingTemplate()})),[]),[a,i]="edit-post/document"===e?// translators: ARIA label for the Document sidebar tab, selected. %s: Document label.
[(0,p.sprintf)((0,p.__)("%s (selected)"),l),"is-active"]:[l,""],[c,u]="edit-post/block"===e?// translators: ARIA label for the Block Settings Sidebar tab, selected.
[(0,p.__)("Block (selected)"),"is-active"]:// translators: ARIA label for the Block Settings Sidebar tab, not selected.
[(0,p.__)("Block"),""],[d,E]="edit-post/document"===e?[(0,p.__)("Template (selected)"),"is-active"]:[(0,p.__)("Template"),""];return(0,r.createElement)("ul",null,!o&&(0,r.createElement)("li",null,(0,r.createElement)(m.Button,{onClick:n,className:`edit-post-sidebar__panel-tab ${i}`,"aria-label":a,"data-label":l},l)),o&&(0,r.createElement)("li",null,(0,r.createElement)(m.Button,{onClick:n,className:`edit-post-sidebar__panel-tab ${E}`,"aria-label":d,"data-label":(0,p.__)("Template")},(0,p.__)("Template"))),(0,r.createElement)("li",null,(0,r.createElement)(m.Button,{onClick:()=>t("edit-post/block"),className:`edit-post-sidebar__panel-tab ${u}`,"aria-label":c,"data-label":(0,p.__)("Block")},// translators: Text label for the Block Settings Sidebar tab.
(0,p.__)("Block"))))},el=function(){return(0,r.createElement)(Ee.PostVisibilityCheck,{render:({canEdit:e})=>(0,r.createElement)(m.PanelRow,{className:"edit-post-post-visibility"},(0,r.createElement)("span",null,(0,p.__)("Visibility")),!e&&(0,r.createElement)("span",null,(0,r.createElement)(Ee.PostVisibilityLabel,null)),e&&(0,r.createElement)(m.Dropdown,{position:"bottom left",contentClassName:"edit-post-post-visibility__dialog",renderToggle:({isOpen:e,onToggle:t})=>(0,r.createElement)(m.Button,{"aria-expanded":e,className:"edit-post-post-visibility__toggle",onClick:t,variant:"tertiary"},(0,r.createElement)(Ee.PostVisibilityLabel,null)),renderContent:()=>(0,r.createElement)(Ee.PostVisibility,null)}))})};function tl(){return(0,r.createElement)(Ee.PostTrashCheck,null,(0,r.createElement)(m.PanelRow,null,(0,r.createElement)(Ee.PostTrash,null)))}var nl=function(){const e=(0,r.useRef)();return(0,r.createElement)(Ee.PostScheduleCheck,null,(0,r.createElement)(m.PanelRow,{className:"edit-post-post-schedule",ref:e},(0,r.createElement)("span",null,(0,p.__)("Publish")),(0,r.createElement)(m.Dropdown,{popoverProps:{anchorRef:e.current},position:"bottom left",contentClassName:"edit-post-post-schedule__dialog",renderToggle:({onToggle:e,isOpen:t})=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(m.Button,{className:"edit-post-post-schedule__toggle",onClick:e,"aria-expanded":t,variant:"tertiary"},(0,r.createElement)(Ee.PostScheduleLabel,null))),renderContent:()=>(0,r.createElement)(Ee.PostSchedule,null)})))},ll=function(){return(0,r.createElement)(Ee.PostStickyCheck,null,(0,r.createElement)(m.PanelRow,null,(0,r.createElement)(Ee.PostSticky,null)))},ol=function(){return(0,r.createElement)(Ee.PostAuthorCheck,null,(0,r.createElement)(m.PanelRow,null,(0,r.createElement)(Ee.PostAuthor,null)))},al=function(){return(0,r.createElement)(Ee.PostSlugCheck,null,(0,r.createElement)(m.PanelRow,null,(0,r.createElement)(Ee.PostSlug,null)))},rl=function(){return(0,r.createElement)(Ee.PostFormatCheck,null,(0,r.createElement)(m.PanelRow,null,(0,r.createElement)(Ee.PostFormat,null)))},il=function(){return(0,r.createElement)(Ee.PostPendingStatusCheck,null,(0,r.createElement)(m.PanelRow,null,(0,r.createElement)(Ee.PostPendingStatus,null)))};const{Fill:sl,Slot:cl}=(0,m.createSlotFill)("PluginPostStatusInfo"),ul=({children:e,className:t})=>(0,r.createElement)(sl,null,(0,r.createElement)(m.PanelRow,{className:t},e));ul.Slot=cl;var dl=ul;const ml="post-status";var pl=(0,J.compose)([(0,s.withSelect)((e=>{const{isEditorPanelRemoved:t,isEditorPanelOpened:n}=e(At);return{isRemoved:t(ml),isOpened:n(ml)}})),(0,J.ifCondition)((({isRemoved:e})=>!e)),(0,s.withDispatch)((e=>({onTogglePanel:()=>e(At).toggleEditorPanelOpened(ml)})))])((function({isOpened:e,onTogglePanel:t}){return(0,r.createElement)(m.PanelBody,{className:"edit-post-post-status",title:(0,p.__)("Status & visibility"),opened:e,onToggle:t},(0,r.createElement)(dl.Slot,null,(e=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(el,null),(0,r.createElement)(nl,null),(0,r.createElement)(rl,null),(0,r.createElement)(ll,null),(0,r.createElement)(il,null),(0,r.createElement)(al,null),(0,r.createElement)(ol,null),e,(0,r.createElement)(tl,null)))))})),El=function(){return(0,r.createElement)(Ee.PostLastRevisionCheck,null,(0,r.createElement)(m.PanelBody,{className:"edit-post-last-revision__panel"},(0,r.createElement)(Ee.PostLastRevision,null)))},_l=(0,J.compose)((0,s.withSelect)(((e,t)=>{const n=(0,v.get)(t.taxonomy,["slug"]),l=n?`taxonomy-panel-${n}`:"";return{panelName:l,isEnabled:!!n&&e(At).isEditorPanelEnabled(l),isOpened:!!n&&e(At).isEditorPanelOpened(l)}})),(0,s.withDispatch)(((e,t)=>({onTogglePanel:()=>{e(At).toggleEditorPanelOpened(t.panelName)}}))))((function({isEnabled:e,taxonomy:t,isOpened:n,onTogglePanel:l,children:o}){if(!e)return null;const a=(0,v.get)(t,["labels","menu_name"]);return a?(0,r.createElement)(m.PanelBody,{title:a,opened:n,onToggle:l},o):null})),gl=function(){return(0,r.createElement)(Ee.PostTaxonomiesCheck,null,(0,r.createElement)(Ee.PostTaxonomies,{taxonomyWrapper:(e,t)=>(0,r.createElement)(_l,{taxonomy:t},e)}))};const hl="featured-image",bl=(0,s.withSelect)((e=>{const{getEditedPostAttribute:t}=e(Ee.store),{getPostType:n}=e(we.store),{isEditorPanelEnabled:l,isEditorPanelOpened:o}=e(At);return{postType:n(t("type")),isEnabled:l(hl),isOpened:o(hl)}})),fl=(0,s.withDispatch)((e=>{const{toggleEditorPanelOpened:t}=e(At);return{onTogglePanel:(0,v.partial)(t,hl)}}));var vl=(0,J.compose)(bl,fl)((function({isEnabled:e,isOpened:t,postType:n,onTogglePanel:l}){return e?(0,r.createElement)(Ee.PostFeaturedImageCheck,null,(0,r.createElement)(m.PanelBody,{title:(0,v.get)(n,["labels","featured_image"],(0,p.__)("Featured image")),opened:t,onToggle:l},(0,r.createElement)(Ee.PostFeaturedImage,null))):null}));const yl="post-excerpt";var wl=(0,J.compose)([(0,s.withSelect)((e=>({isEnabled:e(At).isEditorPanelEnabled(yl),isOpened:e(At).isEditorPanelOpened(yl)}))),(0,s.withDispatch)((e=>({onTogglePanel:()=>e(At).toggleEditorPanelOpened(yl)})))])((function({isEnabled:e,isOpened:t,onTogglePanel:n}){return e?(0,r.createElement)(Ee.PostExcerptCheck,null,(0,r.createElement)(m.PanelBody,{title:(0,p.__)("Excerpt"),opened:t,onToggle:n},(0,r.createElement)(Ee.PostExcerpt,null))):null}));const Sl="post-link";var kl=(0,J.compose)([(0,s.withSelect)((e=>{const{isPermalinkEditable:t,getCurrentPost:n,isCurrentPostPublished:l,getPermalinkParts:o,getEditedPostAttribute:a,getEditedPostSlug:r}=e(Ee.store),{isEditorPanelEnabled:i,isEditorPanelOpened:s}=e(At),{getPostType:c}=e(we.store),{link:u}=n(),d=c(a("type")),m=o();return{postLink:u,isEditable:t(),isPublished:l(),isOpened:s(Sl),isEnabled:i(Sl),isViewable:(0,v.get)(d,["viewable"],!1),postSlug:(0,me.safeDecodeURIComponent)(r()),postTypeLabel:(0,v.get)(d,["labels","view_item"]),hasPermalinkParts:!!m,permalinkPrefix:null==m?void 0:m.prefix,permalinkSuffix:null==m?void 0:m.suffix}})),(0,J.ifCondition)((({isEnabled:e,postLink:t,isViewable:n,hasPermalinkParts:l})=>e&&t&&n&&l)),(0,s.withDispatch)((e=>{const{toggleEditorPanelOpened:t}=e(At),{editPost:n}=e(Ee.store);return{onTogglePanel:()=>t(Sl),editPermalink:e=>{n({slug:e})}}}))])((function({isOpened:e,onTogglePanel:t,isEditable:n,postLink:l,permalinkPrefix:o,permalinkSuffix:a,editPermalink:i,postSlug:s,postTypeLabel:c}){const[u,d]=(0,r.useState)(!1);let E,_,g;return n&&(E=o&&(0,r.createElement)("span",{className:"edit-post-post-link__link-prefix"},o),_=s&&(0,r.createElement)("span",{className:"edit-post-post-link__link-post-name"},s),g=a&&(0,r.createElement)("span",{className:"edit-post-post-link__link-suffix"},a)),(0,r.createElement)(m.PanelBody,{title:(0,p.__)("Permalink"),opened:e,onToggle:t},n&&(0,r.createElement)("div",{className:"editor-post-link"},(0,r.createElement)(m.TextControl,{label:(0,p.__)("URL Slug"),value:u?"":s,autoComplete:"off",spellCheck:"false",onChange:e=>{i(e),e?u&&d(!1):u||d(!0)},onBlur:e=>{i((0,Ee.cleanForSlug)(e.target.value)),u&&d(!1)}}),(0,r.createElement)("p",null,(0,p.__)("The last part of the URL.")," ",(0,r.createElement)(m.ExternalLink,{href:(0,p.__)("https://wordpress.org/support/article/writing-posts/#post-field-descriptions")},(0,p.__)("Read about permalinks")))),(0,r.createElement)("h3",{className:"edit-post-post-link__preview-label"},c||(0,p.__)("View post")),(0,r.createElement)("div",{className:"edit-post-post-link__preview-link-container"},(0,r.createElement)(m.ExternalLink,{className:"edit-post-post-link__link",href:l,target:"_blank"},n?(0,r.createElement)(r.Fragment,null,E,_,g):l)))}));const Pl="discussion-panel";var Tl=(0,J.compose)([(0,s.withSelect)((e=>({isEnabled:e(At).isEditorPanelEnabled(Pl),isOpened:e(At).isEditorPanelOpened(Pl)}))),(0,s.withDispatch)((e=>({onTogglePanel:()=>e(At).toggleEditorPanelOpened(Pl)})))])((function({isEnabled:e,isOpened:t,onTogglePanel:n}){return e?(0,r.createElement)(Ee.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},(0,r.createElement)(m.PanelBody,{title:(0,p.__)("Discussion"),opened:t,onToggle:n},(0,r.createElement)(Ee.PostTypeSupportCheck,{supportKeys:"comments"},(0,r.createElement)(m.PanelRow,null,(0,r.createElement)(Ee.PostComments,null))),(0,r.createElement)(Ee.PostTypeSupportCheck,{supportKeys:"trackbacks"},(0,r.createElement)(m.PanelRow,null,(0,r.createElement)(Ee.PostPingbacks,null))))):null}));const Cl="page-attributes";var xl=function(){const{isEnabled:e,isOpened:t,postType:n}=(0,s.useSelect)((e=>{const{getEditedPostAttribute:t}=e(Ee.store),{isEditorPanelEnabled:n,isEditorPanelOpened:l}=e(At),{getPostType:o}=e(we.store);return{isEnabled:n(Cl),isOpened:l(Cl),postType:o(t("type"))}}),[]),{toggleEditorPanelOpened:l}=(0,s.useDispatch)(At);if(!e||!n)return null;const o=(0,v.partial)(l,Cl);return(0,r.createElement)(Ee.PageAttributesCheck,null,(0,r.createElement)(m.PanelBody,{title:(0,v.get)(n,["labels","attributes"],(0,p.__)("Page attributes")),opened:t,onToggle:o},(0,r.createElement)(Ee.PageAttributesParent,null),(0,r.createElement)(m.PanelRow,null,(0,r.createElement)(Ee.PageAttributesOrder,null))))},Il=function({location:e}){const t=(0,r.useRef)(null),n=(0,r.useRef)(null);(0,r.useEffect)((()=>(n.current=document.querySelector(".metabox-location-"+e),n.current&&t.current.appendChild(n.current),()=>{n.current&&document.querySelector("#metaboxes").appendChild(n.current)})),[e]);const l=(0,s.useSelect)((e=>e(At).isSavingMetaBoxes()),[]),o=d()("edit-post-meta-boxes-area",`is-${e}`,{"is-loading":l});return(0,r.createElement)("div",{className:o},l&&(0,r.createElement)(m.Spinner,null),(0,r.createElement)("div",{className:"edit-post-meta-boxes-area__container",ref:t}),(0,r.createElement)("div",{className:"edit-post-meta-boxes-area__clear"}))};class Bl extends r.Component{componentDidMount(){this.updateDOM()}componentDidUpdate(e){this.props.isVisible!==e.isVisible&&this.updateDOM()}updateDOM(){const{id:e,isVisible:t}=this.props,n=document.getElementById(e);n&&(t?n.classList.remove("is-hidden"):n.classList.add("is-hidden"))}render(){return null}}var Nl=(0,s.withSelect)(((e,{id:t})=>({isVisible:e(At).isEditorPanelEnabled(`meta-box-${t}`)})))(Bl);function Ml({location:e}){const t=(0,s.useRegistry)(),{metaBoxes:n,isVisible:l,areMetaBoxesInitialized:o,isEditorReady:a}=(0,s.useSelect)((t=>{const{__unstableIsEditorReady:n}=t(Ee.store),{isMetaBoxLocationVisible:l,getMetaBoxesPerLocation:o,areMetaBoxesInitialized:a}=t(At);return{metaBoxes:o(e),isVisible:l(e),areMetaBoxesInitialized:a(),isEditorReady:n()}}),[e]);return(0,r.useEffect)((()=>{a&&!o&&t.dispatch(At).initializeMetaBoxes()}),[a,o]),o?(0,r.createElement)(r.Fragment,null,(0,v.map)(n,(({id:e})=>(0,r.createElement)(Nl,{key:e,id:e}))),l&&(0,r.createElement)(Il,{location:e})):null}window.wp.warning;const{Fill:Al,Slot:Ll}=(0,m.createSlotFill)("PluginDocumentSettingPanel"),Ol=(0,J.compose)((0,V.withPluginContext)(((e,t)=>(void 0===t.name&&"undefined"!=typeof process&&process.env,{icon:t.icon||e.icon,panelName:`${e.name}/${t.name}`}))),(0,s.withSelect)(((e,{panelName:t})=>({opened:e(At).isEditorPanelOpened(t),isEnabled:e(At).isEditorPanelEnabled(t)}))),(0,s.withDispatch)(((e,{panelName:t})=>({onToggle:()=>e(At).toggleEditorPanelOpened(t)}))))((({isEnabled:e,panelName:t,opened:n,onToggle:l,className:o,title:a,icon:i,children:s})=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(dn,{label:a,panelName:t}),(0,r.createElement)(Al,null,e&&(0,r.createElement)(m.PanelBody,{className:o,title:a,icon:i,opened:n,onToggle:l},s)))));Ol.Slot=Ll;var Dl=Ol;function Rl({className:e,...t}){const{postTitle:n,shortcut:l,showIconLabels:o}=(0,s.useSelect)((e=>({postTitle:e(Ee.store).getEditedPostAttribute("title"),shortcut:e(Vt.store).getShortcutRepresentation("core/edit-post/toggle-sidebar"),showIconLabels:e(At).isFeatureActive("showIconLabels")})));return(0,r.createElement)(Q,c({panelClassName:e,className:"edit-post-sidebar",smallScreenTitle:n||(0,p.__)("(no title)"),scope:"core/edit-post",toggleShortcut:l,showIconLabels:o},t))}var Fl=function(){const[e,t]=(0,r.useState)(!1),[n,l]=(0,r.useState)(!1),[o,a]=(0,r.useState)(""),{template:i,supportsTemplateMode:c,defaultTemplate:u}=(0,s.useSelect)((e=>{var t,n;const{getCurrentPostType:l,getEditorSettings:o}=e(Ee.store),{getPostType:a}=e(we.store),{getEditedPostTemplate:r}=e(At),i=null!==(t=null===(n=a(l()))||void 0===n?void 0:n.viewable)&&void 0!==t&&t,s=o().supportsTemplateMode&&i;return{template:s&&r(),supportsTemplateMode:s,defaultTemplate:o().defaultBlockTemplate}}),[]),{__unstableCreateTemplate:d,__unstableSwitchToTemplateMode:E}=(0,s.useDispatch)(At);if(!c)return null;const _=(0,p.__)("Custom Template");return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"edit-post-template__actions"},!!i&&(0,r.createElement)(m.Button,{variant:"link",onClick:()=>E()},(0,p.__)("Edit")),(0,r.createElement)(m.Button,{variant:"link",onClick:()=>t(!0)},(0,p.__)("New"))),e&&(0,r.createElement)(m.Modal,{title:(0,p.__)("Create custom template"),closeLabel:(0,p.__)("Close"),onRequestClose:()=>{t(!1),a("")},overlayClassName:"edit-post-template__modal"},(0,r.createElement)("form",{onSubmit:async function(e){if(e.preventDefault(),n)return;l(!0);const a=null!=u?u:(0,ie.serialize)([(0,ie.createBlock)("core/group",{tagName:"header",layout:{inherit:!0}},[(0,ie.createBlock)("core/site-title"),(0,ie.createBlock)("core/site-tagline")]),(0,ie.createBlock)("core/separator"),(0,ie.createBlock)("core/group",{tagName:"main"},[(0,ie.createBlock)("core/group",{layout:{inherit:!0}},[(0,ie.createBlock)("core/post-title")]),(0,ie.createBlock)("core/post-content",{layout:{inherit:!0}})])]);await d({slug:"wp-custom-template-"+(0,v.kebabCase)(o||_),content:a,title:o||_}),l(!1),t(!1),E(!0)}},(0,r.createElement)(m.Flex,{align:"flex-start",gap:8},(0,r.createElement)(m.FlexItem,null,(0,r.createElement)(m.TextControl,{label:(0,p.__)("Name"),value:o,onChange:a,placeholder:_,disabled:n,help:(0,p.__)('Describe the purpose of the template, e.g. "Full Width". Custom templates can be applied to any post or page.')}))),(0,r.createElement)(m.Flex,{className:"edit-post-template__modal-actions",justify:"flex-end",expanded:!1},(0,r.createElement)(m.FlexItem,null,(0,r.createElement)(m.Button,{variant:"tertiary",onClick:()=>{t(!1),a("")}},(0,p.__)("Cancel"))),(0,r.createElement)(m.FlexItem,null,(0,r.createElement)(m.Button,{variant:"primary",type:"submit",isBusy:n,"aria-disabled":n},(0,p.__)("Create")))))))};const Vl="template";var Ul=function(){const{isEnabled:e,isOpened:t,selectedTemplate:n,availableTemplates:l,fetchedTemplates:o,isViewable:a,template:i,supportsTemplateMode:c,canUserCreate:u}=(0,s.useSelect)((e=>{var t,n;const{isEditorPanelEnabled:l,isEditorPanelOpened:o,getEditedPostTemplate:a}=e(At),{getEditedPostAttribute:r,getEditorSettings:i,getCurrentPostType:s}=e(Ee.store),{getPostType:c,getEntityRecords:u,canUser:d}=e(we.store),m=null!==(t=null===(n=c(s()))||void 0===n?void 0:n.viewable)&&void 0!==t&&t,p=e(Ee.store).getEditorSettings().supportsTemplateMode&&m,E=u("postType","wp_template"),_=(0,v.fromPairs)((E||[]).map((({slug:e,title:t})=>[e,t.rendered])));return{isEnabled:l(Vl),isOpened:o(Vl),selectedTemplate:r("template"),availableTemplates:i().availableTemplates,fetchedTemplates:_,template:p&&a(),isViewable:m,supportsTemplateMode:p,canUserCreate:d("create","templates")}}),[]),d=(0,r.useMemo)((()=>({...l,...o})),[l,o]),{toggleEditorPanelOpened:E}=(0,s.useDispatch)(At),{editPost:_}=(0,s.useDispatch)(Ee.store);if(!e||!a||(0,v.isEmpty)(l)&&(!c||!u))return null;const g=(0,v.partial)(E,Vl);let h=(0,p.__)("Template");var b;return i&&(h=(0,p.sprintf)(
/* translators: %s: template title */
(0,p.__)("Template: %s"),null!==(b=null==i?void 0:i.title)&&void 0!==b?b:i.slug)),(0,r.createElement)(m.PanelBody,{title:h,opened:t,onToggle:g},(0,r.createElement)(m.SelectControl,{hideLabelFromVision:!0,label:(0,p.__)("Template:"),value:Object.keys(d).includes(n)?n:"",onChange:e=>{_({template:e||""})},options:(0,v.map)(d,((e,t)=>({value:t,label:e})))}),u&&(0,r.createElement)(Fl,null))},Gl=function({icon:e,size:t=24,...n}){return(0,r.cloneElement)(e,{width:t,height:t,...n})},zl=(0,r.createElement)(E.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(E.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})),Hl=function(){const e=(0,s.useSelect)((e=>{const{getEditedPostTemplate:t}=e(At);return t()}),[]);return e?(0,r.createElement)(m.PanelBody,null,(0,r.createElement)(m.Flex,{align:"flex-start"},(0,r.createElement)(m.FlexItem,null,(0,r.createElement)(Gl,{icon:zl})),(0,r.createElement)(m.FlexBlock,null,(0,r.createElement)("h2",{className:"edit-post-template-summary__title"},(null==e?void 0:e.title)||(null==e?void 0:e.slug)),(0,r.createElement)("p",null,null==e?void 0:e.description)))):null};const Wl=r.Platform.select({web:!0,native:!1});var $l=()=>{const{sidebarName:e,keyboardShortcut:t,isTemplateMode:n}=(0,s.useSelect)((e=>{let t=e(F).getActiveComplementaryArea(At.name);return["edit-post/document","edit-post/block"].includes(t)||(e(se.store).getBlockSelectionStart()&&(t="edit-post/block"),t="edit-post/document"),{sidebarName:t,keyboardShortcut:e(Vt.store).getShortcutRepresentation("core/edit-post/toggle-sidebar"),isTemplateMode:e(At).isEditingTemplate()}}),[]);return(0,r.createElement)(Rl,{identifier:e,header:(0,r.createElement)(Jn,{sidebarName:e}),closeLabel:(0,p.__)("Close settings"),headerClassName:"edit-post-sidebar__panel-tabs"
/* translators: button label text should, if possible, be under 16 characters. */,title:(0,p.__)("Settings"),toggleShortcut:t,icon:Zn,isActiveByDefault:Wl},!n&&"edit-post/document"===e&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(pl,null),(0,r.createElement)(Ul,null),(0,r.createElement)(Dl.Slot,null),(0,r.createElement)(El,null),(0,r.createElement)(kl,null),(0,r.createElement)(gl,null),(0,r.createElement)(vl,null),(0,r.createElement)(wl,null),(0,r.createElement)(Tl,null),(0,r.createElement)(xl,null),(0,r.createElement)(Ml,{location:"side"})),n&&"edit-post/document"===e&&(0,r.createElement)(Hl,null),"edit-post/block"===e&&(0,r.createElement)(se.BlockInspector,null))};function ql({nonAnimatedSrc:e,animatedSrc:t}){return(0,r.createElement)("picture",{className:"edit-post-welcome-guide__image"},(0,r.createElement)("source",{srcSet:e,media:"(prefers-reduced-motion: reduce)"}),(0,r.createElement)("img",{src:t,width:"312",height:"240",alt:""}))}function Kl(){const{toggleFeature:e}=(0,s.useDispatch)(At);return(0,r.createElement)(m.Guide,{className:"edit-post-welcome-guide",contentLabel:(0,p.__)("Welcome to the block editor"),finishButtonText:(0,p.__)("Get started"),onFinish:()=>e("welcomeGuide"),pages:[{image:(0,r.createElement)(ql,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,p.__)("Welcome to the block editor")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,p.__)("In the WordPress editor, each paragraph, image, or video is presented as a distinct â€œblockâ€ of content.")))},{image:(0,r.createElement)(ql,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,p.__)("Make each block your own")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,p.__)("Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.")))},{image:(0,r.createElement)(ql,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,p.__)("Get to know the block library")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,r.createInterpolateElement)((0,p.__)("All of the blocks available to you live in the block library. Youâ€™ll find it wherever you see the <InserterIconImage /> icon."),{InserterIconImage:(0,r.createElement)("img",{alt:(0,p.__)("inserter"),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})))},{image:(0,r.createElement)(ql,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,p.__)("Learn how to use the block editor")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,p.__)("New to the block editor? Want to learn more about using it? "),(0,r.createElement)(m.ExternalLink,{href:(0,p.__)("https://wordpress.org/support/article/wordpress-editor/")},(0,p.__)("Here's a detailed guide."))))}]})}function Yl(){const{toggleFeature:e}=(0,s.useDispatch)(At);return(0,r.createElement)(m.Guide,{className:"edit-post-welcome-guide",contentLabel:(0,p.__)("Welcome to the template editor"),finishButtonText:(0,p.__)("Get started"),onFinish:()=>e("welcomeGuideTemplate"),pages:[{image:(0,r.createElement)(ql,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.gif"}),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,p.__)("Welcome to the template editor")),(0,r.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,p.__)("Templates help define the layout of the site. You can customize all aspects of your posts and pages using blocks and patterns in this editor.")))}]})}function jl(){const{isActive:e,isTemplateMode:t}=(0,s.useSelect)((e=>{const{isFeatureActive:t,isEditingTemplate:n}=e(At),l=n();return{isActive:t(l?"welcomeGuideTemplate":"welcomeGuide"),isTemplateMode:l}}),[]);return e?t?(0,r.createElement)(Yl,null):(0,r.createElement)(Kl,null):null}const{Fill:Xl,Slot:Ql}=(0,m.createSlotFill)("PluginPostPublishPanel"),Zl=(0,J.compose)((0,V.withPluginContext)(((e,t)=>({icon:t.icon||e.icon}))))((({children:e,className:t,title:n,initialOpen:l=!1,icon:o})=>(0,r.createElement)(Xl,null,(0,r.createElement)(m.PanelBody,{className:t,initialOpen:l||!n,title:n,icon:o},e))));Zl.Slot=Ql;var Jl=Zl;const{Fill:eo,Slot:to}=(0,m.createSlotFill)("PluginPrePublishPanel"),no=(0,J.compose)((0,V.withPluginContext)(((e,t)=>({icon:t.icon||e.icon}))))((({children:e,className:t,title:n,initialOpen:l=!1,icon:o})=>(0,r.createElement)(eo,null,(0,r.createElement)(m.PanelBody,{className:t,initialOpen:l||!n,title:n,icon:o},e))));no.Slot=to;var lo=no;const{Fill:oo,Slot:ao}=(0,m.createSlotFill)("ActionsPanel");function ro({setEntitiesSavedStatesCallback:e,closeEntitiesSavedStates:t,isEntitiesSavedStatesOpen:n}){const{closePublishSidebar:l,togglePublishSidebar:o}=(0,s.useDispatch)(At),{publishSidebarOpened:a,hasActiveMetaboxes:i,isSavingMetaBoxes:c,hasNonPostEntityChanges:u}=(0,s.useSelect)((e=>({publishSidebarOpened:e(At).isPublishSidebarOpened(),hasActiveMetaboxes:e(At).hasMetaBoxes(),isSavingMetaBoxes:e(At).isSavingMetaBoxes(),hasNonPostEntityChanges:e(Ee.store).hasNonPostEntityChanges()})),[]),d=(0,r.useCallback)((()=>e(!0)),[]);let E;return E=a?(0,r.createElement)(Ee.PostPublishPanel,{onClose:l,forceIsDirty:i,forceIsSaving:c,PrePublishExtension:lo.Slot,PostPublishExtension:Jl.Slot}):u?(0,r.createElement)("div",{className:"edit-post-layout__toggle-entities-saved-states-panel"},(0,r.createElement)(m.Button,{variant:"secondary",className:"edit-post-layout__toggle-entities-saved-states-panel-button",onClick:d,"aria-expanded":!1},(0,p.__)("Open save panel"))):(0,r.createElement)("div",{className:"edit-post-layout__toggle-publish-panel"},(0,r.createElement)(m.Button,{variant:"secondary",className:"edit-post-layout__toggle-publish-panel-button",onClick:o,"aria-expanded":!1},(0,p.__)("Open publish panel"))),(0,r.createElement)(r.Fragment,null,n&&(0,r.createElement)(Ee.EntitiesSavedStates,{close:t}),(0,r.createElement)(ao,{bubblesVirtually:!0}),!n&&E)}const io={secondarySidebar:(0,p.__)("Block library"),
/* translators: accessibility text for the editor top bar landmark region. */
header:(0,p.__)("Editor top bar"),
/* translators: accessibility text for the editor content landmark region. */
body:(0,p.__)("Editor content"),
/* translators: accessibility text for the editor settings landmark region. */
sidebar:(0,p.__)("Editor settings"),
/* translators: accessibility text for the editor publish landmark region. */
actions:(0,p.__)("Editor publish"),
/* translators: accessibility text for the editor footer landmark region. */
footer:(0,p.__)("Editor footer")};var so=function({styles:e}){const t=(0,J.useViewportMatch)("medium","<"),n=(0,J.useViewportMatch)("huge",">="),{openGeneralSidebar:l,closeGeneralSidebar:o,setIsInserterOpened:a}=(0,s.useDispatch)(At),{mode:i,isFullscreenActive:c,isRichEditingEnabled:u,sidebarIsOpened:E,hasActiveMetaboxes:_,hasFixedToolbar:g,previousShortcut:h,nextShortcut:b,hasBlockSelected:f,isInserterOpened:v,isListViewOpened:y,showIconLabels:w,hasReducedUI:S,showBlockBreadcrumbs:k,isTemplateMode:P,documentLabel:T}=(0,s.useSelect)((e=>{const{getEditorSettings:t,getPostTypeLabel:n}=e(Ee.store),l=t(),o=n();return{isTemplateMode:e(At).isEditingTemplate(),hasFixedToolbar:e(At).isFeatureActive("fixedToolbar"),sidebarIsOpened:!(!e(F).getActiveComplementaryArea(At.name)&&!e(At).isPublishSidebarOpened()),isFullscreenActive:e(At).isFeatureActive("fullscreenMode"),isInserterOpened:e(At).isInserterOpened(),isListViewOpened:e(At).isListViewOpened(),mode:e(At).getEditorMode(),isRichEditingEnabled:l.richEditingEnabled,hasActiveMetaboxes:e(At).hasMetaBoxes(),previousShortcut:e(Vt.store).getAllShortcutKeyCombinations("core/edit-post/previous-region"),nextShortcut:e(Vt.store).getAllShortcutKeyCombinations("core/edit-post/next-region"),showIconLabels:e(At).isFeatureActive("showIconLabels"),hasReducedUI:e(At).isFeatureActive("reducedUI"),showBlockBreadcrumbs:e(At).isFeatureActive("showBlockBreadcrumbs"),
// translators: Default label for the Document in the Block Breadcrumb.
documentLabel:o||(0,p._x)("Document","noun")}}),[]),C=d()("edit-post-layout","is-mode-"+i,{"is-sidebar-opened":E,"has-fixed-toolbar":g,"has-metaboxes":_,"show-icon-labels":w});(0,r.useEffect)((()=>{E&&!n&&a(!1)}),[E,n]),(0,r.useEffect)((()=>{v&&!n&&o()}),[v,n]);const[x,I]=(0,r.useState)(!1),B=(0,r.useCallback)((e=>{"function"==typeof x&&x(e),I(!1)}),[x]);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Z,{isActive:c}),(0,r.createElement)(Sn,null),(0,r.createElement)(Ee.UnsavedChangesWarning,null),(0,r.createElement)(Ee.AutosaveMonitor,null),(0,r.createElement)(Ee.LocalAutosaveMonitor,null),(0,r.createElement)(qt,null),(0,r.createElement)(Ee.EditorKeyboardShortcutsRegister,null),(0,r.createElement)($l,null),(0,r.createElement)(ee,{className:C,labels:io,header:(0,r.createElement)(Yn,{setEntitiesSavedStatesCallback:I}),secondarySidebar:"visual"===i&&v?(0,r.createElement)(Xn,null):"visual"===i&&y?(0,r.createElement)(Qn,null):null,sidebar:(!t||E)&&(0,r.createElement)(r.Fragment,null,!t&&!E&&(0,r.createElement)("div",{className:"edit-post-layout__toggle-sidebar-panel"},(0,r.createElement)(m.Button,{variant:"secondary",className:"edit-post-layout__toggle-sidebar-panel-button",onClick:()=>l(f?"edit-post/block":"edit-post/document"),"aria-expanded":!1},f?(0,p.__)("Open block settings"):(0,p.__)("Open document settings"))),(0,r.createElement)(Q.Slot,{scope:"core/edit-post"})),notices:(0,r.createElement)(Ee.EditorSnackbars,null),content:(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Ee.EditorNotices,null),("text"===i||!u)&&(0,r.createElement)(Gt,null),u&&"visual"===i&&(0,r.createElement)($t,{styles:e}),!P&&(0,r.createElement)("div",{className:"edit-post-layout__metaboxes"},(0,r.createElement)(Ml,{location:"normal"}),(0,r.createElement)(Ml,{location:"advanced"})),t&&E&&(0,r.createElement)(m.ScrollLock,null)),footer:!S&&k&&!t&&u&&"visual"===i&&(0,r.createElement)("div",{className:"edit-post-layout__footer"},(0,r.createElement)(se.BlockBreadcrumb,{rootLabelText:T})),actions:(0,r.createElement)(ro,{closeEntitiesSavedStates:B,isEntitiesSavedStatesOpen:x,setEntitiesSavedStatesCallback:I}),shortcuts:{previous:h,next:b}}),(0,r.createElement)(yn,null),(0,r.createElement)(tn,null),(0,r.createElement)(jl,null),(0,r.createElement)(m.Popover.Slot,null),(0,r.createElement)(V.PluginArea,null))};function co({postId:e}){return(e=>{const{hasBlockSelection:t,isEditorSidebarOpened:n}=(0,s.useSelect)((e=>({hasBlockSelection:!!e(se.store).getBlockSelectionStart(),isEditorSidebarOpened:e(Nt).isEditorSidebarOpened()})),[e]),{openGeneralSidebar:l}=(0,s.useDispatch)(Nt);(0,r.useEffect)((()=>{n&&l(t?"edit-post/block":"edit-post/document")}),[t,n])})(e),(e=>{const{newPermalink:t}=(0,s.useSelect)((e=>({newPermalink:e(Ee.store).getCurrentPost().link})),[e]),n=(0,r.useRef)();(0,r.useEffect)((()=>{n.current=document.querySelector("#wp-admin-bar-preview a")||document.querySelector("#wp-admin-bar-view a")}),[e]),(0,r.useEffect)((()=>{t&&n.current&&n.current.setAttribute("href",t)}),[t])})(e),null}var uo=function({postId:e,postType:t,settings:n,initialEdits:l,onError:o,...a}){const{hasFixedToolbar:i,focusMode:u,hasReducedUI:d,hasThemeStyles:p,post:E,preferredStyleVariations:_,hiddenBlockTypes:g,blockTypes:h,__experimentalLocalAutosaveInterval:b,keepCaretInsideBlock:f,isTemplateMode:y,template:w}=(0,s.useSelect)((n=>{var l,o;const{isFeatureActive:a,getPreference:r,__experimentalGetPreviewDeviceType:i,isEditingTemplate:s,getEditedPostTemplate:c}=n(At),{getEntityRecord:u,getPostType:d,getEntityRecords:m}=n(we.store),{getEditorSettings:p}=n(Ee.store),{getBlockTypes:E}=n(ie.store);let _;if(["wp_template","wp_template_part"].includes(t)){const n=m("postType",t,{wp_id:e});_=null==n?void 0:n[0]}else _=u("postType",t,e);const g=p().supportsTemplateMode,h=null!==(l=null===(o=d(t))||void 0===o?void 0:o.viewable)&&void 0!==l&&l;return{hasFixedToolbar:a("fixedToolbar")||"Desktop"!==i(),focusMode:a("focusMode"),hasReducedUI:a("reducedUI"),hasThemeStyles:a("themeStyles"),preferredStyleVariations:r("preferredStyleVariations"),hiddenBlockTypes:r("hiddenBlockTypes"),blockTypes:E(),__experimentalLocalAutosaveInterval:r("localAutosaveInterval"),keepCaretInsideBlock:a("keepCaretInsideBlock"),isTemplateMode:s(),template:g&&h?c():null,post:_}})),{updatePreferredStyleVariations:S,setIsInserterOpened:k}=(0,s.useDispatch)(At),P=(0,r.useMemo)((()=>{const e={...n,__experimentalPreferredStyleVariations:{value:_,onChange:S},hasFixedToolbar:i,focusMode:u,hasReducedUI:d,__experimentalLocalAutosaveInterval:b,__experimentalSetIsInserterOpened:k,keepCaretInsideBlock:f};if((0,v.size)(g)>0){const t=!0===n.allowedBlockTypes?(0,v.map)(h,"name"):n.allowedBlockTypes||[];e.allowedBlockTypes=(0,v.without)(t,...g)}return e}),[n,i,u,d,g,h,_,b,k,S,f]),T=(0,r.useMemo)((()=>{var e;return p&&null!==(e=n.styles)&&void 0!==e&&e.length?n.styles:n.defaultEditorStyles}),[n,p]);return E?(0,r.createElement)(r.StrictMode,null,(0,r.createElement)(Vt.ShortcutProvider,null,(0,r.createElement)(hn.Provider,{value:n},(0,r.createElement)(m.SlotFillProvider,null,(0,r.createElement)(Ee.EditorProvider,c({settings:P,post:E,initialEdits:l,useSubRegistry:!1,__unstableTemplate:y?w:void 0},a),(0,r.createElement)(Ee.ErrorBoundary,{onError:o},(0,r.createElement)(co,{postId:e}),(0,r.createElement)(so,{styles:T}),(0,r.createElement)(m.KeyboardShortcuts,{shortcuts:Ut})),(0,r.createElement)(Ee.PostLockedModal,null)))))):null};var mo=({allowedBlocks:e,icon:t,label:n,onClick:l,small:o,role:a})=>(0,r.createElement)(se.BlockSettingsMenuControls,null,(({selectedBlocks:i,onClose:s})=>((e,t)=>{return!Array.isArray(t)||(n=e,l=t,0===(0,v.difference)(n,l).length);var n,l})(i,e)?(0,r.createElement)(m.MenuItem,{onClick:(0,J.compose)(l,s),icon:t,label:o?n:void 0,role:a},!o&&n):null)),po=(0,J.compose)((0,V.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,name:"core/edit-post/plugin-more-menu"}))))(W);function Eo(e){return(0,r.createElement)(q,c({__unstableExplicitMenuItem:!0,scope:"core/edit-post"},e))}function _o(e,t,n,l,o){(0,r.unmountComponentAtNode)(n);const a=_o.bind(null,e,t,n,l,o);(0,r.render)((0,r.createElement)(uo,{settings:l,onError:a,postId:t,postType:e,initialEdits:o,recovery:!0}),n)}function go(e,t,n,l,o){const a=document.getElementById(e),c=_o.bind(null,t,n,a,l,o);(0,s.dispatch)(F).setFeatureDefaults("core/edit-post",{fixedToolbar:!1,welcomeGuide:!0,fullscreenMode:!0,showIconLabels:!1,themeStyles:!0,showBlockBreadcrumbs:!0,welcomeGuideTemplate:!0}),(0,i.registerCoreBlocks)(),(0,i.__experimentalRegisterExperimentalCoreBlocks)({enableFSEBlocks:l.__unstableEnableFullSiteEditingBlocks}),"Standards"!=("CSS1Compat"===document.compatMode?"Standards":"Quirks")&&console.warn("Your browser is using Quirks Mode. \nThis can cause rendering issues such as blocks overlaying meta boxes in the editor. Quirks Mode can be triggered by PHP errors or HTML code appearing before the opening <!DOCTYPE html>. Try checking the raw page source or your site's PHP error log and resolving errors there, removing any HTML before the doctype, or disabling plugins."),-1!==window.navigator.userAgent.indexOf("iPhone")&&window.addEventListener("scroll",(e=>{const t=document.getElementsByClassName("interface-interface-skeleton__body")[0];e.target===document&&(window.scrollY>100&&(t.scrollTop=t.scrollTop+window.scrollY),document.getElementsByClassName("is-mode-visual")[0]&&window.scrollTo(0,0))})),(0,r.render)((0,r.createElement)(uo,{settings:l,onError:c,postId:n,postType:t,initialEdits:o}),a)}}(),(window.wp=window.wp||{}).editPost=l}();