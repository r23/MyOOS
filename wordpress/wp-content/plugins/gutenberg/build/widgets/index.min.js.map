{"version":3,"file":"./build/widgets/index.min.js","mappings":"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","sources":["webpack://wp/./node_modules/classnames/index.js","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/external window [\"wp\",\"blocks\"]","webpack://wp/external window [\"wp\",\"element\"]","webpack://wp/external window [\"wp\",\"primitives\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/widget.js","webpack://wp/external window [\"wp\",\"blockEditor\"]","webpack://wp/external window [\"wp\",\"components\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/brush.js","webpack://wp/external window [\"wp\",\"i18n\"]","webpack://wp/external window [\"wp\",\"data\"]","webpack://wp/external window [\"wp\",\"coreData\"]","webpack://wp/./packages/widgets/build-module/blocks/legacy-widget/edit/@wordpress/widgets/src/blocks/legacy-widget/edit/widget-type-selector.js","webpack://wp/./packages/widgets/build-module/blocks/legacy-widget/edit/@wordpress/widgets/src/blocks/legacy-widget/edit/inspector-card.js","webpack://wp/external window [\"wp\",\"notices\"]","webpack://wp/external window [\"wp\",\"compose\"]","webpack://wp/external window \"lodash\"","webpack://wp/external window [\"wp\",\"apiFetch\"]","webpack://wp/./packages/widgets/build-module/blocks/legacy-widget/edit/@wordpress/widgets/src/blocks/legacy-widget/edit/control.js","webpack://wp/./packages/widgets/build-module/blocks/legacy-widget/edit/@wordpress/widgets/src/blocks/legacy-widget/edit/form.js","webpack://wp/./packages/widgets/build-module/blocks/legacy-widget/edit/@wordpress/widgets/src/blocks/legacy-widget/edit/preview.js","webpack://wp/./packages/widgets/build-module/blocks/legacy-widget/edit/@wordpress/widgets/src/blocks/legacy-widget/edit/no-preview.js","webpack://wp/./packages/widgets/build-module/blocks/legacy-widget/edit/@wordpress/widgets/src/blocks/legacy-widget/edit/convert-to-blocks-button.js","webpack://wp/./packages/widgets/build-module/blocks/legacy-widget/edit/@wordpress/widgets/src/blocks/legacy-widget/edit/index.js","webpack://wp/./packages/widgets/build-module/blocks/legacy-widget/@wordpress/widgets/src/blocks/legacy-widget/transforms.js","webpack://wp/./packages/widgets/build-module/blocks/legacy-widget/@wordpress/widgets/src/blocks/legacy-widget/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/group.js","webpack://wp/./packages/widgets/build-module/blocks/widget-group/@wordpress/widgets/src/blocks/widget-group/edit.js","webpack://wp/./packages/widgets/build-module/blocks/widget-group/@wordpress/widgets/src/blocks/widget-group/deprecated.js","webpack://wp/./packages/widgets/build-module/blocks/widget-group/@wordpress/widgets/src/blocks/widget-group/index.js","webpack://wp/./packages/widgets/build-module/blocks/widget-group/@wordpress/widgets/src/blocks/widget-group/save.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/move-to.js","webpack://wp/./packages/widgets/build-module/components/move-to-widget-area/@wordpress/widgets/src/components/move-to-widget-area/index.js","webpack://wp/./packages/widgets/build-module/@wordpress/widgets/src/utils.js","webpack://wp/./packages/widgets/build-module/@wordpress/widgets/src/register-legacy-widget-variations.js","webpack://wp/./packages/widgets/build-module/@wordpress/widgets/src/index.js"],"sourcesContent":["/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst widget = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M6 3H8V5H16V3H18V5C19.1046 5 20 5.89543 20 7V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V7C4 5.89543 4.89543 5 6 5V3ZM18 6.5H6C5.72386 6.5 5.5 6.72386 5.5 7V8H18.5V7C18.5 6.72386 18.2761 6.5 18 6.5ZM18.5 9.5H5.5V19C5.5 19.2761 5.72386 19.5 6 19.5H18C18.2761 19.5 18.5 19.2761 18.5 19V9.5ZM11 11H13V13H11V11ZM7 11V13H9V11H7ZM15 13V11H17V13H15Z\" />\n\t</SVG>\n);\n\nexport default widget;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst brush = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M4 20h8v-1.5H4V20zM18.9 3.5c-.6-.6-1.5-.6-2.1 0l-7.2 7.2c-.4-.1-.7 0-1.1.1-.5.2-1.5.7-1.9 2.2-.4 1.7-.8 2.2-1.1 2.7-.1.1-.2.3-.3.4l-.6 1.1H6c2 0 3.4-.4 4.7-1.4.8-.6 1.2-1.4 1.3-2.3 0-.3 0-.5-.1-.7L19 5.7c.5-.6.5-1.6-.1-2.2zM9.7 14.7c-.7.5-1.5.8-2.4 1 .2-.5.5-1.2.8-2.3.2-.6.4-1 .8-1.1.5-.1 1 .1 1.3.3.2.2.3.5.2.8 0 .3-.1.9-.7 1.3z\" />\n\t</SVG>\n);\n\nexport default brush;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","/**\n * WordPress dependencies\n */\nimport { Spinner, SelectControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\nexport default function WidgetTypeSelector( { selectedId, onSelect } ) {\n\tconst widgetTypes = useSelect( ( select ) => {\n\t\tconst hiddenIds =\n\t\t\tselect( blockEditorStore ).getSettings()\n\t\t\t\t?.widgetTypesToHideFromLegacyWidgetBlock ?? [];\n\t\treturn select( coreStore )\n\t\t\t.getWidgetTypes( { per_page: -1 } )\n\t\t\t?.filter( ( widgetType ) => ! hiddenIds.includes( widgetType.id ) );\n\t}, [] );\n\n\tif ( ! widgetTypes ) {\n\t\treturn <Spinner />;\n\t}\n\n\tif ( widgetTypes.length === 0 ) {\n\t\treturn __( 'There are no widgets available.' );\n\t}\n\n\treturn (\n\t\t<SelectControl\n\t\t\tlabel={ __( 'Select a legacy widget to display:' ) }\n\t\t\tvalue={ selectedId ?? '' }\n\t\t\toptions={ [\n\t\t\t\t{ value: '', label: __( 'Select widget' ) },\n\t\t\t\t...widgetTypes.map( ( widgetType ) => ( {\n\t\t\t\t\tvalue: widgetType.id,\n\t\t\t\t\tlabel: widgetType.name,\n\t\t\t\t} ) ),\n\t\t\t] }\n\t\t\tonChange={ ( value ) => {\n\t\t\t\tif ( value ) {\n\t\t\t\t\tconst selected = widgetTypes.find(\n\t\t\t\t\t\t( widgetType ) => widgetType.id === value\n\t\t\t\t\t);\n\t\t\t\t\tonSelect( {\n\t\t\t\t\t\tselectedId: selected.id,\n\t\t\t\t\t\tisMulti: selected.is_multi,\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tonSelect( { selectedId: null } );\n\t\t\t\t}\n\t\t\t} }\n\t\t/>\n\t);\n}\n","export default function InspectorCard( { name, description } ) {\n\treturn (\n\t\t<div className=\"wp-block-legacy-widget-inspector-card\">\n\t\t\t<h3 className=\"wp-block-legacy-widget-inspector-card__name\">\n\t\t\t\t{ name }\n\t\t\t</h3>\n\t\t\t<span>{ description }</span>\n\t\t</div>\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"notices\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"lodash\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","/**\n * External dependencies\n */\nimport { debounce } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * An API for creating and loading a widget control (a <div class=\"widget\">\n * element) that is compatible with most third party widget scripts. By not\n * using React for this, we ensure that we have complete contorl over the DOM\n * and do not accidentally remove any elements that a third party widget script\n * has attached an event listener to.\n *\n * @property {Element} element The control's DOM element.\n */\nexport default class Control {\n\t/**\n\t * Creates and loads a new control.\n\t *\n\t * @access public\n\t * @param {Object}   params\n\t * @param {string}   params.id\n\t * @param {string}   params.idBase\n\t * @param {Object}   params.instance\n\t * @param {Function} params.onChangeInstance\n\t * @param {Function} params.onChangeHasPreview\n\t * @param {Function} params.onError\n\t */\n\tconstructor( {\n\t\tid,\n\t\tidBase,\n\t\tinstance,\n\t\tonChangeInstance,\n\t\tonChangeHasPreview,\n\t\tonError,\n\t} ) {\n\t\tthis.id = id;\n\t\tthis.idBase = idBase;\n\t\tthis._instance = instance;\n\t\tthis._hasPreview = null;\n\t\tthis.onChangeInstance = onChangeInstance;\n\t\tthis.onChangeHasPreview = onChangeHasPreview;\n\t\tthis.onError = onError;\n\n\t\t// We can't use the real widget number as this is calculated by the\n\t\t// server and we may not ever *actually* save this widget. Instead, use\n\t\t// a fake but unique number.\n\t\tthis.number = ++lastNumber;\n\n\t\tthis.handleFormChange = debounce(\n\t\t\tthis.handleFormChange.bind( this ),\n\t\t\t200\n\t\t);\n\t\tthis.handleFormSubmit = this.handleFormSubmit.bind( this );\n\n\t\tthis.initDOM();\n\t\tthis.bindEvents();\n\t\tthis.loadContent();\n\t}\n\n\t/**\n\t * Clean up the control so that it can be garabge collected.\n\t *\n\t * @access public\n\t */\n\tdestroy() {\n\t\tthis.unbindEvents();\n\t\tthis.element.remove();\n\t\t// TODO: How do we make third party widget scripts remove their event\n\t\t// listeners?\n\t}\n\n\t/**\n\t * Creates the control's DOM structure.\n\t *\n\t * @access private\n\t */\n\tinitDOM() {\n\t\tthis.element = el( 'div', { class: 'widget open' }, [\n\t\t\tel( 'div', { class: 'widget-inside' }, [\n\t\t\t\t( this.form = el( 'form', { class: 'form', method: 'post' }, [\n\t\t\t\t\t// These hidden form inputs are what most widgets' scripts\n\t\t\t\t\t// use to access data about the widget.\n\t\t\t\t\tel( 'input', {\n\t\t\t\t\t\tclass: 'widget-id',\n\t\t\t\t\t\ttype: 'hidden',\n\t\t\t\t\t\tname: 'widget-id',\n\t\t\t\t\t\tvalue: this.id ?? `${ this.idBase }-${ this.number }`,\n\t\t\t\t\t} ),\n\t\t\t\t\tel( 'input', {\n\t\t\t\t\t\tclass: 'id_base',\n\t\t\t\t\t\ttype: 'hidden',\n\t\t\t\t\t\tname: 'id_base',\n\t\t\t\t\t\tvalue: this.idBase ?? this.id,\n\t\t\t\t\t} ),\n\t\t\t\t\tel( 'input', {\n\t\t\t\t\t\tclass: 'widget-width',\n\t\t\t\t\t\ttype: 'hidden',\n\t\t\t\t\t\tname: 'widget-width',\n\t\t\t\t\t\tvalue: '250',\n\t\t\t\t\t} ),\n\t\t\t\t\tel( 'input', {\n\t\t\t\t\t\tclass: 'widget-height',\n\t\t\t\t\t\ttype: 'hidden',\n\t\t\t\t\t\tname: 'widget-height',\n\t\t\t\t\t\tvalue: '200',\n\t\t\t\t\t} ),\n\t\t\t\t\tel( 'input', {\n\t\t\t\t\t\tclass: 'widget_number',\n\t\t\t\t\t\ttype: 'hidden',\n\t\t\t\t\t\tname: 'widget_number',\n\t\t\t\t\t\tvalue: this.idBase ? this.number.toString() : '',\n\t\t\t\t\t} ),\n\t\t\t\t\t( this.content = el( 'div', { class: 'widget-content' } ) ),\n\t\t\t\t\t// Non-multi widgets can be saved via a Save button.\n\t\t\t\t\tthis.id &&\n\t\t\t\t\t\tel(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclass: 'button is-primary',\n\t\t\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t__( 'Save' )\n\t\t\t\t\t\t),\n\t\t\t\t] ) ),\n\t\t\t] ),\n\t\t] );\n\t}\n\n\t/**\n\t * Adds the control's event listeners.\n\t *\n\t * @access private\n\t */\n\tbindEvents() {\n\t\t// Prefer jQuery 'change' event instead of the native 'change' event\n\t\t// because many widgets use jQuery's event bus to trigger an update.\n\t\tif ( window.jQuery ) {\n\t\t\tconst { jQuery: $ } = window;\n\t\t\t$( this.form ).on( 'change', null, this.handleFormChange );\n\t\t\t$( this.form ).on( 'input', null, this.handleFormChange );\n\t\t\t$( this.form ).on( 'submit', this.handleFormSubmit );\n\t\t} else {\n\t\t\tthis.form.addEventListener( 'change', this.handleFormChange );\n\t\t\tthis.form.addEventListener( 'input', this.handleFormChange );\n\t\t\tthis.form.addEventListener( 'submit', this.handleFormSubmit );\n\t\t}\n\t}\n\n\t/**\n\t * Removes the control's event listeners.\n\t *\n\t * @access private\n\t */\n\tunbindEvents() {\n\t\tif ( window.jQuery ) {\n\t\t\tconst { jQuery: $ } = window;\n\t\t\t$( this.form ).off( 'change', null, this.handleFormChange );\n\t\t\t$( this.form ).off( 'input', null, this.handleFormChange );\n\t\t\t$( this.form ).off( 'submit', this.handleFormSubmit );\n\t\t} else {\n\t\t\tthis.form.removeEventListener( 'change', this.handleFormChange );\n\t\t\tthis.form.removeEventListener( 'input', this.handleFormChange );\n\t\t\tthis.form.removeEventListener( 'submit', this.handleFormSubmit );\n\t\t}\n\t}\n\n\t/**\n\t * Fetches the widget's form HTML from the REST API and loads it into the\n\t * control's form.\n\t *\n\t * @access private\n\t */\n\tasync loadContent() {\n\t\ttry {\n\t\t\tif ( this.id ) {\n\t\t\t\tconst { form } = await saveWidget( this.id );\n\t\t\t\tthis.content.innerHTML = form;\n\t\t\t} else if ( this.idBase ) {\n\t\t\t\tconst { form, preview } = await encodeWidget( {\n\t\t\t\t\tidBase: this.idBase,\n\t\t\t\t\tinstance: this.instance,\n\t\t\t\t\tnumber: this.number,\n\t\t\t\t} );\n\t\t\t\tthis.content.innerHTML = form;\n\t\t\t\tthis.hasPreview = ! isEmptyHTML( preview );\n\n\t\t\t\t// If we don't have an instance, perform a save right away. This\n\t\t\t\t// happens when creating a new Legacy Widget block.\n\t\t\t\tif ( ! this.instance.hash ) {\n\t\t\t\t\tconst { instance } = await encodeWidget( {\n\t\t\t\t\t\tidBase: this.idBase,\n\t\t\t\t\t\tinstance: this.instance,\n\t\t\t\t\t\tnumber: this.number,\n\t\t\t\t\t\tformData: serializeForm( this.form ),\n\t\t\t\t\t} );\n\t\t\t\t\tthis.instance = instance;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Trigger 'widget-added' when widget is ready. This event is what\n\t\t\t// widgets' scripts use to initialize, attach events, etc. The event\n\t\t\t// must be fired using jQuery's event bus as this is what widget\n\t\t\t// scripts expect. If jQuery is not loaded, do nothing - some\n\t\t\t// widgets will still work regardless.\n\t\t\tif ( window.jQuery ) {\n\t\t\t\tconst { jQuery: $ } = window;\n\t\t\t\t$( document ).trigger( 'widget-added', [ $( this.element ) ] );\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\tthis.onError( error );\n\t\t}\n\t}\n\n\t/**\n\t * Perform a save when a multi widget's form is changed. Non-multi widgets\n\t * are saved manually.\n\t *\n\t * @access private\n\t */\n\thandleFormChange() {\n\t\tif ( this.idBase ) {\n\t\t\tthis.saveForm();\n\t\t}\n\t}\n\n\t/**\n\t * Perform a save when the control's form is manually submitted.\n\t *\n\t * @access private\n\t * @param {Event} event\n\t */\n\thandleFormSubmit( event ) {\n\t\tevent.preventDefault();\n\t\tthis.saveForm();\n\t}\n\n\t/**\n\t * Serialize the control's form, send it to the REST API, and update the\n\t * instance with the encoded instance that the REST API returns.\n\t *\n\t * @access private\n\t */\n\tasync saveForm() {\n\t\tconst formData = serializeForm( this.form );\n\n\t\ttry {\n\t\t\tif ( this.id ) {\n\t\t\t\tconst { form } = await saveWidget( this.id, formData );\n\t\t\t\tthis.content.innerHTML = form;\n\n\t\t\t\tif ( window.jQuery ) {\n\t\t\t\t\tconst { jQuery: $ } = window;\n\t\t\t\t\t$( document ).trigger( 'widget-updated', [\n\t\t\t\t\t\t$( this.element ),\n\t\t\t\t\t] );\n\t\t\t\t}\n\t\t\t} else if ( this.idBase ) {\n\t\t\t\tconst { instance, preview } = await encodeWidget( {\n\t\t\t\t\tidBase: this.idBase,\n\t\t\t\t\tinstance: this.instance,\n\t\t\t\t\tnumber: this.number,\n\t\t\t\t\tformData,\n\t\t\t\t} );\n\t\t\t\tthis.instance = instance;\n\t\t\t\tthis.hasPreview = ! isEmptyHTML( preview );\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\tthis.onError( error );\n\t\t}\n\t}\n\n\t/**\n\t * The widget's instance object.\n\t *\n\t * @access private\n\t */\n\tget instance() {\n\t\treturn this._instance;\n\t}\n\n\t/**\n\t * The widget's instance object.\n\t *\n\t * @access private\n\t */\n\tset instance( instance ) {\n\t\tif ( this._instance !== instance ) {\n\t\t\tthis._instance = instance;\n\t\t\tthis.onChangeInstance( instance );\n\t\t}\n\t}\n\n\t/**\n\t * Whether or not the widget can be previewed.\n\t *\n\t * @access public\n\t */\n\tget hasPreview() {\n\t\treturn this._hasPreview;\n\t}\n\n\t/**\n\t * Whether or not the widget can be previewed.\n\t *\n\t * @access private\n\t */\n\tset hasPreview( hasPreview ) {\n\t\tif ( this._hasPreview !== hasPreview ) {\n\t\t\tthis._hasPreview = hasPreview;\n\t\t\tthis.onChangeHasPreview( hasPreview );\n\t\t}\n\t}\n}\n\nlet lastNumber = 0;\n\nfunction el( tagName, attributes = {}, content = null ) {\n\tconst element = document.createElement( tagName );\n\tfor ( const [ attribute, value ] of Object.entries( attributes ) ) {\n\t\telement.setAttribute( attribute, value );\n\t}\n\tif ( Array.isArray( content ) ) {\n\t\tfor ( const child of content ) {\n\t\t\tif ( child ) {\n\t\t\t\telement.appendChild( child );\n\t\t\t}\n\t\t}\n\t} else if ( typeof content === 'string' ) {\n\t\telement.innerText = content;\n\t}\n\treturn element;\n}\n\nasync function saveWidget( id, formData = null ) {\n\tlet widget;\n\tif ( formData ) {\n\t\twidget = await apiFetch( {\n\t\t\tpath: `/wp/v2/widgets/${ id }?context=edit`,\n\t\t\tmethod: 'PUT',\n\t\t\tdata: {\n\t\t\t\tform_data: formData,\n\t\t\t},\n\t\t} );\n\t} else {\n\t\twidget = await apiFetch( {\n\t\t\tpath: `/wp/v2/widgets/${ id }?context=edit`,\n\t\t\tmethod: 'GET',\n\t\t} );\n\t}\n\treturn { form: widget.rendered_form };\n}\n\nasync function encodeWidget( { idBase, instance, number, formData = null } ) {\n\tconst response = await apiFetch( {\n\t\tpath: `/wp/v2/widget-types/${ idBase }/encode`,\n\t\tmethod: 'POST',\n\t\tdata: {\n\t\t\tinstance,\n\t\t\tnumber,\n\t\t\tform_data: formData,\n\t\t},\n\t} );\n\treturn {\n\t\tinstance: response.instance,\n\t\tform: response.form,\n\t\tpreview: response.preview,\n\t};\n}\n\nfunction isEmptyHTML( html ) {\n\tconst element = document.createElement( 'div' );\n\telement.innerHTML = html;\n\treturn isEmptyNode( element );\n}\n\nfunction isEmptyNode( node ) {\n\tswitch ( node.nodeType ) {\n\t\tcase node.TEXT_NODE:\n\t\t\t// Text nodes are empty if it's entirely whitespace.\n\t\t\treturn node.nodeValue.trim() === '';\n\t\tcase node.ELEMENT_NODE:\n\t\t\t// Elements that are \"embedded content\" are not empty.\n\t\t\t// https://dev.w3.org/html5/spec-LC/content-models.html#embedded-content-0\n\t\t\tif (\n\t\t\t\t[\n\t\t\t\t\t'AUDIO',\n\t\t\t\t\t'CANVAS',\n\t\t\t\t\t'EMBED',\n\t\t\t\t\t'IFRAME',\n\t\t\t\t\t'IMG',\n\t\t\t\t\t'MATH',\n\t\t\t\t\t'OBJECT',\n\t\t\t\t\t'SVG',\n\t\t\t\t\t'VIDEO',\n\t\t\t\t].includes( node.tagName )\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Elements with no children are empty.\n\t\t\tif ( ! node.hasChildNodes() ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t// Elements with children are empty if all their children are empty.\n\t\t\treturn Array.from( node.childNodes ).every( isEmptyNode );\n\t\tdefault:\n\t\t\treturn true;\n\t}\n}\n\nfunction serializeForm( form ) {\n\treturn new window.URLSearchParams(\n\t\tArray.from( new window.FormData( form ) )\n\t).toString();\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Popover } from '@wordpress/components';\nimport { useViewportMatch } from '@wordpress/compose';\n/**\n * Internal dependencies\n */\nimport Control from './control';\n\nexport default function Form( {\n\ttitle,\n\tisVisible,\n\tid,\n\tidBase,\n\tinstance,\n\tisWide,\n\tonChangeInstance,\n\tonChangeHasPreview,\n} ) {\n\tconst ref = useRef();\n\n\tconst isMediumLargeViewport = useViewportMatch( 'small' );\n\n\t// We only want to remount the control when the instance changes\n\t// *externally*. For example, if the user performs an undo. To do this, we\n\t// keep track of changes made to instance by the control itself and then\n\t// ignore those.\n\tconst outgoingInstances = useRef( new Set() );\n\tconst incomingInstances = useRef( new Set() );\n\n\tconst { createNotice } = useDispatch( noticesStore );\n\n\tuseEffect( () => {\n\t\tif ( incomingInstances.current.has( instance ) ) {\n\t\t\tincomingInstances.current.delete( instance );\n\t\t\treturn;\n\t\t}\n\n\t\tconst control = new Control( {\n\t\t\tid,\n\t\t\tidBase,\n\t\t\tinstance,\n\t\t\tonChangeInstance( nextInstance ) {\n\t\t\t\toutgoingInstances.current.add( instance );\n\t\t\t\tincomingInstances.current.add( nextInstance );\n\t\t\t\tonChangeInstance( nextInstance );\n\t\t\t},\n\t\t\tonChangeHasPreview,\n\t\t\tonError( error ) {\n\t\t\t\twindow.console.error( error );\n\t\t\t\tcreateNotice(\n\t\t\t\t\t'error',\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %s: the name of the affected block. */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'The \"%s\" block was affected by errors and may not function properly. Check the developer tools for more details.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tidBase || id\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t},\n\t\t} );\n\n\t\tref.current.appendChild( control.element );\n\n\t\treturn () => {\n\t\t\tif ( outgoingInstances.current.has( instance ) ) {\n\t\t\t\toutgoingInstances.current.delete( instance );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcontrol.destroy();\n\t\t};\n\t}, [\n\t\tid,\n\t\tidBase,\n\t\tinstance,\n\t\tonChangeInstance,\n\t\tonChangeHasPreview,\n\t\tisMediumLargeViewport,\n\t] );\n\n\tif ( isWide && isMediumLargeViewport ) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t'wp-block-legacy-widget__container': isVisible,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t{ isVisible && (\n\t\t\t\t\t<h3 className=\"wp-block-legacy-widget__edit-form-title\">\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</h3>\n\t\t\t\t) }\n\t\t\t\t<Popover\n\t\t\t\t\tfocusOnMount={ false }\n\t\t\t\t\tposition=\"middle right\"\n\t\t\t\t\t__unstableForceXAlignment\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\tclassName=\"wp-block-legacy-widget__edit-form\"\n\t\t\t\t\t\thidden={ ! isVisible }\n\t\t\t\t\t></div>\n\t\t\t\t</Popover>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tref={ ref }\n\t\t\tclassName=\"wp-block-legacy-widget__edit-form\"\n\t\t\thidden={ ! isVisible }\n\t\t>\n\t\t\t<h3 className=\"wp-block-legacy-widget__edit-form-title\">\n\t\t\t\t{ title }\n\t\t\t</h3>\n\t\t</div>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useRefEffect } from '@wordpress/compose';\nimport { useEffect, useState } from '@wordpress/element';\nimport { Disabled, Placeholder, Spinner } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport apiFetch from '@wordpress/api-fetch';\n\nexport default function Preview( { idBase, instance, isVisible } ) {\n\tconst [ isLoaded, setIsLoaded ] = useState( false );\n\tconst [ srcDoc, setSrcDoc ] = useState( '' );\n\n\tuseEffect( () => {\n\t\tconst abortController =\n\t\t\ttypeof window.AbortController === 'undefined'\n\t\t\t\t? undefined\n\t\t\t\t: new window.AbortController();\n\n\t\tasync function fetchPreviewHTML() {\n\t\t\tconst restRoute = `/wp/v2/widget-types/${ idBase }/render`;\n\t\t\treturn await apiFetch( {\n\t\t\t\tpath: restRoute,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tsignal: abortController?.signal,\n\t\t\t\tdata: instance ? { instance } : {},\n\t\t\t} );\n\t\t}\n\n\t\tfetchPreviewHTML()\n\t\t\t.then( ( response ) => {\n\t\t\t\tsetSrcDoc( response.preview );\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tif ( 'AbortError' === error.name ) {\n\t\t\t\t\t// We don't want to log aborted requests.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthrow error;\n\t\t\t} );\n\n\t\treturn () => abortController?.abort();\n\t}, [ idBase, instance ] );\n\n\t// Resize the iframe on either the load event, or when the iframe becomes visible.\n\tconst ref = useRefEffect(\n\t\t( iframe ) => {\n\t\t\t// Only set height if the iframe is loaded,\n\t\t\t// or it will grow to an unexpected large height in Safari if it's hidden initially.\n\t\t\tif ( ! isLoaded ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// If the preview frame has another origin then this won't work.\n\t\t\t// One possible solution is to add custom script to call `postMessage` in the preview frame.\n\t\t\t// Or, better yet, we migrate away from iframe.\n\t\t\tfunction setHeight() {\n\t\t\t\t// Pick the maximum of these two values to account for margin collapsing.\n\t\t\t\tconst height = Math.max(\n\t\t\t\t\tiframe.contentDocument.documentElement.offsetHeight,\n\t\t\t\t\tiframe.contentDocument.body.offsetHeight\n\t\t\t\t);\n\t\t\t\tiframe.style.height = `${ height }px`;\n\t\t\t}\n\n\t\t\tconst { IntersectionObserver } = iframe.ownerDocument.defaultView;\n\n\t\t\t// Observe for intersections that might cause a change in the height of\n\t\t\t// the iframe, e.g. a Widget Area becoming expanded.\n\t\t\tconst intersectionObserver = new IntersectionObserver(\n\t\t\t\t( [ entry ] ) => {\n\t\t\t\t\tif ( entry.isIntersecting ) {\n\t\t\t\t\t\tsetHeight();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tthreshold: 1,\n\t\t\t\t}\n\t\t\t);\n\t\t\tintersectionObserver.observe( iframe );\n\n\t\t\tiframe.addEventListener( 'load', setHeight );\n\n\t\t\treturn () => {\n\t\t\t\tintersectionObserver.disconnect();\n\t\t\t\tiframe.removeEventListener( 'load', setHeight );\n\t\t\t};\n\t\t},\n\t\t[ isLoaded ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ /*\n\t\t\tWhile the iframe contents are loading, we move the iframe off-screen\n\t\t\tand display a placeholder instead. This ensures that the user\n\t\t\tdoesn't see the iframe resize (which looks really janky). We have to\n\t\t\tmove the iframe off-screen instead of hiding it because web browsers\n\t\t\twill not trigger onLoad if the iframe is hidden.\n\t\t\t*/ }\n\t\t\t{ isVisible && ! isLoaded && (\n\t\t\t\t<Placeholder>\n\t\t\t\t\t<Spinner />\n\t\t\t\t</Placeholder>\n\t\t\t) }\n\t\t\t<div\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'wp-block-legacy-widget__edit-preview',\n\t\t\t\t\t{\n\t\t\t\t\t\t'is-offscreen': ! isVisible || ! isLoaded,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t<Disabled>\n\t\t\t\t\t{ /*\n\t\t\t\t\tWe use an iframe so that the widget has an opportunity to\n\t\t\t\t\tload scripts and styles that it needs to run.\n\t\t\t\t\t*/ }\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\tclassName=\"wp-block-legacy-widget__edit-preview-iframe\"\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\ttitle={ __( 'Legacy Widget Preview' ) }\n\t\t\t\t\t\tsrcDoc={ srcDoc }\n\t\t\t\t\t\tonLoad={ ( event ) => {\n\t\t\t\t\t\t\t// To hide the scrollbars of the preview frame for some edge cases,\n\t\t\t\t\t\t\t// such as negative margins in the Gallery Legacy Widget.\n\t\t\t\t\t\t\t// It can't be scrolled anyway.\n\t\t\t\t\t\t\t// TODO: Ideally, this should be fixed in core.\n\t\t\t\t\t\t\tevent.target.contentDocument.body.style.overflow =\n\t\t\t\t\t\t\t\t'hidden';\n\n\t\t\t\t\t\t\tsetIsLoaded( true );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\theight={ 100 }\n\t\t\t\t\t/>\n\t\t\t\t</Disabled>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport default function NoPreview( { name } ) {\n\treturn (\n\t\t<div className=\"wp-block-legacy-widget__edit-no-preview\">\n\t\t\t{ name && <h3>{ name }</h3> }\n\t\t\t<p>{ __( 'No preview available.' ) }</p>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { ToolbarButton } from '@wordpress/components';\nimport { createBlock, rawHandler } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\n\nexport default function ConvertToBlocksButton( { clientId, rawInstance } ) {\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\n\treturn (\n\t\t<ToolbarButton\n\t\t\tonClick={ () => {\n\t\t\t\tif ( rawInstance.title ) {\n\t\t\t\t\treplaceBlocks( clientId, [\n\t\t\t\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\t\t\t\tcontent: rawInstance.title,\n\t\t\t\t\t\t} ),\n\t\t\t\t\t\t...rawHandler( { HTML: rawInstance.text } ),\n\t\t\t\t\t] );\n\t\t\t\t} else {\n\t\t\t\t\treplaceBlocks(\n\t\t\t\t\t\tclientId,\n\t\t\t\t\t\trawHandler( { HTML: rawInstance.text } )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Convert to blocks' ) }\n\t\t</ToolbarButton>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseBlockProps,\n\tBlockControls,\n\tInspectorControls,\n\tBlockIcon,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { Spinner, Placeholder } from '@wordpress/components';\nimport { brush as brushIcon } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\nimport { useState, useCallback } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { __experimentalUseEntityRecord as useEntityRecord } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport WidgetTypeSelector from './widget-type-selector';\nimport InspectorCard from './inspector-card';\nimport Form from './form';\nimport Preview from './preview';\nimport NoPreview from './no-preview';\nimport ConvertToBlocksButton from './convert-to-blocks-button';\n\nexport default function Edit( props ) {\n\tconst { id, idBase } = props.attributes;\n\tconst { isWide = false } = props;\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( {\n\t\t\t'is-wide-widget': isWide,\n\t\t} ),\n\t} );\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t{ ! id && ! idBase ? (\n\t\t\t\t<Empty { ...props } />\n\t\t\t) : (\n\t\t\t\t<NotEmpty { ...props } />\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction Empty( { attributes: { id, idBase }, setAttributes } ) {\n\treturn (\n\t\t<Placeholder\n\t\t\ticon={ <BlockIcon icon={ brushIcon } /> }\n\t\t\tlabel={ __( 'Legacy Widget' ) }\n\t\t>\n\t\t\t<WidgetTypeSelector\n\t\t\t\tselectedId={ id ?? idBase }\n\t\t\t\tonSelect={ ( { selectedId, isMulti } ) => {\n\t\t\t\t\tif ( ! selectedId ) {\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tid: null,\n\t\t\t\t\t\t\tidBase: null,\n\t\t\t\t\t\t\tinstance: null,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} else if ( isMulti ) {\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tid: null,\n\t\t\t\t\t\t\tidBase: selectedId,\n\t\t\t\t\t\t\tinstance: {},\n\t\t\t\t\t\t} );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tid: selectedId,\n\t\t\t\t\t\t\tidBase: null,\n\t\t\t\t\t\t\tinstance: null,\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t/>\n\t\t</Placeholder>\n\t);\n}\n\nfunction NotEmpty( {\n\tattributes: { id, idBase, instance },\n\tsetAttributes,\n\tclientId,\n\tisSelected,\n\tisWide = false,\n} ) {\n\tconst [ hasPreview, setHasPreview ] = useState( null );\n\n\tconst widgetTypeId = id ?? idBase;\n\tconst {\n\t\trecord: widgetType,\n\t\thasResolved: hasResolvedWidgetType,\n\t} = useEntityRecord( 'root', 'widgetType', widgetTypeId );\n\n\tconst isNavigationMode = useSelect(\n\t\t( select ) => select( blockEditorStore ).isNavigationMode(),\n\t\t[]\n\t);\n\n\tconst setInstance = useCallback( ( nextInstance ) => {\n\t\tsetAttributes( { instance: nextInstance } );\n\t}, [] );\n\n\tif ( ! widgetType && hasResolvedWidgetType ) {\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\ticon={ <BlockIcon icon={ brushIcon } /> }\n\t\t\t\tlabel={ __( 'Legacy Widget' ) }\n\t\t\t>\n\t\t\t\t{ __( 'Widget is missing.' ) }\n\t\t\t</Placeholder>\n\t\t);\n\t}\n\n\tif ( ! hasResolvedWidgetType ) {\n\t\treturn (\n\t\t\t<Placeholder>\n\t\t\t\t<Spinner />\n\t\t\t</Placeholder>\n\t\t);\n\t}\n\n\tconst mode =\n\t\tidBase && ( isNavigationMode || ! isSelected ) ? 'preview' : 'edit';\n\n\treturn (\n\t\t<>\n\t\t\t{ idBase === 'text' && (\n\t\t\t\t<BlockControls group=\"other\">\n\t\t\t\t\t<ConvertToBlocksButton\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\trawInstance={ instance.raw }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\n\t\t\t<InspectorControls>\n\t\t\t\t<InspectorCard\n\t\t\t\t\tname={ widgetType.name }\n\t\t\t\t\tdescription={ widgetType.description }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\n\t\t\t<Form\n\t\t\t\ttitle={ widgetType.name }\n\t\t\t\tisVisible={ mode === 'edit' }\n\t\t\t\tid={ id }\n\t\t\t\tidBase={ idBase }\n\t\t\t\tinstance={ instance }\n\t\t\t\tisWide={ isWide }\n\t\t\t\tonChangeInstance={ setInstance }\n\t\t\t\tonChangeHasPreview={ setHasPreview }\n\t\t\t/>\n\n\t\t\t{ idBase && (\n\t\t\t\t<>\n\t\t\t\t\t{ hasPreview === null && mode === 'preview' && (\n\t\t\t\t\t\t<Placeholder>\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</Placeholder>\n\t\t\t\t\t) }\n\t\t\t\t\t{ hasPreview === true && (\n\t\t\t\t\t\t<Preview\n\t\t\t\t\t\t\tidBase={ idBase }\n\t\t\t\t\t\t\tinstance={ instance }\n\t\t\t\t\t\t\tisVisible={ mode === 'preview' }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ hasPreview === false && mode === 'preview' && (\n\t\t\t\t\t\t<NoPreview name={ widgetType.name } />\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\n\nconst legacyWidgetTransforms = [\n\t{\n\t\tblock: 'core/calendar',\n\t\twidget: 'calendar',\n\t},\n\t{\n\t\tblock: 'core/search',\n\t\twidget: 'search',\n\t},\n\t{\n\t\tblock: 'core/html',\n\t\twidget: 'custom_html',\n\t\ttransform: ( { content } ) => ( {\n\t\t\tcontent,\n\t\t} ),\n\t},\n\t{\n\t\tblock: 'core/archives',\n\t\twidget: 'archives',\n\t\ttransform: ( { count, dropdown } ) => {\n\t\t\treturn {\n\t\t\t\tdisplayAsDropdown: !! dropdown,\n\t\t\t\tshowPostCounts: !! count,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/latest-posts',\n\t\twidget: 'recent-posts',\n\t\ttransform: ( { show_date: displayPostDate, number } ) => {\n\t\t\treturn {\n\t\t\t\tdisplayPostDate: !! displayPostDate,\n\t\t\t\tpostsToShow: number,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/latest-comments',\n\t\twidget: 'recent-comments',\n\t\ttransform: ( { number } ) => {\n\t\t\treturn {\n\t\t\t\tcommentsToShow: number,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/tag-cloud',\n\t\twidget: 'tag_cloud',\n\t\ttransform: ( { taxonomy, count } ) => {\n\t\t\treturn {\n\t\t\t\tshowTagCounts: !! count,\n\t\t\t\ttaxonomy,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/categories',\n\t\twidget: 'categories',\n\t\ttransform: ( { count, dropdown, hierarchical } ) => {\n\t\t\treturn {\n\t\t\t\tdisplayAsDropdown: !! dropdown,\n\t\t\t\tshowPostCounts: !! count,\n\t\t\t\tshowHierarchy: !! hierarchical,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/audio',\n\t\twidget: 'media_audio',\n\t\ttransform: ( { url, preload, loop, attachment_id: id } ) => {\n\t\t\treturn {\n\t\t\t\tsrc: url,\n\t\t\t\tid,\n\t\t\t\tpreload,\n\t\t\t\tloop,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/video',\n\t\twidget: 'media_video',\n\t\ttransform: ( { url, preload, loop, attachment_id: id } ) => {\n\t\t\treturn {\n\t\t\t\tsrc: url,\n\t\t\t\tid,\n\t\t\t\tpreload,\n\t\t\t\tloop,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/image',\n\t\twidget: 'media_image',\n\t\ttransform: ( {\n\t\t\talt,\n\t\t\tattachment_id: id,\n\t\t\tcaption,\n\t\t\theight,\n\t\t\tlink_classes: linkClass,\n\t\t\tlink_rel: rel,\n\t\t\tlink_target_blank: targetBlack,\n\t\t\tlink_type: linkDestination,\n\t\t\tlink_url: link,\n\t\t\tsize: sizeSlug,\n\t\t\turl,\n\t\t\twidth,\n\t\t} ) => {\n\t\t\treturn {\n\t\t\t\talt,\n\t\t\t\tcaption,\n\t\t\t\theight,\n\t\t\t\tid,\n\t\t\t\tlink,\n\t\t\t\tlinkClass,\n\t\t\t\tlinkDestination,\n\t\t\t\tlinkTarget: targetBlack ? '_blank' : undefined,\n\t\t\t\trel,\n\t\t\t\tsizeSlug,\n\t\t\t\turl,\n\t\t\t\twidth,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/gallery',\n\t\twidget: 'media_gallery',\n\t\ttransform: ( { ids, link_type: linkTo, size, number } ) => {\n\t\t\treturn {\n\t\t\t\tids,\n\t\t\t\tcolumns: number,\n\t\t\t\tlinkTo,\n\t\t\t\tsizeSlug: size,\n\t\t\t\timages: ids.map( ( id ) => ( {\n\t\t\t\t\tid,\n\t\t\t\t} ) ),\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tblock: 'core/rss',\n\t\twidget: 'rss',\n\t\ttransform: ( {\n\t\t\turl,\n\t\t\tshow_author: displayAuthor,\n\t\t\tshow_date: displayDate,\n\t\t\tshow_summary: displayExcerpt,\n\t\t\titems,\n\t\t} ) => {\n\t\t\treturn {\n\t\t\t\tfeedURL: url,\n\t\t\t\tdisplayAuthor: !! displayAuthor,\n\t\t\t\tdisplayDate: !! displayDate,\n\t\t\t\tdisplayExcerpt: !! displayExcerpt,\n\t\t\t\titemsToShow: items,\n\t\t\t};\n\t\t},\n\t},\n].map( ( { block, widget, transform } ) => {\n\treturn {\n\t\ttype: 'block',\n\t\tblocks: [ block ],\n\t\tisMatch: ( { idBase, instance } ) => {\n\t\t\treturn idBase === widget && !! instance?.raw;\n\t\t},\n\t\ttransform: ( { instance } ) => {\n\t\t\tconst transformedBlock = createBlock(\n\t\t\t\tblock,\n\t\t\t\ttransform ? transform( instance.raw ) : undefined\n\t\t\t);\n\t\t\tif ( ! instance.raw?.title ) {\n\t\t\t\treturn transformedBlock;\n\t\t\t}\n\t\t\treturn [\n\t\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\t\tcontent: instance.raw.title,\n\t\t\t\t} ),\n\t\t\t\ttransformedBlock,\n\t\t\t];\n\t\t},\n\t};\n} );\n\nconst transforms = {\n\tto: legacyWidgetTransforms,\n};\n\nexport default transforms;\n","/**\n * WordPress dependencies\n */\nimport { widget as icon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport metadata from './block.json';\nimport edit from './edit';\nimport transforms from './transforms';\n\nconst { name } = metadata;\nexport { metadata, name };\n\nexport const settings = {\n\ticon,\n\tedit,\n\ttransforms,\n};\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst group = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z\" />\n\t</SVG>\n);\n\nexport default group;\n","/**\n * WordPress dependencies\n */\nimport {\n\tuseBlockProps,\n\tBlockIcon,\n\tButtonBlockAppender,\n\tInnerBlocks,\n\tstore as blockEditorStore,\n\tRichText,\n} from '@wordpress/block-editor';\nimport { Placeholder } from '@wordpress/components';\nimport { group as groupIcon } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\nexport default function Edit( props ) {\n\tconst { clientId } = props;\n\tconst { innerBlocks } = useSelect(\n\t\t( select ) => select( blockEditorStore ).getBlock( clientId ),\n\t\t[ clientId ]\n\t);\n\n\treturn (\n\t\t<div { ...useBlockProps( { className: 'widget' } ) }>\n\t\t\t{ innerBlocks.length === 0 ? (\n\t\t\t\t<PlaceholderContent { ...props } />\n\t\t\t) : (\n\t\t\t\t<PreviewContent { ...props } />\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction PlaceholderContent( { clientId } ) {\n\treturn (\n\t\t<>\n\t\t\t<Placeholder\n\t\t\t\tclassName=\"wp-block-widget-group__placeholder\"\n\t\t\t\ticon={ <BlockIcon icon={ groupIcon } /> }\n\t\t\t\tlabel={ __( 'Widget Group' ) }\n\t\t\t>\n\t\t\t\t<ButtonBlockAppender rootClientId={ clientId } />\n\t\t\t</Placeholder>\n\t\t\t<InnerBlocks renderAppender={ false } />\n\t\t</>\n\t);\n}\n\nfunction PreviewContent( { attributes, setAttributes } ) {\n\treturn (\n\t\t<>\n\t\t\t<RichText\n\t\t\t\ttagName=\"h2\"\n\t\t\t\tclassName=\"widget-title\"\n\t\t\t\tallowedFormats={ [] }\n\t\t\t\tplaceholder={ __( 'Title' ) }\n\t\t\t\tvalue={ attributes.title ?? '' }\n\t\t\t\tonChange={ ( title ) => setAttributes( { title } ) }\n\t\t\t/>\n\t\t\t<InnerBlocks />\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { InnerBlocks, RichText } from '@wordpress/block-editor';\n\nconst v1 = {\n\tattributes: {\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t},\n\t},\n\tsupports: {\n\t\thtml: false,\n\t\tinserter: true,\n\t\tcustomClassName: true,\n\t\treusable: false,\n\t},\n\tsave( { attributes } ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<RichText.Content\n\t\t\t\t\ttagName=\"h2\"\n\t\t\t\t\tclassName=\"widget-title\"\n\t\t\t\t\tvalue={ attributes.title }\n\t\t\t\t/>\n\t\t\t\t<InnerBlocks.Content />\n\t\t\t</>\n\t\t);\n\t},\n};\n\nexport default [ v1 ];\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { createBlock } from '@wordpress/blocks';\nimport { group as icon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport metadata from './block.json';\nimport edit from './edit';\nimport save from './save';\nimport deprecated from './deprecated';\n\nconst { name } = metadata;\nexport { metadata, name };\n\nexport const settings = {\n\ttitle: __( 'Widget Group' ),\n\tdescription: __(\n\t\t'Create a classic widget layout with a title thats styled by your theme for your widget areas.'\n\t),\n\ticon,\n\t__experimentalLabel: ( { name: label } ) => label,\n\tedit,\n\tsave,\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tisMultiBlock: true,\n\t\t\t\tblocks: [ '*' ],\n\t\t\t\tisMatch( attributes, blocks ) {\n\t\t\t\t\t// Avoid transforming existing `widget-group` blocks.\n\t\t\t\t\treturn ! blocks.some(\n\t\t\t\t\t\t( block ) => block.name === 'core/widget-group'\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\t__experimentalConvert( blocks ) {\n\t\t\t\t\t// Put the selected blocks inside the new Widget Group's innerBlocks.\n\t\t\t\t\tlet innerBlocks = [\n\t\t\t\t\t\t...blocks.map( ( block ) => {\n\t\t\t\t\t\t\treturn createBlock(\n\t\t\t\t\t\t\t\tblock.name,\n\t\t\t\t\t\t\t\tblock.attributes,\n\t\t\t\t\t\t\t\tblock.innerBlocks\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ),\n\t\t\t\t\t];\n\n\t\t\t\t\t// If the first block is a heading then assume this is intended\n\t\t\t\t\t// to be the Widget's \"title\".\n\t\t\t\t\tconst firstHeadingBlock =\n\t\t\t\t\t\tinnerBlocks[ 0 ].name === 'core/heading'\n\t\t\t\t\t\t\t? innerBlocks[ 0 ]\n\t\t\t\t\t\t\t: null;\n\n\t\t\t\t\t// Remove the first heading block as we're copying\n\t\t\t\t\t// it's content into the Widget Group's title attribute.\n\t\t\t\t\tinnerBlocks = innerBlocks.filter(\n\t\t\t\t\t\t( block ) => block !== firstHeadingBlock\n\t\t\t\t\t);\n\n\t\t\t\t\treturn createBlock(\n\t\t\t\t\t\t'core/widget-group',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...( firstHeadingBlock && {\n\t\t\t\t\t\t\t\ttitle: firstHeadingBlock.attributes.content,\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinnerBlocks\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\tdeprecated,\n};\n","/**\n * WordPress dependencies\n */\nimport { InnerBlocks, RichText } from '@wordpress/block-editor';\n\nexport default function save( { attributes } ) {\n\treturn (\n\t\t<>\n\t\t\t<RichText.Content\n\t\t\t\ttagName=\"h2\"\n\t\t\t\tclassName=\"widget-title\"\n\t\t\t\tvalue={ attributes.title }\n\t\t\t/>\n\t\t\t<div className=\"wp-widget-group__inner-blocks\">\n\t\t\t\t<InnerBlocks.Content />\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst moveTo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M19.75 9c0-1.257-.565-2.197-1.39-2.858-.797-.64-1.827-1.017-2.815-1.247-1.802-.42-3.703-.403-4.383-.396L11 4.5V6l.177-.001c.696-.006 2.416-.02 4.028.356.887.207 1.67.518 2.216.957.52.416.829.945.829 1.688 0 .592-.167.966-.407 1.23-.255.281-.656.508-1.236.674-1.19.34-2.82.346-4.607.346h-.077c-1.692 0-3.527 0-4.942.404-.732.209-1.424.545-1.935 1.108-.526.579-.796 1.33-.796 2.238 0 1.257.565 2.197 1.39 2.858.797.64 1.827 1.017 2.815 1.247 1.802.42 3.703.403 4.383.396L13 19.5h.714V22L18 18.5 13.714 15v3H13l-.177.001c-.696.006-2.416.02-4.028-.356-.887-.207-1.67-.518-2.216-.957-.52-.416-.829-.945-.829-1.688 0-.592.167-.966.407-1.23.255-.281.656-.508 1.237-.674 1.189-.34 2.819-.346 4.606-.346h.077c1.692 0 3.527 0 4.941-.404.732-.209 1.425-.545 1.936-1.108.526-.579.796-1.33.796-2.238z\" />\n\t</SVG>\n);\n\nexport default moveTo;\n","/**\n * WordPress dependencies\n */\nimport {\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItemsChoice,\n\tToolbarGroup,\n\tToolbarItem,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { moveTo } from '@wordpress/icons';\n\nexport default function MoveToWidgetArea( {\n\tcurrentWidgetAreaId,\n\twidgetAreas,\n\tonSelect,\n} ) {\n\treturn (\n\t\t<ToolbarGroup>\n\t\t\t<ToolbarItem>\n\t\t\t\t{ ( toggleProps ) => (\n\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\ticon={ moveTo }\n\t\t\t\t\t\tlabel={ __( 'Move to widget area' ) }\n\t\t\t\t\t\ttoggleProps={ toggleProps }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t\t\t<MenuGroup label={ __( 'Move to' ) }>\n\t\t\t\t\t\t\t\t<MenuItemsChoice\n\t\t\t\t\t\t\t\t\tchoices={ widgetAreas.map(\n\t\t\t\t\t\t\t\t\t\t( widgetArea ) => ( {\n\t\t\t\t\t\t\t\t\t\t\tvalue: widgetArea.id,\n\t\t\t\t\t\t\t\t\t\t\tlabel: widgetArea.name,\n\t\t\t\t\t\t\t\t\t\t\tinfo: widgetArea.description,\n\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tvalue={ currentWidgetAreaId }\n\t\t\t\t\t\t\t\t\tonSelect={ ( value ) => {\n\t\t\t\t\t\t\t\t\t\tonSelect( value );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</DropdownMenu>\n\t\t\t\t) }\n\t\t\t</ToolbarItem>\n\t\t</ToolbarGroup>\n\t);\n}\n","// @ts-check\n\n/**\n * Get the internal widget id from block.\n *\n * @typedef  {Object} Attributes\n * @property {string}     __internalWidgetId The internal widget id.\n * @typedef  {Object} Block\n * @property {Attributes} attributes         The attributes of the block.\n *\n * @param    {Block}      block              The block.\n * @return {string} The internal widget id.\n */\nexport function getWidgetIdFromBlock( block ) {\n\treturn block.attributes.__internalWidgetId;\n}\n\n/**\n * Add internal widget id to block's attributes.\n *\n * @param {Block}  block    The block.\n * @param {string} widgetId The widget id.\n * @return {Block} The updated block.\n */\nexport function addWidgetIdToBlock( block, widgetId ) {\n\treturn {\n\t\t...block,\n\t\tattributes: {\n\t\t\t...( block.attributes || {} ),\n\t\t\t__internalWidgetId: widgetId,\n\t\t},\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { subscribe, select, dispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as blocksStore } from '@wordpress/blocks';\n\nexport default function registerLegacyWidgetVariations( settings ) {\n\tconst unsubscribe = subscribe( () => {\n\t\tconst hiddenIds =\n\t\t\tsettings?.widgetTypesToHideFromLegacyWidgetBlock ?? [];\n\t\tconst widgetTypes = select( coreStore )\n\t\t\t.getWidgetTypes( { per_page: -1 } )\n\t\t\t?.filter( ( widgetType ) => ! hiddenIds.includes( widgetType.id ) );\n\t\tif ( widgetTypes ) {\n\t\t\tunsubscribe();\n\t\t\tdispatch( blocksStore ).addBlockVariations(\n\t\t\t\t'core/legacy-widget',\n\t\t\t\twidgetTypes.map( ( widgetType ) => ( {\n\t\t\t\t\tname: widgetType.id,\n\t\t\t\t\ttitle: widgetType.name,\n\t\t\t\t\tdescription: widgetType.description,\n\t\t\t\t\tattributes: widgetType.is_multi\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tidBase: widgetType.id,\n\t\t\t\t\t\t\t\tinstance: {},\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\tid: widgetType.id,\n\t\t\t\t\t\t  },\n\t\t\t\t} ) )\n\t\t\t);\n\t\t}\n\t} );\n}\n","/**\n * WordPress dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport * as legacyWidget from './blocks/legacy-widget';\nimport * as widgetGroup from './blocks/widget-group';\n\nexport * from './components';\nexport * from './utils';\n\n/**\n * Registers the Legacy Widget block.\n *\n * Note that for the block to be useful, any scripts required by a widget must\n * be loaded into the page.\n *\n * @see https://developer.wordpress.org/block-editor/how-to-guides/widgets/legacy-widget-block/\n */\nexport function registerLegacyWidgetBlock() {\n\tconst { metadata, settings, name } = legacyWidget;\n\tregisterBlockType( { name, ...metadata }, settings );\n}\n\n/**\n * Registers the Widget Group block.\n */\nexport function registerWidgetGroupBlock() {\n\tconst { metadata, settings, name } = widgetGroup;\n\tregisterBlockType( { name, ...metadata }, settings );\n}\n\nexport { default as registerLegacyWidgetVariations } from './register-legacy-widget-variations';\n"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","module","exports","default","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","obj","prop","r","Symbol","toStringTag","value","window","SVG","xmlns","viewBox","Path","WidgetTypeSelector","selectedId","onSelect","widgetTypes","useSelect","select","hiddenIds","blockEditorStore","getSettings","widgetTypesToHideFromLegacyWidgetBlock","coreStore","getWidgetTypes","per_page","filter","widgetType","includes","id","__","SelectControl","label","options","map","name","onChange","selected","find","isMulti","is_multi","Spinner","InspectorCard","description","className","Control","constructor","idBase","instance","onChangeInstance","onChangeHasPreview","onError","this","_instance","_hasPreview","number","lastNumber","handleFormChange","debounce","bind","handleFormSubmit","initDOM","bindEvents","loadContent","destroy","unbindEvents","element","remove","el","class","form","method","type","content","jQuery","$","on","addEventListener","off","removeEventListener","saveWidget","innerHTML","preview","encodeWidget","hasPreview","isEmptyHTML","hash","formData","serializeForm","document","trigger","error","saveForm","event","preventDefault","tagName","attributes","createElement","attribute","entries","setAttribute","child","appendChild","innerText","async","widget","apiFetch","path","data","form_data","rendered_form","response","html","isEmptyNode","node","nodeType","TEXT_NODE","nodeValue","trim","ELEMENT_NODE","hasChildNodes","from","childNodes","every","URLSearchParams","FormData","Form","title","isVisible","isWide","ref","useRef","isMediumLargeViewport","useViewportMatch","outgoingInstances","Set","incomingInstances","createNotice","useDispatch","noticesStore","useEffect","current","has","delete","control","nextInstance","add","console","sprintf","classnames","Popover","focusOnMount","position","__unstableForceXAlignment","hidden","Preview","isLoaded","setIsLoaded","useState","srcDoc","setSrcDoc","abortController","AbortController","restRoute","signal","fetchPreviewHTML","then","catch","abort","useRefEffect","iframe","setHeight","height","Math","max","contentDocument","documentElement","offsetHeight","body","style","IntersectionObserver","ownerDocument","defaultView","intersectionObserver","entry","isIntersecting","threshold","observe","disconnect","Placeholder","Disabled","tabIndex","onLoad","target","overflow","NoPreview","ConvertToBlocksButton","clientId","rawInstance","replaceBlocks","ToolbarButton","onClick","createBlock","rawHandler","HTML","text","Empty","setAttributes","icon","BlockIcon","brushIcon","NotEmpty","isSelected","setHasPreview","widgetTypeId","record","hasResolved","hasResolvedWidgetType","useEntityRecord","isNavigationMode","setInstance","useCallback","mode","BlockControls","group","raw","InspectorControls","to","block","transform","count","dropdown","displayAsDropdown","showPostCounts","show_date","displayPostDate","postsToShow","commentsToShow","taxonomy","showTagCounts","hierarchical","showHierarchy","url","preload","loop","attachment_id","src","alt","caption","link_classes","linkClass","link_rel","rel","link_target_blank","targetBlack","link_type","linkDestination","link_url","link","size","sizeSlug","width","linkTarget","ids","linkTo","columns","images","show_author","displayAuthor","displayDate","show_summary","displayExcerpt","items","feedURL","itemsToShow","blocks","isMatch","transformedBlock","metadata","settings","edit","props","blockProps","useBlockProps","transforms","PlaceholderContent","groupIcon","ButtonBlockAppender","rootClientId","InnerBlocks","renderAppender","PreviewContent","RichText","allowedFormats","placeholder","supports","inserter","customClassName","reusable","save","__experimentalLabel","innerBlocks","getBlock","isMultiBlock","some","__experimentalConvert","firstHeadingBlock","deprecated","MoveToWidgetArea","currentWidgetAreaId","widgetAreas","ToolbarGroup","ToolbarItem","toggleProps","DropdownMenu","moveTo","onClose","MenuGroup","MenuItemsChoice","choices","widgetArea","info","getWidgetIdFromBlock","__internalWidgetId","addWidgetIdToBlock","widgetId","registerLegacyWidgetVariations","unsubscribe","subscribe","dispatch","blocksStore","addBlockVariations","registerLegacyWidgetBlock","legacyWidget","registerBlockType","registerWidgetGroupBlock","widgetGroup"],"sourceRoot":""}