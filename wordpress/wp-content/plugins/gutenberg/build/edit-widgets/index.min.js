!function(){var e={4184:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};!function(){"use strict";r.r(n),r.d(n,{initialize:function(){return Zt},reinitializeEditor:function(){return Xt}});var e={};r.r(e),r.d(e,{disableComplementaryArea:function(){return R},enableComplementaryArea:function(){return W},pinItem:function(){return L},setFeatureDefaults:function(){return O},setFeatureValue:function(){return F},toggleFeature:function(){return M},unpinItem:function(){return D}});var t={};r.r(t),r.d(t,{getActiveComplementaryArea:function(){return G},isFeatureActive:function(){return z},isItemPinned:function(){return V}});var i={};r.r(i),r.d(i,{closeGeneralSidebar:function(){return Re},moveBlockToWidgetArea:function(){return Pe},persistStubPost:function(){return Ie},saveEditedWidgetAreas:function(){return Ae},saveWidgetArea:function(){return Be},saveWidgetAreas:function(){return Ne},setIsInserterOpened:function(){return We},setIsWidgetAreaOpen:function(){return Te},setWidgetAreasOpenState:function(){return xe},setWidgetIdForClientId:function(){return Ce}});var o={};r.r(o),r.d(o,{getWidgetAreas:function(){return Le},getWidgets:function(){return De}});var a={};r.r(a),r.d(a,{__experimentalGetInsertionPoint:function(){return Ke},canInsertBlockInWidgetArea:function(){return Ye},getEditedWidgetAreas:function(){return Ue},getIsWidgetAreaOpen:function(){return $e},getParentWidgetAreaBlock:function(){return ze},getReferenceWidgetBlocks:function(){return He},getWidget:function(){return Oe},getWidgetAreaForWidgetId:function(){return Ve},getWidgetAreas:function(){return Ge},getWidgets:function(){return Fe},isInserterOpened:function(){return qe},isSavingWidgetAreas:function(){return je}});var s={};r.r(s),r.d(s,{metadata:function(){return nt},name:function(){return it},settings:function(){return ot}});var c=window.wp.element,l=window.wp.blocks,d=window.wp.blockLibrary,u=window.wp.coreData,m=window.wp.widgets,g=window.wp.data;function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var _=r(4184),E=r.n(_),f=window.wp.components,h=window.wp.i18n,w=window.wp.primitives,b=(0,c.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(w.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),y=(0,c.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(w.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),v=(0,c.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(w.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),k=window.wp.viewport,S=(0,c.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(w.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),I=window.lodash;const A=(0,I.flow)([g.combineReducers])({features(e={},t){if("SET_FEATURE_DEFAULTS"===t.type){const{scope:r,defaults:n}=t;return{...e,[r]:{...e[r],...n}}}return e}}),N=(0,I.flow)([g.combineReducers])({features(e={},t){if("SET_FEATURE_VALUE"===t.type){const{scope:r,featureName:n,value:i}=t;return{...e,[r]:{...e[r],[n]:i}}}return e}}),B=(0,g.combineReducers)({singleEnableItems:function(e={},{type:t,itemType:r,scope:n,item:i}){return"SET_SINGLE_ENABLE_ITEM"===t&&r&&n?{...e,[r]:{...e[r],[n]:i||null}}:e},multipleEnableItems:function(e={},{type:t,itemType:r,scope:n,item:i,isEnable:o}){if("SET_MULTIPLE_ENABLE_ITEM"!==t||!r||!n||!i||(0,I.get)(e,[r,n,i])===o)return e;const a=e[r]||{},s=a[n]||{};return{...e,[r]:{...a,[n]:{...s,[i]:o||!1}}}}});var C=(0,g.combineReducers)({enableItems:B,preferenceDefaults:A,preferences:N});const x="core/interface";function T(e,t,r){return{type:"SET_SINGLE_ENABLE_ITEM",itemType:e,scope:t,item:r}}function W(e,t){return T("complementaryArea",e,t)}function R(e){return T("complementaryArea",e,void 0)}function P(e,t,r,n){return{type:"SET_MULTIPLE_ENABLE_ITEM",itemType:e,scope:t,item:r,isEnable:n}}function L(e,t){return P("pinnedItems",e,t,!0)}function D(e,t){return P("pinnedItems",e,t,!1)}function*M(e,t){const r=yield g.controls.select(x,"isFeatureActive",e,t);yield g.controls.dispatch(x,"setFeatureValue",e,t,!r)}function F(e,t,r){return{type:"SET_FEATURE_VALUE",scope:e,featureName:t,value:!!r}}function O(e,t){return{type:"SET_FEATURE_DEFAULTS",scope:e,defaults:t}}function G(e,t){return function(e,t,r){return(0,I.get)(e.enableItems.singleEnableItems,["complementaryArea",r])}(e,0,t)}function V(e,t,r){return!1!==function(e,t,r,n){return(0,I.get)(e.enableItems.multipleEnableItems,["pinnedItems",r,n])}(e,0,t,r)}function z(e,t,r){var n,i;const o=null===(n=e.preferences.features[t])||void 0===n?void 0:n[r];return!!(void 0!==o?o:null===(i=e.preferenceDefaults.features[t])||void 0===i?void 0:i[r])}const U=(0,g.createReduxStore)(x,{reducer:C,actions:e,selectors:t,persist:["enableItems","preferences"]});(0,g.registerStore)(x,{reducer:C,actions:e,selectors:t,persist:["enableItems","preferences"]});var H=window.wp.plugins,j=(0,H.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`}))),$=j((function({as:e=f.Button,scope:t,identifier:r,icon:n,selectedIcon:i,...o}){const a=e,s=(0,g.useSelect)((e=>e(U).getActiveComplementaryArea(t)===r),[r]),{enableComplementaryArea:l,disableComplementaryArea:d}=(0,g.useDispatch)(U);return(0,c.createElement)(a,p({icon:i&&s?i:n,onClick:()=>{s?d(t):l(t,r)}},(0,I.omit)(o,["name"])))})),q=({smallScreenTitle:e,children:t,className:r,toggleButtonProps:n})=>{const i=(0,c.createElement)($,p({icon:S},n));return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},e&&(0,c.createElement)("span",{className:"interface-complementary-area-header__small-title"},e),i),(0,c.createElement)("div",{className:E()("components-panel__header","interface-complementary-area-header",r),tabIndex:-1},t,i))};function K({name:e,as:t=f.Button,onClick:r,...n}){return(0,c.createElement)(f.Fill,{name:e},(({onClick:e})=>(0,c.createElement)(t,p({onClick:r||e?(...t)=>{(r||I.noop)(...t),(e||I.noop)(...t)}:void 0},n))))}K.Slot=function({name:e,as:t=f.ButtonGroup,fillProps:r={},bubblesVirtually:n,...i}){return(0,c.createElement)(f.Slot,{name:e,bubblesVirtually:n,fillProps:r},(e=>{if((0,I.isEmpty)(c.Children.toArray(e)))return null;const r=[];c.Children.forEach(e,(({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&r.push(t)}));const n=c.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&r.includes(e.props.__unstableTarget)?null:e));return(0,c.createElement)(t,i,n)}))};var Y=K;const Q=e=>(0,c.createElement)(f.MenuItem,(0,I.omit)(e,["__unstableExplicitMenuItem","__unstableTarget"]));function J({scope:e,target:t,__unstableExplicitMenuItem:r,...n}){return(0,c.createElement)($,p({as:n=>(0,c.createElement)(Y,p({__unstableExplicitMenuItem:r,__unstableTarget:`${e}/${t}`,as:Q,name:`${e}/plugin-more-menu`},n)),role:"menuitemcheckbox",selectedIcon:b,name:t,scope:e},n))}function X({scope:e,...t}){return(0,c.createElement)(f.Fill,p({name:`PinnedItems/${e}`},t))}X.Slot=function({scope:e,className:t,...r}){return(0,c.createElement)(f.Slot,p({name:`PinnedItems/${e}`},r),(e=>!(0,I.isEmpty)(e)&&(0,c.createElement)("div",{className:E()(t,"interface-pinned-items")},e)))};var Z=X;function ee({scope:e,children:t,className:r}){return(0,c.createElement)(f.Fill,{name:`ComplementaryArea/${e}`},(0,c.createElement)("div",{className:r},t))}const te=j((function({children:e,className:t,closeLabel:r=(0,h.__)("Close plugin"),identifier:n,header:i,headerClassName:o,icon:a,isPinnable:s=!0,panelClassName:l,scope:d,name:u,smallScreenTitle:m,title:p,toggleShortcut:_,isActiveByDefault:w,showIconLabels:S=!1}){const{isActive:I,isPinned:A,activeArea:N,isSmall:B,isLarge:C}=(0,g.useSelect)((e=>{const{getActiveComplementaryArea:t,isItemPinned:r}=e(U),i=t(d);return{isActive:i===n,isPinned:r(d,n),activeArea:i,isSmall:e(k.store).isViewportMatch("< medium"),isLarge:e(k.store).isViewportMatch("large")}}),[n,d]);!function(e,t,r,n,i){const o=(0,c.useRef)(!1),a=(0,c.useRef)(!1),{enableComplementaryArea:s,disableComplementaryArea:l}=(0,g.useDispatch)(U);(0,c.useEffect)((()=>{n&&i&&!o.current?(l(e),a.current=!0):a.current&&!i&&o.current?(a.current=!1,s(e,t)):a.current&&r&&r!==t&&(a.current=!1),i!==o.current&&(o.current=i)}),[n,i,e,t,r])}(d,n,N,I,B);const{enableComplementaryArea:x,disableComplementaryArea:T,pinItem:W,unpinItem:R}=(0,g.useDispatch)(U);return(0,c.useEffect)((()=>{w&&void 0===N&&!B&&x(d,n)}),[N,w,d,n,B]),(0,c.createElement)(c.Fragment,null,s&&(0,c.createElement)(Z,{scope:d},A&&(0,c.createElement)($,{scope:d,identifier:n,isPressed:I&&(!S||C),"aria-expanded":I,label:p,icon:S?b:a,showTooltip:!S,variant:S?"tertiary":void 0})),u&&s&&(0,c.createElement)(J,{target:u,scope:d,icon:a},p),I&&(0,c.createElement)(ee,{className:E()("interface-complementary-area",t),scope:d},(0,c.createElement)(q,{className:o,closeLabel:r,onClose:()=>T(d),smallScreenTitle:m,toggleButtonProps:{label:r,shortcut:_,scope:d,identifier:n}},i||(0,c.createElement)(c.Fragment,null,(0,c.createElement)("strong",null,p),s&&(0,c.createElement)(f.Button,{className:"interface-complementary-area__pin-unpin-item",icon:A?y:v,label:A?(0,h.__)("Unpin from toolbar"):(0,h.__)("Pin to toolbar"),onClick:()=>(A?R:W)(d,n),isPressed:A,"aria-expanded":A}))),(0,c.createElement)(f.Panel,{className:l},e)))}));te.Slot=function({scope:e,...t}){return(0,c.createElement)(f.Slot,p({name:`ComplementaryArea/${e}`},t))};var re=te,ne=window.wp.compose,ie=(0,c.forwardRef)((function({footer:e,header:t,sidebar:r,secondarySidebar:n,notices:i,content:o,drawer:a,actions:s,labels:l,className:d,shortcuts:u},m){const g=(0,f.__unstableUseNavigateRegions)(u);!function(e){(0,c.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const _={
/* translators: accessibility text for the nav bar landmark region. */
drawer:(0,h.__)("Drawer"),
/* translators: accessibility text for the top bar landmark region. */
header:(0,h.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:(0,h.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,h.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,h.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,h.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,h.__)("Footer"),...l};return(0,c.createElement)("div",p({},g,{ref:(0,ne.useMergeRefs)([m,g.ref]),className:E()(d,"interface-interface-skeleton",g.className,!!e&&"has-footer")}),!!a&&(0,c.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":_.drawer},a),(0,c.createElement)("div",{className:"interface-interface-skeleton__editor"},!!t&&(0,c.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":_.header,tabIndex:"-1"},t),(0,c.createElement)("div",{className:"interface-interface-skeleton__body"},!!n&&(0,c.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":_.secondarySidebar,tabIndex:"-1"},n),!!i&&(0,c.createElement)("div",{className:"interface-interface-skeleton__notices"},i),(0,c.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":_.body,tabIndex:"-1"},o),!!r&&(0,c.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":_.sidebar,tabIndex:"-1"},r),!!s&&(0,c.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":_.actions,tabIndex:"-1"},s))),!!e&&(0,c.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":_.footer,tabIndex:"-1"},e))})),oe=(0,c.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(w.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function ae({as:e=f.DropdownMenu,className:t,label:
/* translators: button label text should, if possible, be under 16 characters. */
r=(0,h.__)("Options"),popoverProps:n,toggleProps:i,children:o}){return(0,c.createElement)(e,{className:E()("interface-more-menu-dropdown",t),icon:oe,label:r,popoverProps:{position:"bottom left",...n,className:E()("interface-more-menu-dropdown__content",null==n?void 0:n.className)},toggleProps:{tooltipPosition:"bottom",...i}},(e=>o(e)))}var se=window.wp.a11y;function ce({scope:e,label:t,info:r,messageActivated:n,messageDeactivated:i,shortcut:o,feature:a}){const s=(0,g.useSelect)((t=>t(U).isFeatureActive(e,a)),[a]),{toggleFeature:l}=(0,g.useDispatch)(U);return(0,c.createElement)(f.MenuItem,{icon:s&&b,isSelected:s,onClick:()=>{l(e,a),s?(0,se.speak)(i||(0,h.__)("Feature deactivated")):(0,se.speak)(n||(0,h.__)("Feature activated"))},role:"menuitemcheckbox",info:r,shortcut:o},t)}var le=window.wp.apiFetch,de=r.n(le),ue=(0,g.combineReducers)({blockInserterPanel:function(e=!1,t){switch(t.type){case"SET_IS_INSERTER_OPENED":return t.value}return e},widgetAreasOpenState:function(e={},t){const{type:r}=t;switch(r){case"SET_WIDGET_AREAS_OPEN_STATE":return t.widgetAreasOpenState;case"SET_IS_WIDGET_AREA_OPEN":{const{clientId:r,isOpen:n}=t;return{...e,[r]:n}}default:return e}}});const me="root",ge="sidebar",pe="postType",_e=e=>`widget-area-${e}`,Ee="core/edit-widgets";function fe(e,t,...r){return{type:"SELECT",registryName:e,selectorName:t,args:r}}function he(e,t,...r){return{type:"DISPATCH",registryName:e,actionName:t,args:r}}const we={AWAIT_PROMISE:({promise:e})=>e,SELECT:(0,g.createRegistryControl)((e=>({registryName:t,selectorName:r,args:n})=>e.select(t)[r](...n))),GET_PENDING_ACTIONS:(0,g.createRegistryControl)((e=>({postId:t})=>{var r;return(null===(r=be(e).processingQueue[t])||void 0===r?void 0:r.pendingActions)||[]})),IS_PROCESSING_POST:(0,g.createRegistryControl)((e=>({postId:t})=>{var r;return null===(r=be(e).processingQueue[t])||void 0===r?void 0:r.inProgress})),DISPATCH:(0,g.createRegistryControl)((e=>({registryName:t,actionName:r,args:n})=>e.dispatch(t)[r](...n))),RESOLVE_WIDGET_AREAS:(0,g.createRegistryControl)((e=>({query:t})=>e.resolveSelect("core").getEntityRecords(me,ge,t))),RESOLVE_WIDGETS:(0,g.createRegistryControl)((e=>({query:t})=>e.resolveSelect("core").getEntityRecords("root","widget",t)))},be=e=>e.stores["core/edit-widgets"].store.getState();var ye=we,ve=window.wp.notices;function ke(e){if("block"===e.id_base){const t=(0,l.parse)(e.instance.raw.content);return t.length?(0,m.addWidgetIdToBlock)(t[0],e.id):(0,m.addWidgetIdToBlock)((0,l.createBlock)("core/paragraph",{},[]),e.id)}let t;return t=e._embedded.about[0].is_multi?{idBase:e.id_base,instance:e.instance}:{id:e.id},(0,m.addWidgetIdToBlock)((0,l.createBlock)("core/legacy-widget",t,[]),e.id)}function Se(e,t={}){let r;var n,i,o;return r="core/legacy-widget"===e.name&&(e.attributes.id||e.attributes.instance)?{...t,id:null!==(n=e.attributes.id)&&void 0!==n?n:t.id,id_base:null!==(i=e.attributes.idBase)&&void 0!==i?i:t.id_base,instance:null!==(o=e.attributes.instance)&&void 0!==o?o:t.instance}:{...t,id_base:"block",instance:{raw:{content:(0,l.serialize)(e)}}},delete r.rendered,delete r.rendered_form,r}const Ie=function*(e,t){const r=((e,t)=>({id:e,slug:e,status:"draft",type:"page",blocks:t,meta:{widgetAreaId:e}}))(e,t);return yield he("core","receiveEntityRecords",me,pe,r,{id:r.id},!1),r};function*Ae(){const e=yield fe(Ee,"getEditedWidgetAreas");if(null!=e&&e.length)try{yield*Ne(e),yield he(ve.store,"createSuccessNotice",(0,h.__)("Widgets saved."),{type:"snackbar"})}catch(e){yield he(ve.store,"createErrorNotice",
/* translators: %s: The error message. */
(0,h.sprintf)((0,h.__)("There was an error. %s"),e.message),{type:"snackbar"})}}function*Ne(e){try{for(const t of e)yield*Be(t.id)}finally{yield he("core","finishResolution","getEntityRecord",me,ge,{per_page:-1})}}function*Be(e){const t=yield fe(Ee,"getWidgets"),r=yield fe("core","getEditedEntityRecord",me,pe,_e(e)),n=Object.values(t).filter((({sidebar:t})=>t===e)),i=[],o=r.blocks.filter((e=>{const{id:t}=e.attributes;if("core/legacy-widget"===e.name&&t){if(i.includes(t))return!1;i.push(t)}return!0})),a=[];for(const e of n)(yield fe(Ee,"getWidgetAreaForWidgetId",e.id))||a.push(e);const s=[],c=[],l=[];for(let r=0;r<o.length;r++){const n=o[r],i=(0,m.getWidgetIdFromBlock)(n),a=t[i],d=Se(n,a);if(l.push(i),a){if(yield he("core","editEntityRecord","root","widget",i,{...d,sidebar:e},{undoIgnore:!0}),!(yield fe("core","hasEditsForEntityRecord","root","widget",i)))continue;c.push((({saveEditedEntityRecord:e})=>e("root","widget",i)))}else c.push((({saveEntityRecord:t})=>t("root","widget",{...d,sidebar:e})));s.push({block:n,position:r,clientId:n.clientId})}for(const e of a)c.push((({deleteEntityRecord:t})=>t("root","widget",e.id,{force:!0})));const d=(yield he("core","__experimentalBatch",c)).filter((e=>!e.hasOwnProperty("deleted"))),u=[];for(let e=0;e<d.length;e++){const t=d[e],{block:n,position:i}=s[e];var g;r.blocks[i].attributes.__internalWidgetId=t.id,(yield fe("core","getLastEntitySaveError","root","widget",t.id))&&u.push((null===(g=n.attributes)||void 0===g?void 0:g.name)||(null==n?void 0:n.name)),l[i]||(l[i]=t.id)}if(u.length)throw new Error((0,h.sprintf)(
/* translators: %s: List of widget names */
(0,h.__)("Could not save the following widgets: %s."),u.join(", ")));yield he("core","editEntityRecord",me,ge,e,{widgets:l},{undoIgnore:!0}),yield*function*(e){const t=yield fe("core","getLastEntitySaveError",me,ge,e);yield he("core","saveEditedEntityRecord",me,ge,e);const r=yield fe("core","getLastEntitySaveError",me,ge,e);if(r&&t!==r)throw new Error(r)}(e),yield he("core","receiveEntityRecords",me,pe,r,void 0)}function Ce(e,t){return{type:"SET_WIDGET_ID_FOR_CLIENT_ID",clientId:e,widgetId:t}}function xe(e){return{type:"SET_WIDGET_AREAS_OPEN_STATE",widgetAreasOpenState:e}}function Te(e,t){return{type:"SET_IS_WIDGET_AREA_OPEN",clientId:e,isOpen:t}}function We(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function*Re(){yield he(U,"disableComplementaryArea",Ee)}function*Pe(e,t){const r=yield fe("core/block-editor","getBlockRootClientId",[e]),n=(yield fe("core/block-editor","getBlocks")).find((({attributes:e})=>e.id===t)).clientId,i=(yield fe("core/block-editor","getBlockOrder",n)).length;(yield fe(Ee,"getIsWidgetAreaOpen",n))||(yield he(Ee,"setIsWidgetAreaOpen",n,!0)),yield he("core/block-editor","moveBlocksToPosition",[e],r,n,i)}function*Le(){const e={per_page:-1};yield function(e={per_page:-1}){return{type:"RESOLVE_WIDGET_AREAS",query:e}}(e);const t=[],r=(yield fe("core","getEntityRecords",me,ge,e)).sort(((e,t)=>"wp_inactive_widgets"===e.id?1:"wp_inactive_widgets"===t.id?-1:0));for(const e of r)t.push((0,l.createBlock)("core/widget-area",{id:e.id,name:e.name})),e.widgets.length||(yield Ie(_e(e.id),[]));const n={};t.forEach(((e,t)=>{n[e.clientId]=0===t})),yield xe(n),yield Ie("widget-areas",t)}function*De(){const e={per_page:-1,_embed:"about"};yield function(e={per_page:-1,_embed:"about"}){return{type:"RESOLVE_WIDGETS",query:e}}(e);const t=yield fe("core","getEntityRecords","root","widget",e),r={};for(const e of t){const t=ke(e);r[e.sidebar]=r[e.sidebar]||[],r[e.sidebar].push(t)}for(const e in r)r.hasOwnProperty(e)&&(yield Ie(_e(e),r[e]))}var Me=window.wp.blockEditor;const Fe=(0,g.createRegistrySelector)((e=>()=>{const t=e(u.store).getEntityRecords("root","widget",{per_page:-1,_embed:"about"});return(0,I.keyBy)(t,"id")})),Oe=(0,g.createRegistrySelector)((e=>(t,r)=>e(Ee).getWidgets()[r])),Ge=(0,g.createRegistrySelector)((e=>()=>e(u.store).getEntityRecords(me,ge,{per_page:-1}))),Ve=(0,g.createRegistrySelector)((e=>(t,r)=>e(Ee).getWidgetAreas().find((t=>e(u.store).getEditedEntityRecord(me,pe,_e(t.id)).blocks.map((e=>(0,m.getWidgetIdFromBlock)(e))).includes(r))))),ze=(0,g.createRegistrySelector)((e=>(t,r)=>{const{getBlock:n,getBlockName:i,getBlockParents:o}=e(Me.store);return n(o(r).find((e=>"core/widget-area"===i(e))))})),Ue=(0,g.createRegistrySelector)((e=>(t,r)=>{let n=e(Ee).getWidgetAreas();return n?(r&&(n=n.filter((({id:e})=>r.includes(e)))),n.filter((({id:t})=>e(u.store).hasEditsForEntityRecord(me,pe,_e(t)))).map((({id:t})=>e(u.store).getEditedEntityRecord(me,ge,t)))):[]})),He=(0,g.createRegistrySelector)((e=>(t,r=null)=>{const n=[],i=e(Ee).getWidgetAreas();for(const t of i){const i=e(u.store).getEditedEntityRecord(me,pe,_e(t.id));for(const e of i.blocks){var o;"core/legacy-widget"!==e.name||r&&(null===(o=e.attributes)||void 0===o?void 0:o.referenceWidgetName)!==r||n.push(e)}}return n})),je=(0,g.createRegistrySelector)((e=>()=>{var t;const r=null===(t=e(Ee).getWidgetAreas())||void 0===t?void 0:t.map((({id:e})=>e));if(!r)return!1;for(const t of r)if(e(u.store).isSavingEntityRecord(me,ge,t))return!0;const n=[...Object.keys(e(Ee).getWidgets()),void 0];for(const t of n)if(e(u.store).isSavingEntityRecord("root","widget",t))return!0;return!1})),$e=(e,t)=>{const{widgetAreasOpenState:r}=e;return!!r[t]};function qe(e){return!!e.blockInserterPanel}function Ke(e){const{rootClientId:t,insertionIndex:r}=e.blockInserterPanel;return{rootClientId:t,insertionIndex:r}}const Ye=(0,g.createRegistrySelector)((e=>(t,r)=>{const n=e(Me.store).getBlocks(),[i]=n;return e(Me.store).canInsertBlockType(r,i.clientId)})),Qe={reducer:ue,controls:ye,selectors:a,resolvers:o,actions:i},Je=(0,g.createReduxStore)(Ee,Qe);(0,g.registerStore)(Ee,Qe),de().use((function(e,t){var r;return 0===(null===(r=e.path)||void 0===r?void 0:r.indexOf("/wp/v2/types/widget-area"))?Promise.resolve({}):t(e)}));var Xe=window.wp.hooks;const Ze=(0,ne.createHigherOrderComponent)((e=>t=>{const{clientId:r,name:n}=t,{widgetAreas:i,currentWidgetAreaId:o,canInsertBlockInWidgetArea:a}=(0,g.useSelect)((e=>{var t;if("core/widget-area"===n)return{};const i=e(Je),o=i.getParentWidgetAreaBlock(r);return{widgetAreas:i.getWidgetAreas(),currentWidgetAreaId:null==o||null===(t=o.attributes)||void 0===t?void 0:t.id,canInsertBlockInWidgetArea:i.canInsertBlockInWidgetArea(n)}}),[r,n]),{moveBlockToWidgetArea:s}=(0,g.useDispatch)(Je),l=(null==i?void 0:i.length)>1,d="core/widget-area"!==n&&l&&a;return(0,c.createElement)(c.Fragment,null,(0,c.createElement)(e,t),d&&(0,c.createElement)(Me.BlockControls,null,(0,c.createElement)(m.MoveToWidgetArea,{widgetAreas:i,currentWidgetAreaId:o,onSelect:e=>{s(t.clientId,e)}})))}),"withMoveToWidgetAreaToolbarItem");(0,Xe.addFilter)("editor.BlockEdit","core/edit-widgets/block-edit",Ze);var et=window.wp.mediaUtils;(0,Xe.addFilter)("editor.MediaUpload","core/edit-widgets/replace-media-upload",(()=>et.MediaUpload));var tt=e=>{const[t,r]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{const{ownerDocument:t}=e.current;function n(e){o(e)}function i(){r(!1)}function o(t){e.current.contains(t.target)?r(!0):r(!1)}return t.addEventListener("dragstart",n),t.addEventListener("dragend",i),t.addEventListener("dragenter",o),()=>{t.removeEventListener("dragstart",n),t.removeEventListener("dragend",i),t.removeEventListener("dragenter",o)}}),[]),t};function rt({id:e}){const[t,r,n]=(0,u.useEntityBlockEditor)("root","postType"),i=(0,c.useRef)(),o=tt(i),a=(0,Me.__experimentalUseInnerBlocksProps)({ref:i},{value:t,onInput:r,onChange:n,templateLock:!1,renderAppender:Me.InnerBlocks.ButtonBlockAppender});return(0,c.createElement)("div",{"data-widget-area-id":e,className:E()("wp-block-widget-area__inner-blocks block-editor-inner-blocks editor-styles-wrapper",{"wp-block-widget-area__highlight-drop-zone":o})},(0,c.createElement)("div",a))}const nt={name:"core/widget-area",category:"widgets",attributes:{id:{type:"string"},name:{type:"string"}},supports:{html:!1,inserter:!1,customClassName:!1,reusable:!1,__experimentalToolbar:!1,__experimentalParentSelector:!1},editorStyle:"wp-block-widget-area-editor",style:"wp-block-widget-area"},{name:it}=nt,ot={title:(0,h.__)("Widget Area"),description:(0,h.__)("A widget area container."),__experimentalLabel:({name:e})=>e,edit:function({clientId:e,className:t,attributes:{id:r,name:n}}){const i=(0,g.useSelect)((t=>t(Je).getIsWidgetAreaOpen(e)),[e]),{setIsWidgetAreaOpen:o}=(0,g.useDispatch)(Je),a=(0,c.useRef)(),s=(0,c.useCallback)((t=>o(e,t)),[e]),l=(e=>{const[t,r]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{const{ownerDocument:t}=e.current;function n(){r(!0)}function i(){r(!1)}return t.addEventListener("dragstart",n),t.addEventListener("dragend",i),()=>{t.removeEventListener("dragstart",n),t.removeEventListener("dragend",i)}}),[]),t})(a),d=tt(a),[m,p]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{l?d&&!i?(s(!0),p(!0)):!d&&i&&m&&s(!1):p(!1)}),[i,l,d,m]),(0,c.createElement)(f.Panel,{className:t,ref:a},(0,c.createElement)(f.PanelBody,{title:n,opened:i,onToggle:()=>{o(e,!i)},scrollAfterOpen:!l},(({opened:e})=>(0,c.createElement)(f.__unstableDisclosureContent,{className:"wp-block-widget-area__panel-body-content",visible:e},(0,c.createElement)(u.EntityProvider,{kind:"root",type:"postType",id:`widget-area-${r}`},(0,c.createElement)(rt,{id:r}))))))}};function at({text:e,children:t}){const r=(0,ne.useCopyToClipboard)(e);return(0,c.createElement)(f.Button,{variant:"secondary",ref:r},t)}class st extends c.Component{constructor(){super(...arguments),this.reboot=this.reboot.bind(this),this.state={error:null}}componentDidCatch(e){this.setState({error:e})}reboot(){this.props.onError()}render(){const{error:e}=this.state;return e?(0,c.createElement)(Me.Warning,{className:"edit-widgets-error-boundary",actions:[(0,c.createElement)(f.Button,{key:"recovery",onClick:this.reboot,variant:"secondary"},(0,h.__)("Attempt Recovery")),(0,c.createElement)(at,{key:"copy-error",text:e.stack},(0,h.__)("Copy Error"))]},(0,h.__)("The editor has encountered an unexpected error.")):this.props.children}}var ct=window.wp.reusableBlocks,lt=window.wp.keyboardShortcuts;function dt(){const{redo:e,undo:t}=(0,g.useDispatch)(u.store),{saveEditedWidgetAreas:r}=(0,g.useDispatch)(Je);return(0,lt.useShortcut)("core/edit-widgets/undo",(e=>{t(),e.preventDefault()})),(0,lt.useShortcut)("core/edit-widgets/redo",(t=>{e(),t.preventDefault()})),(0,lt.useShortcut)("core/edit-widgets/save",(e=>{e.preventDefault(),r()})),null}dt.Register=function(){const{registerShortcut:e}=(0,g.useDispatch)(lt.store);return(0,c.useEffect)((()=>{e({name:"core/edit-widgets/undo",category:"global",description:(0,h.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-widgets/redo",category:"global",description:(0,h.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"}}),e({name:"core/edit-widgets/save",category:"global",description:(0,h.__)("Save your changes."),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/edit-widgets/keyboard-shortcuts",category:"main",description:(0,h.__)("Display these keyboard shortcuts."),keyCombination:{modifier:"access",character:"h"}}),e({name:"core/edit-widgets/next-region",category:"global",description:(0,h.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),e({name:"core/edit-widgets/previous-region",category:"global",description:(0,h.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"}]})}),[e]),null};var ut=dt,mt=()=>(0,g.useSelect)((e=>{var t;const{getBlockSelectionEnd:r,getBlockName:n}=e(Me.store),i=r();if("core/widget-area"===n(i))return i;const{getParentWidgetAreaBlock:o}=e(Je),a=o(i),s=null==a?void 0:a.clientId;if(s)return s;const{getEntityRecord:c}=e(u.store),l=c(me,pe,"widget-areas");return null==l||null===(t=l.blocks[0])||void 0===t?void 0:t.clientId}),[]);function gt({blockEditorSettings:e,children:t,...r}){const{hasUploadPermissions:n,reusableBlocks:i,isFixedToolbarActive:o,keepCaretInsideBlock:a}=(0,g.useSelect)((e=>({hasUploadPermissions:(0,I.defaultTo)(e(u.store).canUser("create","media"),!0),widgetAreas:e(Je).getWidgetAreas(),widgets:e(Je).getWidgets(),reusableBlocks:[],isFixedToolbarActive:e(U).isFeatureActive("core/edit-widgets","fixedToolbar"),keepCaretInsideBlock:e(U).isFeatureActive("core/edit-widgets","keepCaretInsideBlock")})),[]),{setIsInserterOpened:s}=(0,g.useDispatch)(Je),l=(0,c.useMemo)((()=>{let t;return n&&(t=({onError:t,...r})=>{(0,et.uploadMedia)({wpAllowedMimeTypes:e.allowedMimeTypes,onError:({message:e})=>t(e),...r})}),{...e,__experimentalReusableBlocks:i,hasFixedToolbar:o,keepCaretInsideBlock:a,mediaUpload:t,templateLock:"all",__experimentalSetIsInserterOpened:s}}),[e,o,a,n,i,s]),d=mt(),[m,_,E]=(0,u.useEntityBlockEditor)(me,pe,{id:"widget-areas"});return(0,c.createElement)(lt.ShortcutProvider,null,(0,c.createElement)(Me.BlockEditorKeyboardShortcuts.Register,null),(0,c.createElement)(ut.Register,null),(0,c.createElement)(f.SlotFillProvider,null,(0,c.createElement)(Me.BlockEditorProvider,p({value:m,onInput:_,onChange:E,settings:l,useSubRegistry:!1},r),(0,c.createElement)(Me.CopyHandler,null,t),(0,c.createElement)(ct.ReusableBlocksMenuItems,{rootClientId:d}))))}var pt=(0,c.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(w.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})),_t=(0,c.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(w.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})),Et=window.wp.url,ft=window.wp.dom;function ht({selectedWidgetAreaId:e}){const t=(0,g.useSelect)((e=>e(Je).getWidgetAreas()),[]),r=(0,c.useMemo)((()=>e&&(null==t?void 0:t.find((t=>t.id===e)))),[e,t]);let n;return n=r?"wp_inactive_widgets"===e?(0,h.__)("Blocks in this Widget Area will not be displayed in your site."):r.description:(0,h.__)("Widget Areas are global parts in your site’s layout that can accept blocks. These vary by theme, but are typically parts like your Sidebar or Footer."),(0,c.createElement)("div",{className:"edit-widgets-widget-areas"},(0,c.createElement)("div",{className:"edit-widgets-widget-areas__top-container"},(0,c.createElement)(Me.BlockIcon,{icon:_t}),(0,c.createElement)("div",null,(0,c.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,ft.safeHTML)(n)}}),0===(null==t?void 0:t.length)&&(0,c.createElement)("p",null,(0,h.__)("Your theme does not contain any Widget Areas.")),!r&&(0,c.createElement)(f.Button,{href:(0,Et.addQueryArgs)("customize.php",{"autofocus[panel]":"widgets",return:window.location.pathname}),variant:"tertiary"},(0,h.__)("Manage with live preview")))))}const wt=c.Platform.select({web:!0,native:!1}),bt="edit-widgets/block-inspector",yt="edit-widgets/block-areas";function vt({identifier:e,label:t,isActive:r}){const{enableComplementaryArea:n}=(0,g.useDispatch)(U);return(0,c.createElement)(f.Button,{onClick:()=>n(Je.name,e),className:E()("edit-widgets-sidebar__panel-tab",{"is-active":r}),"aria-label":r?// translators: %s: sidebar label e.g: "Widget Areas".
(0,h.sprintf)((0,h.__)("%s (selected)"),t):t,"data-label":t},t)}function kt(){const{enableComplementaryArea:e}=(0,g.useDispatch)(U),{currentArea:t,hasSelectedNonAreaBlock:r,isGeneralSidebarOpen:n,selectedWidgetAreaBlock:i}=(0,g.useSelect)((e=>{const{getSelectedBlock:t,getBlock:r,getBlockParentsByBlockName:n}=e(Me.store),{getActiveComplementaryArea:i}=e(U),o=t(),a=i(Je.name);let s,c=a;return c||(c=o?bt:yt),o&&(s="core/widget-area"===o.name?o:r(n(o.clientId,"core/widget-area")[0])),{currentArea:c,hasSelectedNonAreaBlock:!(!o||"core/widget-area"===o.name),isGeneralSidebarOpen:!!a,selectedWidgetAreaBlock:s}}),[]);return(0,c.useEffect)((()=>{r&&t===yt&&n&&e("core/edit-widgets",bt),!r&&t===bt&&n&&e("core/edit-widgets",yt)}),[r,e]),(0,c.createElement)(re,{className:"edit-widgets-sidebar",header:(0,c.createElement)("ul",null,(0,c.createElement)("li",null,(0,c.createElement)(vt,{identifier:yt,label:i?i.attributes.name:(0,h.__)("Widget Areas"),isActive:t===yt})),(0,c.createElement)("li",null,(0,c.createElement)(vt,{identifier:bt,label:(0,h.__)("Block"),isActive:t===bt}))),headerClassName:"edit-widgets-sidebar__panel-tabs"
/* translators: button label text should, if possible, be under 16 characters. */,title:(0,h.__)("Settings"),closeLabel:(0,h.__)("Close settings"),scope:"core/edit-widgets",identifier:t,icon:pt,isActiveByDefault:wt},t===yt&&(0,c.createElement)(ht,{selectedWidgetAreaId:null==i?void 0:i.attributes.id}),t===bt&&(r?(0,c.createElement)(Me.BlockInspector,null):(0,c.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},(0,h.__)("No block selected."))))}var St=(0,c.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(w.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})),It=(0,c.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(w.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),At=function(){const{hasEditedWidgetAreaIds:e,isSaving:t}=(0,g.useSelect)((e=>{var t;const{getEditedWidgetAreas:r,isSavingWidgetAreas:n}=e(Je);return{hasEditedWidgetAreaIds:(null===(t=r())||void 0===t?void 0:t.length)>0,isSaving:n()}}),[]),{saveEditedWidgetAreas:r}=(0,g.useDispatch)(Je);return(0,c.createElement)(f.Button,{variant:"primary",isBusy:t,"aria-disabled":t,onClick:t?void 0:r,disabled:!e},t?(0,h.__)("Saving…"):(0,h.__)("Update"))},Nt=(0,c.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(w.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})),Bt=(0,c.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(w.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})),Ct=window.wp.keycodes;function xt(){const e=(0,g.useSelect)((e=>e(u.store).hasUndo())),{undo:t}=(0,g.useDispatch)(u.store);return(0,c.createElement)(f.ToolbarButton,{icon:(0,h.isRTL)()?Bt:Nt,label:(0,h.__)("Undo"),shortcut:Ct.displayShortcut.primary("z"),"aria-disabled":!e,onClick:e?t:void 0})}function Tt(){const e=(0,g.useSelect)((e=>e(u.store).hasRedo())),{redo:t}=(0,g.useDispatch)(u.store);return(0,c.createElement)(f.ToolbarButton,{icon:(0,h.isRTL)()?Nt:Bt,label:(0,h.__)("Redo"),shortcut:Ct.displayShortcut.primaryShift("z"),"aria-disabled":!e,onClick:e?t:void 0})}var Wt=(0,c.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(w.Path,{d:"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"}));const Rt=[{keyCombination:{modifier:"primary",character:"b"},description:(0,h.__)("Make the selected text bold.")},{keyCombination:{modifier:"primary",character:"i"},description:(0,h.__)("Make the selected text italic.")},{keyCombination:{modifier:"primary",character:"k"},description:(0,h.__)("Convert the selected text into a link.")},{keyCombination:{modifier:"primaryShift",character:"k"},description:(0,h.__)("Remove a link.")},{keyCombination:{modifier:"primary",character:"u"},description:(0,h.__)("Underline the selected text.")}];function Pt({keyCombination:e,forceAriaLabel:t}){const r=e.modifier?Ct.displayShortcutList[e.modifier](e.character):e.character,n=e.modifier?Ct.shortcutAriaLabel[e.modifier](e.character):e.character;return(0,c.createElement)("kbd",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":t||n},(0,I.castArray)(r).map(((e,t)=>"+"===e?(0,c.createElement)(c.Fragment,{key:t},e):(0,c.createElement)("kbd",{key:t,className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-key"},e))))}var Lt=function({description:e,keyCombination:t,aliases:r=[],ariaLabel:n}){return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-description"},e),(0,c.createElement)("div",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-term"},(0,c.createElement)(Pt,{keyCombination:t,forceAriaLabel:n}),r.map(((e,t)=>(0,c.createElement)(Pt,{keyCombination:e,forceAriaLabel:n,key:t})))))},Dt=function({name:e}){const{keyCombination:t,description:r,aliases:n}=(0,g.useSelect)((t=>{const{getShortcutKeyCombination:r,getShortcutDescription:n,getShortcutAliases:i}=t(lt.store);return{keyCombination:r(e),aliases:i(e),description:n(e)}}));return t?(0,c.createElement)(Lt,{keyCombination:t,description:r,aliases:n}):null};const Mt=({shortcuts:e})=>(0,c.createElement)("ul",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-list",role:"list"},e.map(((e,t)=>(0,c.createElement)("li",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut",key:t},(0,I.isString)(e)?(0,c.createElement)(Dt,{name:e}):(0,c.createElement)(Lt,e))))),Ft=({title:e,shortcuts:t,className:r})=>(0,c.createElement)("section",{className:E()("edit-widgets-keyboard-shortcut-help-modal__section",r)},!!e&&(0,c.createElement)("h2",{className:"edit-widgets-keyboard-shortcut-help-modal__section-title"},e),(0,c.createElement)(Mt,{shortcuts:t})),Ot=({title:e,categoryName:t,additionalShortcuts:r=[]})=>{const n=(0,g.useSelect)((e=>e(lt.store).getCategoryShortcuts(t)),[t]);return(0,c.createElement)(Ft,{title:e,shortcuts:n.concat(r)})};function Gt({isModalActive:e,toggleModal:t}){return(0,lt.useShortcut)("core/edit-widgets/keyboard-shortcuts",t,{bindGlobal:!0}),e?(0,c.createElement)(f.Modal,{className:"edit-widgets-keyboard-shortcut-help-modal",title:(0,h.__)("Keyboard shortcuts"),closeLabel:(0,h.__)("Close"),onRequestClose:t},(0,c.createElement)(Ft,{className:"edit-widgets-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:["core/edit-widgets/keyboard-shortcuts"]}),(0,c.createElement)(Ot,{title:(0,h.__)("Global shortcuts"),categoryName:"global"}),(0,c.createElement)(Ot,{title:(0,h.__)("Selection shortcuts"),categoryName:"selection"}),(0,c.createElement)(Ot,{title:(0,h.__)("Block shortcuts"),categoryName:"block",additionalShortcuts:[{keyCombination:{character:"/"},description:(0,h.__)("Change the block type after adding a new paragraph."),
/* translators: The forward-slash character. e.g. '/'. */
ariaLabel:(0,h.__)("Forward-slash")}]}),(0,c.createElement)(Ft,{title:(0,h.__)("Text formatting"),shortcuts:Rt})):null}function Vt(){const[e,t]=(0,c.useState)(!1),r=()=>t(!e);(0,lt.useShortcut)("core/edit-widgets/keyboard-shortcuts",r);const n=(0,ne.useViewportMatch)("medium");return(0,c.createElement)(c.Fragment,null,(0,c.createElement)(ae,null,(()=>(0,c.createElement)(c.Fragment,null,n&&(0,c.createElement)(f.MenuGroup,{label:(0,h._x)("View","noun")},(0,c.createElement)(ce,{scope:"core/edit-widgets",feature:"fixedToolbar",label:(0,h.__)("Top toolbar"),info:(0,h.__)("Access all block and document tools in a single place"),messageActivated:(0,h.__)("Top toolbar activated"),messageDeactivated:(0,h.__)("Top toolbar deactivated")})),(0,c.createElement)(f.MenuGroup,{label:(0,h.__)("Tools")},(0,c.createElement)(f.MenuItem,{onClick:()=>{t(!0)},shortcut:Ct.displayShortcut.access("h")},(0,h.__)("Keyboard shortcuts")),(0,c.createElement)(ce,{scope:"core/edit-widgets",feature:"welcomeGuide",label:(0,h.__)("Welcome Guide")}),(0,c.createElement)(f.MenuItem,{role:"menuitem",icon:Wt,href:(0,h.__)("https://wordpress.org/support/article/block-based-widgets-editor/"),target:"_blank",rel:"noopener noreferrer"},(0,h.__)("Help"),(0,c.createElement)(f.VisuallyHidden,{as:"span"},
/* translators: accessibility text */
(0,h.__)("(opens in a new tab)")))),(0,c.createElement)(f.MenuGroup,{label:(0,h.__)("Preferences")},(0,c.createElement)(ce,{scope:"core/edit-widgets",feature:"keepCaretInsideBlock",label:(0,h.__)("Contain text cursor inside block"),info:(0,h.__)("Aids screen readers by stopping text caret from leaving blocks."),messageActivated:(0,h.__)("Contain text cursor inside block activated"),messageDeactivated:(0,h.__)("Contain text cursor inside block deactivated")}),(0,c.createElement)(ce,{scope:"core/edit-widgets",feature:"themeStyles",info:(0,h.__)("Make the editor look like your theme."),label:(0,h.__)("Use theme styles")}),n&&(0,c.createElement)(ce,{scope:"core/edit-widgets",feature:"showBlockBreadcrumbs",label:(0,h.__)("Display block breadcrumbs"),info:(0,h.__)("Shows block breadcrumbs at the bottom of the editor."),messageActivated:(0,h.__)("Display block breadcrumbs activated"),messageDeactivated:(0,h.__)("Display block breadcrumbs deactivated")}))))),(0,c.createElement)(Gt,{isModalActive:e,toggleModal:r}))}var zt=function(){const e=(0,ne.useViewportMatch)("medium"),t=(0,c.useRef)(),r=mt(),n=(0,g.useSelect)((e=>e(Je).getIsWidgetAreaOpen(r)),[r]),i=(0,g.useSelect)((e=>e(Je).isInserterOpened())),{setIsWidgetAreaOpen:o,setIsInserterOpened:a}=(0,g.useDispatch)(Je),{selectBlock:s}=(0,g.useDispatch)(Me.store);return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{className:"edit-widgets-header"},(0,c.createElement)("div",{className:"edit-widgets-header__navigable-toolbar-wrapper"},e&&(0,c.createElement)("h1",{className:"edit-widgets-header__title"},(0,h.__)("Widgets")),!e&&(0,c.createElement)(f.VisuallyHidden,{as:"h1",className:"edit-widgets-header__title"},(0,h.__)("Widgets")),(0,c.createElement)(Me.NavigableToolbar,{className:"edit-widgets-header-toolbar","aria-label":(0,h.__)("Document tools")},(0,c.createElement)(f.ToolbarItem,{ref:t,as:f.Button,className:"edit-widgets-header-toolbar__inserter-toggle",variant:"primary",isPressed:i,onMouseDown:e=>{e.preventDefault()},onClick:()=>{i?t.current.focus():(n||(s(r),o(r,!0)),window.requestAnimationFrame((()=>a(!0))))},icon:It
/* translators: button label text should, if possible, be under 16
    characters. */,label:(0,h._x)("Toggle block inserter","Generic label for block inserter button")}),e&&(0,c.createElement)(c.Fragment,null,(0,c.createElement)(xt,null),(0,c.createElement)(Tt,null),(0,c.createElement)(f.ToolbarItem,{as:Me.BlockNavigationDropdown})))),(0,c.createElement)("div",{className:"edit-widgets-header__actions"},(0,c.createElement)(At,null),(0,c.createElement)(Z.Slot,{scope:"core/edit-widgets"}),(0,c.createElement)(Vt,null))))},Ut=function(){const{removeNotice:e}=(0,g.useDispatch)(ve.store),{notices:t}=(0,g.useSelect)((e=>({notices:e(ve.store).getNotices()})),[]),r=(0,I.filter)(t,{isDismissible:!0,type:"default"}),n=(0,I.filter)(t,{isDismissible:!1,type:"default"}),i=(0,I.filter)(t,{type:"snackbar"});return(0,c.createElement)(c.Fragment,null,(0,c.createElement)(f.NoticeList,{notices:n,className:"edit-widgets-notices__pinned"}),(0,c.createElement)(f.NoticeList,{notices:r,className:"edit-widgets-notices__dismissible",onRemove:e}),(0,c.createElement)(f.SnackbarList,{notices:i,className:"edit-widgets-notices__snackbar",onRemove:e}))};function Ht({blockEditorSettings:e}){const t=(0,g.useSelect)((e=>e(U).isFeatureActive("core/edit-widgets","themeStyles"))),r=(0,c.useMemo)((()=>t?e.styles:[]),[e,t]);return(0,c.createElement)("div",{className:"edit-widgets-block-editor"},(0,c.createElement)(Ut,null),(0,c.createElement)(Me.BlockTools,null,(0,c.createElement)(ut,null),(0,c.createElement)(Me.__unstableEditorStyles,{styles:r}),(0,c.createElement)(Me.BlockSelectionClearer,null,(0,c.createElement)(Me.WritingFlow,null,(0,c.createElement)(Me.ObserveTyping,null,(0,c.createElement)(Me.BlockList,{className:"edit-widgets-main-block-list"}))))))}const jt={
/* translators: accessibility text for the widgets screen top bar landmark region. */
header:(0,h.__)("Widgets top bar"),
/* translators: accessibility text for the widgets screen content landmark region. */
body:(0,h.__)("Widgets and blocks"),
/* translators: accessibility text for the widgets screen settings landmark region. */
sidebar:(0,h.__)("Widgets settings"),
/* translators: accessibility text for the widgets screen footer landmark region. */
footer:(0,h.__)("Widgets footer")};var $t=function({blockEditorSettings:e}){const t=(0,ne.useViewportMatch)("medium","<"),r=(0,ne.useViewportMatch)("huge",">="),{setIsInserterOpened:n,closeGeneralSidebar:i}=(0,g.useDispatch)(Je),{rootClientId:o,insertionIndex:a}=(()=>{const e=(0,g.useSelect)((e=>{var t;const{getEntityRecord:r}=e(u.store),n=r(me,pe,"widget-areas");return null==n||null===(t=n.blocks[0])||void 0===t?void 0:t.clientId}),[]);return(0,g.useSelect)((t=>{const{getBlockRootClientId:r,getBlockSelectionEnd:n,getBlockOrder:i,getBlockIndex:o}=t(Me.store),a=t(Je).__experimentalGetInsertionPoint();if(a.rootClientId)return a;const s=n()||e,c=r(s);return s&&""===c?{rootClientId:s,insertionIndex:i(s).length}:{rootClientId:c,insertionIndex:o(s,c)+1}}),[e])})(),{hasBlockBreadCrumbsEnabled:s,hasSidebarEnabled:l,isInserterOpened:d,previousShortcut:m,nextShortcut:_}=(0,g.useSelect)((e=>({hasSidebarEnabled:!!e(U).getActiveComplementaryArea(Je.name),isInserterOpened:!!e(Je).isInserterOpened(),hasBlockBreadCrumbsEnabled:e(U).isFeatureActive("core/edit-widgets","showBlockBreadcrumbs"),previousShortcut:e(lt.store).getAllShortcutKeyCombinations("core/edit-widgets/previous-region"),nextShortcut:e(lt.store).getAllShortcutKeyCombinations("core/edit-widgets/next-region")})),[]);(0,c.useEffect)((()=>{l&&!r&&n(!1)}),[l,r]),(0,c.useEffect)((()=>{d&&!r&&i()}),[d,r]);const[E,w]=(0,ne.__experimentalUseDialog)({onClose:()=>n(!1)});return(0,c.createElement)(ie,{labels:jt,header:(0,c.createElement)(zt,null),secondarySidebar:d&&(0,c.createElement)("div",p({ref:E},w,{className:"edit-widgets-layout__inserter-panel"}),(0,c.createElement)("div",{className:"edit-widgets-layout__inserter-panel-header"},(0,c.createElement)(f.Button,{icon:St,onClick:()=>n(!1)})),(0,c.createElement)("div",{className:"edit-widgets-layout__inserter-panel-content"},(0,c.createElement)(Me.__experimentalLibrary,{showInserterHelpPanel:!0,shouldFocusBlock:t,rootClientId:o,__experimentalInsertionIndex:a}))),sidebar:l&&(0,c.createElement)(re.Slot,{scope:"core/edit-widgets"}),content:(0,c.createElement)(Ht,{blockEditorSettings:e}),footer:s&&!t&&(0,c.createElement)("div",{className:"edit-widgets-layout__footer"},(0,c.createElement)(Me.BlockBreadcrumb,{rootLabelText:(0,h.__)("Widgets")})),shortcuts:{previous:m,next:_}})};function qt(){const e=(0,g.useSelect)((e=>{const{getEditedWidgetAreas:t}=e(Je),r=t();return(null==r?void 0:r.length)>0}),[]);return(0,c.useEffect)((()=>{const t=t=>{if(e)return t.returnValue=(0,h.__)("You have unsaved changes. If you proceed, they will be lost."),t.returnValue};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}}),[e]),null}function Kt(){var e;const t=(0,g.useSelect)((e=>e(U).isFeatureActive("core/edit-widgets","welcomeGuide")),[]),{toggleFeature:r}=(0,g.useDispatch)(U),n=(0,g.useSelect)((e=>e(Je).getWidgetAreas({per_page:-1})));if(!t)return null;const i=null==n?void 0:n.every((e=>"wp_inactive_widgets"===e.id||e.widgets.every((e=>e.startsWith("block-"))))),o=null!==(e=null==n?void 0:n.filter((e=>"wp_inactive_widgets"!==e.id)).length)&&void 0!==e?e:0;return(0,c.createElement)(f.Guide,{className:"edit-widgets-welcome-guide",contentLabel:(0,h.__)("Welcome to block Widgets"),finishButtonText:(0,h.__)("Get started"),onFinish:()=>r("core/edit-widgets","welcomeGuide"),pages:[{image:(0,c.createElement)(Yt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:(0,c.createElement)(c.Fragment,null,(0,c.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},(0,h.__)("Welcome to block Widgets")),i?(0,c.createElement)(c.Fragment,null,(0,c.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,h.sprintf)(// Translators: %s: Number of block areas in the current theme.
(0,h._n)("Your theme provides %s “block” area for you to add and edit content. Try adding a search bar, social icons, or other types of blocks here and see how they’ll look on your site.","Your theme provides %s different “block” areas for you to add and edit content. Try adding a search bar, social icons, or other types of blocks here and see how they’ll look on your site.",o),o))):(0,c.createElement)(c.Fragment,null,(0,c.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,h.__)("You can now add any block to your site’s widget areas. Don’t worry, all of your favorite widgets still work flawlessly.")),(0,c.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,c.createElement)("strong",null,(0,h.__)("Want to stick with the old widgets?"))," ",(0,c.createElement)(f.ExternalLink,{href:(0,h.__)("https://wordpress.org/plugins/classic-widgets/")},(0,h.__)("Get the Classic Widgets plugin.")))))},{image:(0,c.createElement)(Yt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:(0,c.createElement)(c.Fragment,null,(0,c.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},(0,h.__)("Make each block your own")),(0,c.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,h.__)("Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.")))},{image:(0,c.createElement)(Yt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:(0,c.createElement)(c.Fragment,null,(0,c.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},(0,h.__)("Get to know the block library")),(0,c.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,c.createInterpolateElement)((0,h.__)("All of the blocks available to you live in the block library. You’ll find it wherever you see the <InserterIconImage /> icon."),{InserterIconImage:(0,c.createElement)("img",{className:"edit-widgets-welcome-guide__inserter-icon",alt:(0,h.__)("inserter"),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})))},{image:(0,c.createElement)(Yt,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:(0,c.createElement)(c.Fragment,null,(0,c.createElement)("h1",{className:"edit-widgets-welcome-guide__heading"},(0,h.__)("Learn how to use the block editor")),(0,c.createElement)("p",{className:"edit-widgets-welcome-guide__text"},(0,h.__)("New to the block editor? Want to learn more about using it? "),(0,c.createElement)(f.ExternalLink,{href:(0,h.__)("https://wordpress.org/support/article/wordpress-editor/")},(0,h.__)("Here's a detailed guide."))))}]})}function Yt({nonAnimatedSrc:e,animatedSrc:t}){return(0,c.createElement)("picture",{className:"edit-widgets-welcome-guide__image"},(0,c.createElement)("source",{srcSet:e,media:"(prefers-reduced-motion: reduce)"}),(0,c.createElement)("img",{src:t,width:"312",height:"240",alt:""}))}var Qt=function({blockEditorSettings:e,onError:t}){return(0,c.createElement)(st,{onError:t},(0,c.createElement)(gt,{blockEditorSettings:e},(0,c.createElement)($t,{blockEditorSettings:e}),(0,c.createElement)(kt,null),(0,c.createElement)(f.Popover.Slot,null),(0,c.createElement)(H.PluginArea,null),(0,c.createElement)(qt,null),(0,c.createElement)(Kt,null)))};const Jt=["core/more","core/freeform","core/block"];function Xt(e,t){(0,c.unmountComponentAtNode)(e);const r=Xt.bind(null,e,t);(0,c.render)((0,c.createElement)(Qt,{blockEditorSettings:t,onError:r}),e)}function Zt(e,t){const r=document.getElementById(e),n=Xt.bind(null,r,t),i=(0,d.__experimentalGetCoreBlocks)().filter((e=>!(Jt.includes(e.name)||e.name.startsWith("core/post")||e.name.startsWith("core/query")||e.name.startsWith("core/site"))));(0,g.dispatch)(U).setFeatureDefaults("core/edit-widgets",{fixedToolbar:!1,welcomeGuide:!0,showBlockBreadcrumbs:!0,themeStyles:!0}),(0,d.registerCoreBlocks)(i),(0,m.registerLegacyWidgetBlock)(),(0,d.__experimentalRegisterExperimentalCoreBlocks)({enableFSEBlocks:!1}),(0,m.registerLegacyWidgetVariations)(t),er(s),(0,m.registerWidgetGroupBlock)(),t.__experimentalFetchLinkSuggestions=(e,r)=>(0,u.__experimentalFetchLinkSuggestions)(e,r,t),(0,l.setFreeformContentHandlerName)("core/html"),(0,c.render)((0,c.createElement)(Qt,{blockEditorSettings:t,onError:n}),r)}const er=e=>{if(!e)return;const{metadata:t,settings:r,name:n}=e;t&&(0,l.unstable__bootstrapServerSideBlockDefinitions)({[n]:t}),(0,l.registerBlockType)(n,r)}}(),(window.wp=window.wp||{}).editWidgets=n}();