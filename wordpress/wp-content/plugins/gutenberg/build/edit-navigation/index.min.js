!function(){var e={4403:function(e,t){var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var o=r.apply(null,n);o&&e.push(o)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var l in n)a.call(n,l)&&n[l]&&e.push(l);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};!function(){"use strict";n.r(a),n.d(a,{__unstableCreateMenuPreloadingMiddleware:function(){return en},initialize:function(){return an}});var e={};n.r(e),n.d(e,{getNavigationPostForMenu:function(){return P}});var t={};n.r(t),n.d(t,{getNavigationPostForMenu:function(){return A},hasResolvedNavigationPost:function(){return D},isInserterOpened:function(){return L}});var r={};n.r(r),n.d(r,{saveNavigationPost:function(){return O},setIsInserterOpened:function(){return Y}});var i={};n.r(i),n.d(i,{disableComplementaryArea:function(){return Re},enableComplementaryArea:function(){return xe},pinItem:function(){return Ae},setDefaultComplementaryArea:function(){return Pe},setFeatureDefaults:function(){return Fe},setFeatureValue:function(){return Te},toggleFeature:function(){return Le},unpinItem:function(){return De}});var o={};n.r(o),n.d(o,{getActiveComplementaryArea:function(){return Oe},isFeatureActive:function(){return ze},isItemPinned:function(){return Ve}});var l=window.wp.element,s=window.wp.blocks,c=window.wp.blockLibrary,u=window.wp.data,d=window.wp.coreData,m=window.wp.i18n;const p="root",v="menu",g="root",h="navigationPost",_="core/edit-navigation",f="edit-navigation/menu",E="edit-navigation/block-inspector",b="_blank";var y=(0,u.combineReducers)({blockInserterPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_IS_INSERTER_OPENED"===t.type?t.value:e}});const w=e=>`navigation-post-${e}`;function k(e){return e.attributes.__internalRecordId}function S(e,t){return{...e,attributes:{...e.attributes||{},__internalRecordId:t}}}const M=e=>["core/navigation-link","core/navigation-submenu"].includes(e.name);var N=window.lodash;function I(e){if(!e)return null;const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parent";const a=Object.create(null),r=[];for(const n of e)a[n[t]]={...n,children:[]};for(const i of e)i[n]?(a[i[n]]=a[i[n]]||{},a[i[n]].children=a[i[n]].children||[],a[i[n]].children.push(a[i[t]])):r.push(a[i[t]]);return r}(e);return C(t)}function C(e){const t=[...e].sort(((e,t)=>e.menu_order-t.menu_order));return t.map((e=>{var t;if("block"===e.type){const[t]=(0,s.parse)(e.content.raw);return t||(0,s.createBlock)("core/freeform",{content:e.content})}const n=B(e),a=null!==(t=e.children)&&void 0!==t&&t.length?C(e.children):[],r=null!=a&&a.length?"core/navigation-submenu":"core/navigation-link";return(0,s.createBlock)(r,n,a)})).map(((e,n)=>S(e,t[n].id)))}function B(e){var t;let{title:n,xfn:a,classes:r,attr_title:i,object:o,object_id:l,description:s,url:c,type:u,target:d}=e;return o&&"post_tag"===o&&(o="tag"),{label:(null==n?void 0:n.rendered)||"",...(null===(t=o)||void 0===t?void 0:t.length)&&{type:o},kind:(null==u?void 0:u.replace("_","-"))||"custom",url:c||"",...(null==a?void 0:a.length)&&a.join(" ").trim()&&{rel:a.join(" ").trim()},...(null==r?void 0:r.length)&&r.join(" ").trim()&&{className:r.join(" ").trim()},...(null==i?void 0:i.length)&&{title:i},...l&&"custom"!==o&&{id:l},...(null==s?void 0:s.length)&&{description:s},...d===b&&{opensInNewTab:!0}}}const P=e=>async t=>{let{registry:n,dispatch:a}=t;if(!e)return;const r=x(e);a(R(r));const i=[g,h,r.id];n.dispatch(d.store).startResolution("getEntityRecord",i);const o=await n.resolveSelect(d.store).getMenuItems(function(e){return{menus:e,per_page:-1}}(e)),l=function(e){const t=I(e);return(0,s.createBlock)("core/navigation",{orientation:"vertical"},t)}(o),c=x(e,l);a(R(c)),n.dispatch(d.store).finishResolution("getEntityRecord",i)},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=w(e);return{id:n,slug:n,status:"draft",type:"page",blocks:t?[t]:[],meta:{menuId:e}}},R=e=>t=>{let{registry:n}=t;n.dispatch(d.store).receiveEntityRecords(g,h,e,{id:e.id},!1)},A=(0,u.createRegistrySelector)((e=>(t,n)=>D(t,n)?e(d.store).getEditedEntityRecord(g,h,w(n)):null)),D=(0,u.createRegistrySelector)((e=>(t,n)=>e(d.store).hasFinishedResolution("getEntityRecord",[g,h,w(n)])));function L(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(null==e||!e.blockInserterPanel)}var T=window.wp.notices;const F="core/edit-navigation",O=e=>async t=>{let{registry:n,dispatch:a}=t;const r=await n.dispatch(d.store).__unstableAcquireStoreLock(F,["savingMenu"],{exclusive:!0});try{const t=e.meta.menuId;await n.dispatch(d.store).saveEditedEntityRecord("root","menu",t,{throwOnError:!0});const i=await a(V(e.blocks[0],t));n.dispatch(d.store).receiveEntityRecords(g,h,e,void 0);const o={...e,blocks:[i]};n.dispatch(d.store).receiveEntityRecords(g,h,o,void 0),n.dispatch(T.store).createSuccessNotice((0,m.__)("Navigation saved."),{type:"snackbar"})}catch(e){const t=e?(0,m.sprintf)(
/* translators: %s: The text of an error message (potentially untranslated). */
(0,m.__)("Unable to save: '%s'"),e.message):(0,m.__)("Unable to save: An error occurred.");n.dispatch(T.store).createErrorNotice(t,{type:"snackbar"})}finally{n.dispatch(d.store).__unstableReleaseStoreLock(r)}},V=(e,t)=>async n=>{let{dispatch:a,registry:r}=n;const i=await r.resolveSelect(d.store).getMenuItems({menus:t,per_page:-1}),o=await a(z(e)),l=await a(G(o,t)),s=i.map((e=>{let{id:t}=e;return t})).filter((e=>!U(l).map(k).includes(e)));return await a(j(s)),l},z=e=>async t=>{let{registry:n}=t;const a=U(e).filter((e=>M(e)&&!k(e))),r=a.map((()=>e=>{let{saveEntityRecord:t}=e;return t("root","menuItem",{title:(0,m.__)("Menu item"),url:"#placeholder",menu_order:1})})),i=await n.dispatch(d.store).__experimentalBatch(r),o=new Map(a.map(((e,t)=>[e,i[t]])));return $(e,(e=>o.has(e)?S(e,o.get(e).id):e))},G=(e,t)=>async n=>{let{registry:a}=n;const r=H(e),i=r.filter((e=>{let{block:t}=e;return!M(t)})).map((e=>{let{block:t}=e;return t.name}));i.length&&window.console.warn((0,m.sprintf)(// translators: %s: Name of block (i.e. core/legacy-widget)
(0,m.__)('The following blocks haven\'t been saved because they are not supported: "%s".'),i.join('", "')));const o=r.filter((e=>{let{block:t}=e;return M(t)})).map((e=>{let{block:n,parentBlock:r,childIndex:i}=e;return function(e,t,n,a,r){const{menus:i,meta:o,_links:l,...c}=t;let u;return(t=c).content=(0,N.get)(t.content,"raw",t.content),u=M(e)?(e=>{var t;let{label:n="",url:a="",description:r,rel:i,className:o,title:l,type:s,id:c,kind:u,opensInNewTab:d}=e;return s&&"tag"===s&&(s="post_tag"),{title:n,url:a,...(null==r?void 0:r.length)&&{description:r},...(null==i?void 0:i.length)&&{xfn:null==i?void 0:i.trim().split(" ")},...(null==o?void 0:o.length)&&{classes:null==o?void 0:o.trim().split(" ")},...(null==l?void 0:l.length)&&{attr_title:l},...(null===(t=s)||void 0===t?void 0:t.length)&&{object:s},...(null==u?void 0:u.length)&&{type:null==u?void 0:u.replace("-","_")},...c&&"custom"!==s&&{object_id:c},target:d?b:""}})(e.attributes):{type:"block",content:(0,s.serialize)(e)},{...t,...u,content:u.content||"",id:k(e),menu_order:a+1,menus:r,parent:n||0,status:"publish"}}(n,a.select(d.store).getMenuItem(k(n)),k(r),i,t)})).filter((e=>(a.dispatch(d.store).editEntityRecord("root","menuItem",e.id,e,{undoIgnore:!0}),a.select(d.store).hasEditsForEntityRecord("root","menuItem",e.id)))),l=o.map((e=>t=>{let{saveEditedEntityRecord:n}=t;return n("root","menuItem",e.id)}));return await a.dispatch(d.store).__experimentalBatch(l),o.forEach((e=>{const t=a.select(d.store).getLastEntitySaveError("root","menuItem",e.id);if(t)throw new Error(t.message)})),$(e,(e=>{if(!M(e))return e;const t=a.select(d.store).getMenuItem(k(e));return S({...e,attributes:B(t)},t.id)}))},j=e=>async t=>{let{registry:n}=t;const a=e.map((e=>async t=>{let{deleteEntityRecord:n}=t;const a=await n("root","menuItem",e,{force:!0});if(!a)throw new Error(e);return a}));return await n.dispatch(d.store).__experimentalBatch(a)};function H(e){return(e.innerBlocks||[]).flatMap(((t,n)=>[{block:t,parentBlock:e,childIndex:n}].concat(H(t))))}function U(e){return H(e).map((e=>{let{block:t}=e;return t}))}function $(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{...t(e,n,a),innerBlocks:(e.innerBlocks||[]).map(((n,a)=>$(n,t,e,a)))}}function Y(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}const q=(0,u.createReduxStore)(F,{reducer:y,selectors:t,resolvers:e,actions:r});function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W.apply(this,arguments)}(0,u.register)(q);var J=window.wp.hooks,K=window.wp.compose,Q=window.wp.blockEditor;function X(){return(0,l.createElement)(Q.InnerBlocks.ButtonBlockAppender,{isToggle:!0})}function Z(e){let{blockEdit:t,...n}=e;const a=n.clientId,{noBlockSelected:r,isSelected:i,isImmediateParentOfSelectedBlock:o,selectedBlockHasDescendants:s}=(0,u.useSelect)((e=>{var t;const{getClientIdsOfDescendants:n,hasSelectedInnerBlock:r,getSelectedBlockClientId:i}=e(Q.store),o=r(a,!1),l=i(),s=!(null===(t=n([l]))||void 0===t||!t.length);return{isSelected:l===a,noBlockSelected:!l,isImmediateParentOfSelectedBlock:o,selectedBlockHasDescendants:s}}),[a]),c=!!(r||i||o&&!s)&&X;return(0,l.createElement)(t,W({},n,{customAppender:c}))}const ee=(0,K.createHigherOrderComponent)((e=>t=>"core/navigation"!==t.name?(0,l.createElement)(e,t):(0,l.createElement)(Z,W({blockEdit:e},t))),"withNavigationEditorCustomAppender");var te=window.wp.components,ne=window.wp.primitives,ae=(0,l.createElement)(ne.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)(ne.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));function re(e){const{editEntityRecord:t}=(0,u.useDispatch)(d.store),n=[p,v,e],{editedMenu:a,hasLoadedEditedMenu:r}=(0,u.useSelect)((t=>({editedMenu:e&&t(d.store).getEditedEntityRecord(...n),hasLoadedEditedMenu:t(d.store).hasFinishedResolution("getEditedEntityRecord",[...n])})),[e]);return{editedMenu:a,menuEntityData:n,editMenuEntityRecord:t,hasLoadedEditedMenu:r}}function ie(e,t){return(0,d.useEntityProp)(p,v,e,t)}const oe=e=>{const t=e("core"),n={per_page:-1};return{menus:t.getMenus(n),hasLoadedMenus:t.hasFinishedResolution("getMenus",[n])}};var le=window.wp.dom,se=window.wp.preferences;function ce(){var e;const t=null!==(e=(0,u.useSelect)((e=>e(se.store).get("core/edit-navigation","selectedMenuId")),[]))&&void 0!==e?e:null,{set:n}=(0,u.useDispatch)(se.store);return[t,(0,l.useCallback)((e=>n("core/edit-navigation","selectedMenuId",e)),[n])]}var ue=window.wp.apiFetch,de=n.n(ue);const me=(e,t)=>Object.values(e).filter((e=>{let{menu:n}=e;return n===t})).map((e=>{let{name:t}=e;return t}));var pe=()=>(0,u.useSelect)((e=>{const{getBlockOrder:t}=e(Q.store),n=t()[0];return{navBlockClientId:n,lastNavBlockItemIndex:t(n).length}}),[]);const ve=(0,m.__)("(untitled menu)"),ge=(0,l.createContext)();function he(e){const{menuItems:t,hasResolvedMenuItems:n=!1}=(0,u.useSelect)((t=>{if(!e)return{};const{getMenuItems:n,hasFinishedResolution:a}=t(d.store),r={menus:e,per_page:-1};return{menuItems:n(r),hasResolvedMenuItems:a("getMenuItems",[r])}}),[e]);return{menuItems:t,hasResolvedMenuItems:n}}const _e={variant:"tertiary"},fe={position:"bottom center"};var Ee=(0,l.forwardRef)((function(e,t){let{onCreate:n}=e;const[a,r]=(0,l.useState)(),[i,o]=(0,l.useState)(!1),[c]=ce(),[u]=ie("name",c),{isResolvingPages:p,menus:v,isResolvingMenus:g,menuItems:h,hasResolvedMenuItems:_,pages:f,hasPages:E,hasMenus:b}=function(e){const{records:t,isResolving:n,hasResolved:a}=(0,d.useEntityRecords)("root","menu",[{per_page:-1}]),{records:r,isResolving:i,hasResolved:o}=(0,d.useEntityRecords)("postType","page",{parent:0,order:"asc",orderby:"id",per_page:-1});return{pages:r,isResolvingPages:i,hasResolvedPages:o,hasPages:!(!o||null==r||!r.length),menus:t,isResolvingMenus:n,hasResolvedMenus:a,hasMenus:!(!a||null==t||!t.length),...he(e)}}(a),y=p||g,w=(0,l.useCallback)((()=>{const{innerBlocks:e}=I(h);n(e,!0)}),[h,I,n]);(0,l.useEffect)((()=>{i&&_&&(w(),o(!1))}),[i,_]);const k=null==v?void 0:v.filter((e=>e.id!==c)),S=!(null==k||!k.length);return(0,l.createElement)(te.Placeholder,{className:"edit-navigation-block-placeholder",label:u,instructions:(0,m.__)("This menu is empty. You can start blank and choose what to add, add your existing pages, or add the content of another menu.")},(0,l.createElement)("div",{className:"edit-navigation-block-placeholder__controls"},y&&(0,l.createElement)("div",{ref:t},(0,l.createElement)(te.Spinner,null)),!y&&(0,l.createElement)("div",{ref:t,className:"edit-navigation-block-placeholder__actions"},(0,l.createElement)(te.Button,{variant:"tertiary",onClick:()=>{n([])}},(0,m.__)("Start blank")),E?(0,l.createElement)(te.Button,{variant:b?"tertiary":"primary",onClick:()=>{const e=function(e){return null!=e&&e.length?e.map((e=>{let{title:t,type:n,link:a,id:r}=e;return(0,s.createBlock)("core/navigation-link",{type:n,id:r,url:a,label:t.rendered?t.rendered:(0,m.__)("(no title)"),opensInNewTab:!1})})):null}(f);n(e,!0)}},(0,m.__)("Add all pages")):void 0,S?(0,l.createElement)(te.DropdownMenu,{text:(0,m.__)("Copy existing menu"),icon:ae,toggleProps:_e,popoverProps:fe},(e=>{let{onClose:t}=e;return(0,l.createElement)(te.MenuGroup,null,k.map((e=>(0,l.createElement)(te.MenuItem,{onClick:()=>{r(e.id),_?w():o(!0)},onClose:t,key:e.id},e.name))))})):void 0)))}));const be=(0,K.createHigherOrderComponent)((e=>t=>"core/navigation"!==t.name?(0,l.createElement)(e,t):(0,l.createElement)(e,W({},t,{customPlaceholder:Ee}))),"withNavigationEditorPlaceholder");var ye=n(4403),we=n.n(ye),ke=(0,l.createElement)(ne.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(ne.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),Se=(0,l.createElement)(ne.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(ne.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),Me=(0,l.createElement)(ne.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(ne.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),Ne=window.wp.viewport,Ie=(0,l.createElement)(ne.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(ne.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),Ce=window.wp.deprecated,Be=n.n(Ce);const Pe=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),xe=(e,t)=>n=>{let{registry:a,dispatch:r}=n;t&&(a.select(se.store).get(e,"isComplementaryAreaVisible")||a.dispatch(se.store).set(e,"isComplementaryAreaVisible",!0),r({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},Re=e=>t=>{let{registry:n}=t;n.select(se.store).get(e,"isComplementaryAreaVisible")&&n.dispatch(se.store).set(e,"isComplementaryAreaVisible",!1)},Ae=(e,t)=>n=>{let{registry:a}=n;if(!t)return;const r=a.select(se.store).get(e,"pinnedItems");!0!==(null==r?void 0:r[t])&&a.dispatch(se.store).set(e,"pinnedItems",{...r,[t]:!0})},De=(e,t)=>n=>{let{registry:a}=n;if(!t)return;const r=a.select(se.store).get(e,"pinnedItems");a.dispatch(se.store).set(e,"pinnedItems",{...r,[t]:!1})};function Le(e,t){return function(n){let{registry:a}=n;Be()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),a.dispatch(se.store).toggle(e,t)}}function Te(e,t,n){return function(a){let{registry:r}=a;Be()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),r.dispatch(se.store).set(e,t,!!n)}}function Fe(e,t){return function(n){let{registry:a}=n;Be()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),a.dispatch(se.store).setDefaults(e,t)}}const Oe=(0,u.createRegistrySelector)((e=>(t,n)=>{var a;const r=e(se.store).get(n,"isComplementaryAreaVisible");if(void 0!==r)return r?null==t||null===(a=t.complementaryAreas)||void 0===a?void 0:a[n]:null})),Ve=(0,u.createRegistrySelector)((e=>(t,n,a)=>{var r;const i=e(se.store).get(n,"pinnedItems");return null===(r=null==i?void 0:i[a])||void 0===r||r})),ze=(0,u.createRegistrySelector)((e=>(t,n,a)=>(Be()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(se.store).get(n,a))));var Ge=(0,u.combineReducers)({complementaryAreas:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:a}=t;return e[n]?e:{...e,[n]:a}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:a}=t;return{...e,[n]:a}}}return e}});const je=(0,u.createReduxStore)("core/interface",{reducer:Ge,actions:i,selectors:o});(0,u.register)(je);var He=window.wp.plugins,Ue=(0,He.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`}))),$e=Ue((function(e){let{as:t=te.Button,scope:n,identifier:a,icon:r,selectedIcon:i,name:o,...s}=e;const c=t,d=(0,u.useSelect)((e=>e(je).getActiveComplementaryArea(n)===a),[a]),{enableComplementaryArea:m,disableComplementaryArea:p}=(0,u.useDispatch)(je);return(0,l.createElement)(c,W({icon:i&&d?i:r,onClick:()=>{d?p(n):m(n,a)}},s))})),Ye=e=>{let{smallScreenTitle:t,children:n,className:a,toggleButtonProps:r}=e;const i=(0,l.createElement)($e,W({icon:Ie},r));return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},t&&(0,l.createElement)("span",{className:"interface-complementary-area-header__small-title"},t),i),(0,l.createElement)("div",{className:we()("components-panel__header","interface-complementary-area-header",a),tabIndex:-1},n,i))};const qe=()=>{};function We(e){let{name:t,as:n=te.Button,onClick:a,...r}=e;return(0,l.createElement)(te.Fill,{name:t},(e=>{let{onClick:t}=e;return(0,l.createElement)(n,W({onClick:a||t?function(){(a||qe)(...arguments),(t||qe)(...arguments)}:void 0},r))}))}We.Slot=function(e){let{name:t,as:n=te.ButtonGroup,fillProps:a={},bubblesVirtually:r,...i}=e;return(0,l.createElement)(te.Slot,{name:t,bubblesVirtually:r,fillProps:a},(e=>{if(!l.Children.toArray(e).length)return null;const t=[];l.Children.forEach(e,(e=>{let{props:{__unstableExplicitMenuItem:n,__unstableTarget:a}}=e;a&&n&&t.push(a)}));const a=l.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&t.includes(e.props.__unstableTarget)?null:e));return(0,l.createElement)(n,i,a)}))};var Je=We;const Ke=e=>{let{__unstableExplicitMenuItem:t,__unstableTarget:n,...a}=e;return(0,l.createElement)(te.MenuItem,a)};function Qe(e){let{scope:t,target:n,__unstableExplicitMenuItem:a,...r}=e;return(0,l.createElement)($e,W({as:e=>(0,l.createElement)(Je,W({__unstableExplicitMenuItem:a,__unstableTarget:`${t}/${n}`,as:Ke,name:`${t}/plugin-more-menu`},e)),role:"menuitemcheckbox",selectedIcon:ke,name:n,scope:t},r))}function Xe(e){let{scope:t,...n}=e;return(0,l.createElement)(te.Fill,W({name:`PinnedItems/${t}`},n))}Xe.Slot=function(e){let{scope:t,className:n,...a}=e;return(0,l.createElement)(te.Slot,W({name:`PinnedItems/${t}`},a),(e=>(null==e?void 0:e.length)>0&&(0,l.createElement)("div",{className:we()(n,"interface-pinned-items")},e)))};var Ze=Xe;function et(e){let{scope:t,children:n,className:a}=e;return(0,l.createElement)(te.Fill,{name:`ComplementaryArea/${t}`},(0,l.createElement)("div",{className:a},n))}const tt=Ue((function(e){let{children:t,className:n,closeLabel:a=(0,m.__)("Close plugin"),identifier:r,header:i,headerClassName:o,icon:s,isPinnable:c=!0,panelClassName:d,scope:p,name:v,smallScreenTitle:g,title:h,toggleShortcut:_,isActiveByDefault:f,showIconLabels:E=!1}=e;const{isActive:b,isPinned:y,activeArea:w,isSmall:k,isLarge:S}=(0,u.useSelect)((e=>{const{getActiveComplementaryArea:t,isItemPinned:n}=e(je),a=t(p);return{isActive:a===r,isPinned:n(p,r),activeArea:a,isSmall:e(Ne.store).isViewportMatch("< medium"),isLarge:e(Ne.store).isViewportMatch("large")}}),[r,p]);!function(e,t,n,a,r){const i=(0,l.useRef)(!1),o=(0,l.useRef)(!1),{enableComplementaryArea:s,disableComplementaryArea:c}=(0,u.useDispatch)(je);(0,l.useEffect)((()=>{a&&r&&!i.current?(c(e),o.current=!0):o.current&&!r&&i.current?(o.current=!1,s(e,t)):o.current&&n&&n!==t&&(o.current=!1),r!==i.current&&(i.current=r)}),[a,r,e,t,n])}(p,r,w,b,k);const{enableComplementaryArea:M,disableComplementaryArea:N,pinItem:I,unpinItem:C}=(0,u.useDispatch)(je);return(0,l.useEffect)((()=>{f&&void 0===w&&!k&&M(p,r)}),[w,f,p,r,k]),(0,l.createElement)(l.Fragment,null,c&&(0,l.createElement)(Ze,{scope:p},y&&(0,l.createElement)($e,{scope:p,identifier:r,isPressed:b&&(!E||S),"aria-expanded":b,label:h,icon:E?ke:s,showTooltip:!E,variant:E?"tertiary":void 0})),v&&c&&(0,l.createElement)(Qe,{target:v,scope:p,icon:s},h),b&&(0,l.createElement)(et,{className:we()("interface-complementary-area",n),scope:p},(0,l.createElement)(Ye,{className:o,closeLabel:a,onClose:()=>N(p),smallScreenTitle:g,toggleButtonProps:{label:a,shortcut:_,scope:p,identifier:r}},i||(0,l.createElement)(l.Fragment,null,(0,l.createElement)("strong",null,h),c&&(0,l.createElement)(te.Button,{className:"interface-complementary-area__pin-unpin-item",icon:y?Se:Me,label:y?(0,m.__)("Unpin from toolbar"):(0,m.__)("Pin to toolbar"),onClick:()=>(y?C:I)(p,r),isPressed:y,"aria-expanded":y}))),(0,l.createElement)(te.Panel,{className:d},t)))}));tt.Slot=function(e){let{scope:t,...n}=e;return(0,l.createElement)(te.Slot,W({name:`ComplementaryArea/${t}`},n))};var nt=tt;function at(e){let{children:t,className:n,ariaLabel:a,as:r="div",...i}=e;return(0,l.createElement)(r,W({className:we()("interface-navigable-region",n),"aria-label":a,role:"region",tabIndex:"-1"},i),t)}var rt=(0,l.forwardRef)((function(e,t){let{isDistractionFree:n,footer:a,header:r,editorNotices:i,sidebar:o,secondarySidebar:s,notices:c,content:u,actions:d,labels:p,className:v,enableRegionNavigation:g=!0,shortcuts:h}=e;const _=(0,te.__unstableUseNavigateRegions)(h);!function(e){(0,l.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const f={
/* translators: accessibility text for the top bar landmark region. */
header:(0,m.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:(0,m.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,m.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,m.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,m.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,m.__)("Footer"),...p},E={hidden:n?{opacity:0}:{opacity:1},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}}};return(0,l.createElement)("div",W({},g?_:{},{ref:(0,K.useMergeRefs)([t,g?_.ref:void 0]),className:we()(v,"interface-interface-skeleton",_.className,!!a&&"has-footer")}),(0,l.createElement)("div",{className:"interface-interface-skeleton__editor"},!!r&&n&&(0,l.createElement)(at,{as:te.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":f.header,initial:n?"hidden":"hover",whileHover:"hover",variants:E,transition:{type:"tween",delay:.8}},r),!!r&&!n&&(0,l.createElement)(at,{className:"interface-interface-skeleton__header",ariaLabel:f.header},r),n&&(0,l.createElement)("div",{className:"interface-interface-skeleton__header"},i),(0,l.createElement)("div",{className:"interface-interface-skeleton__body"},!!s&&(0,l.createElement)(at,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:f.secondarySidebar},s),!!c&&(0,l.createElement)("div",{className:"interface-interface-skeleton__notices"},c),(0,l.createElement)(at,{className:"interface-interface-skeleton__content",ariaLabel:f.body},u),!!o&&(0,l.createElement)(at,{className:"interface-interface-skeleton__sidebar",ariaLabel:f.sidebar},o),!!d&&(0,l.createElement)(at,{className:"interface-interface-skeleton__actions",ariaLabel:f.actions},d))),!!a&&(0,l.createElement)(at,{className:"interface-interface-skeleton__footer",ariaLabel:f.footer},a))})),it=(0,l.createElement)(ne.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(ne.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function ot(e){let{as:t=te.DropdownMenu,className:n,label:
/* translators: button label text should, if possible, be under 16 characters. */
a=(0,m.__)("Options"),popoverProps:r,toggleProps:i,children:o}=e;return(0,l.createElement)(t,{className:we()("interface-more-menu-dropdown",n),icon:it,label:a,popoverProps:{position:"bottom left",...r,className:we()("interface-more-menu-dropdown__content",null==r?void 0:r.className)},toggleProps:{tooltipPosition:"bottom",...i}},(e=>o(e)))}var lt=window.wp.htmlEntities;function st(){const{enableComplementaryArea:e}=(0,u.useDispatch)(je),[t]=ce(),[n]=ie("name",t),[,a]=(0,l.useContext)(ge),r=(0,lt.decodeEntities)(null!=n?n:ve);return(0,l.createElement)(Q.BlockControls,null,(0,l.createElement)(te.ToolbarGroup,null,(0,l.createElement)(te.ToolbarButton,{"aria-label":(0,m.sprintf)(// translators: %s: the name of a menu.
(0,m.__)("Edit menu name: %s"),r),onClick:()=>{e(_,f),a(!0)}},(0,l.createElement)(te.__experimentalText,{limit:24,ellipsizeMode:"tail",truncate:!0},r))))}const ct=(0,K.createHigherOrderComponent)((e=>t=>"core/navigation"!==t.name?(0,l.createElement)(e,t):(0,l.createElement)(l.Fragment,null,(0,l.createElement)(st,null),(0,l.createElement)(e,t))),"withMenuName");function ut(e,t){return["core/navigation","core/navigation-link","core/navigation-submenu"].includes(t)||(0,N.set)(e,["supports","inserter"],!1),e}const dt=(0,K.createHigherOrderComponent)((e=>t=>"core/navigation"!==t.name?(0,l.createElement)(e,t):(0,l.createElement)(e,W({},t,{hasSubmenuIndicatorSetting:!1,hasItemJustificationControls:!1,hasColorSettings:!1}))),"removeNavigationBlockEditUnsupportedFeatures");function mt(e,t){return"core/navigation"!==t?e:{...e,supports:{customClassName:!1,html:!1,inserter:!0},variations:void 0}}var pt=window.wp.keyboardShortcuts,vt=(0,te.withNotices)((function(e){let{className:t,onCreate:n,titleText:a,helpText:r,focusInputOnMount:i=!1,noticeUI:o,noticeOperations:s}=e;const c=(0,K.useFocusOnMount)(i),[g,h]=(0,l.useState)(""),[_,f]=(0,l.useState)(!1),{createInfoNotice:E}=(0,u.useDispatch)(T.store),{saveMenu:b}=(0,u.useDispatch)(d.store),{createErrorNotice:y,removeAllNotices:w}=s,k=(0,u.useSelect)((e=>e(d.store).getLastEntitySaveError(p,v)),[]);return(0,l.useEffect)((()=>{k&&y((0,le.__unstableStripHTML)(null==k?void 0:k.message))}),[k]),(0,l.createElement)("form",{className:we()("edit-navigation-add-menu",t),onSubmit:async e=>{if(e.preventDefault(),!g.length||_)return;f(!0),w();const t=await b({name:g});f(!1),t&&(E((0,m.__)("Menu created"),{type:"snackbar",isDismissible:!0}),n&&n(t.id))}},o,a&&(0,l.createElement)("h3",{className:"edit-navigation-add-menu__title"},a),(0,l.createElement)(te.TextControl,{ref:c,label:(0,m.__)("Menu name"),value:g,onChange:h,help:r}),(0,l.createElement)(te.Button,{className:"edit-navigation-add-menu__create-menu-button",type:"submit",variant:"primary",disabled:!g.length,isBusy:_,"aria-disabled":!g.length||_},(0,m.__)("Create menu")))}));const gt=()=>{};function ht(e){let{menus:t,selectedMenuId:n,onSelectMenu:a=gt}=e;const[r,i]=(0,l.useState)(!1),o=()=>i(!1);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(te.MenuGroup,null,(0,l.createElement)(te.MenuItemsChoice,{value:n,onSelect:a,choices:t.map((e=>{let{id:t,name:n}=e;return{value:t,label:(0,lt.decodeEntities)(n),"aria-label":(0,m.sprintf)(
/* translators: %s: The name of a menu. */
(0,m.__)("Switch to '%s'"),n)}}))})),(0,l.createElement)(te.MenuGroup,{hideSeparator:!0},(0,l.createElement)(te.MenuItem,{className:"edit-navigation-menu-switcher__new-button",onClick:()=>i(!0)},(0,m.__)("Create a new menu")),r&&(0,l.createElement)(te.Modal,{title:(0,m.__)("Create a new menu"),className:"edit-navigation-menu-switcher__modal",onRequestClose:o},(0,l.createElement)(vt,{onCreate:e=>{o(),a(e)},helpText:(0,m.__)("A short descriptive name for your menu.")}))))}function _t(e){let{onCreate:t,onSelectMenu:n,menus:a}=e;const r=(null==a?void 0:a.length)>0;return(0,l.createElement)("div",{className:"edit-navigation-empty-state"},r&&(0,l.createElement)("h4",null,(0,m.__)("Choose a menu to edit:")),(0,l.createElement)(te.Card,null,(0,l.createElement)(te.CardBody,null,r?(0,l.createElement)(te.NavigableMenu,null,(0,l.createElement)(ht,{onSelectMenu:n,menus:a})):(0,l.createElement)(vt,{onCreate:t,titleText:(0,m.__)("Create your first menu"),helpText:(0,m.__)("A short descriptive name for your menu."),focusInputOnMount:!0}))))}class ft extends l.Component{constructor(){super(...arguments),this.reboot=this.reboot.bind(this),this.state={error:null}}componentDidCatch(e){this.setState({error:e})}reboot(){this.props.onError&&this.props.onError()}render(){const{error:e}=this.state;return e?(0,l.createElement)(Q.Warning,{className:"navigation-editor-error-boundary",actions:[(0,l.createElement)(te.Button,{key:"recovery",onClick:this.reboot,variant:"secondary"},(0,m.__)("Attempt Recovery"))]},(0,m.__)("The navigation editor has encountered an unexpected error.")):this.props.children}}var Et=ft,bt=window.wp.keycodes;function yt(e){let{saveBlocks:t}=e;(0,pt.useShortcut)("core/edit-navigation/save-menu",(e=>{e.preventDefault(),t()}));const{redo:n,undo:a}=(0,u.useDispatch)(d.store);return(0,pt.useShortcut)("core/edit-navigation/undo",(e=>{a(),e.preventDefault()})),(0,pt.useShortcut)("core/edit-navigation/redo",(e=>{n(),e.preventDefault()})),null}yt.Register=function(){const{registerShortcut:e}=(0,u.useDispatch)(pt.store);return(0,l.useEffect)((()=>{e({name:"core/edit-navigation/save-menu",category:"global",description:(0,m.__)("Save the navigation currently being edited."),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/edit-navigation/undo",category:"global",description:(0,m.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-navigation/redo",category:"global",description:(0,m.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"},aliases:(0,bt.isAppleOS)()?[]:[{modifier:"primary",character:"y"}]})}),[e]),null};var wt=yt,kt=(0,l.createElement)(ne.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(ne.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));function St(e){let{sidebarName:t}=e;const{enableComplementaryArea:n}=(0,u.useDispatch)(je),[a,r]=t===f?// translators: ARIA label for the Menu sidebar tab, selected.
[(0,m.__)("Menu (selected)"),"is-active"]:// translators: ARIA label for the Menu Settings Sidebar tab, not selected.
[(0,m.__)("Menu"),""],[i,o]=t===E?// translators: ARIA label for the Block Settings Sidebar tab, selected.
[(0,m.__)("Block (selected)"),"is-active"]:// translators: ARIA label for the Block Settings Sidebar tab, not selected.
[(0,m.__)("Block"),""];return(0,l.createElement)("ul",null,(0,l.createElement)("li",null,(0,l.createElement)(te.Button,{onClick:()=>n(_,f),className:`edit-navigation-sidebar__panel-tab ${r}`,"aria-label":a,"data-label":(0,m.__)("Menu")},// translators: Text label for the Menu Settings Sidebar tab.
(0,m.__)("Menu"))),(0,l.createElement)("li",null,(0,l.createElement)(te.Button,{onClick:()=>n(_,E),className:`edit-navigation-sidebar__panel-tab ${o}`,"aria-label":i,"data-label":(0,m.__)("Block")},// translators: Text label for the Block Settings Sidebar tab.
(0,m.__)("Block"))))}function Mt(){const[e,t]=(0,l.useContext)(ge),[n]=ce(),[a,r]=ie("name",n),i=(0,l.useRef)();return(0,l.useEffect)((()=>{e&&i.current.focus()}),[e]),(0,l.createElement)(te.TextControl,{ref:i,help:(0,m.__)("A short, descriptive name used to refer to this menu elsewhere."),label:(0,m.__)("Name"),onBlur:()=>t(!1),className:"edit-navigation-name-editor__text-control",value:(0,lt.decodeEntities)(a||""),onChange:r})}function Nt(e){let{menuId:t}=e;const[n,a]=ie("auto_add",t);return(0,l.createElement)(te.ToggleControl,{label:(0,m.__)("Add new pages"),help:(0,m.__)("Automatically add published top-level pages to this menu."),checked:null!=n&&n,onChange:a})}function It(e){let{menuId:t}=e;return(0,l.createElement)(te.PanelBody,{title:(0,m.__)("Menu settings")},(0,l.createElement)(Mt,null),(0,l.createElement)(Nt,{menuId:t}))}function Ct(e){let{menus:t,selectedMenuId:n,onSelectMenu:a}=e;const{menuLocations:r,assignMenuToLocation:i,toggleMenuLocationAssignment:o}=function(){const[e,t]=(0,l.useState)(null),[n]=ce(),{editMenuEntityRecord:a,menuEntityData:r}=re(n);(0,l.useEffect)((()=>{let e=!0;return(async()=>{const n=await de()({method:"GET",path:"/wp/v2/menu-locations"});e&&t(n)})(),()=>e=!1}),[]);const i=(0,l.useCallback)((async(n,i)=>{const o=e[n].menu,l=(0,N.merge)(e,{[n]:{menu:i}});t(l),a(...r,{locations:me(l,i||o)})}),[e]);return{menuLocations:(0,l.useMemo)((()=>Object.values(e||{})),[e]),assignMenuToLocation:i,toggleMenuLocationAssignment:(t,n)=>{const a=e[t].menu===n?0:n;i(t,a)}}}(),[s,c]=(0,l.useState)(!1),d=()=>c(!1),{createSuccessNotice:p,createErrorNotice:v}=(0,u.useDispatch)(T.store);if(!r||null==t||!t.length)return(0,l.createElement)(te.Spinner,null);if(!r.length)return(0,l.createElement)(te.PanelBody,{title:(0,m.__)("Theme locations")},(0,l.createElement)("p",null,(0,m.__)("There are no available menu locations.")));const g=(0,m.sprintf)(// translators: Number of available theme locations.
(0,m.__)("Your current theme provides %d different locations to place menu."),r.length),h=(0,m.sprintf)(// translators: Number of available theme locations.
(0,m.__)("Your current theme supports %d different locations. Select which menu appears in each location."),r.length),_=r.map((e=>{let{name:a,description:r,menu:i}=e;const s=t.filter((e=>{let{id:t}=e;return![0,n].includes(t)})).find((e=>{let{id:t}=e;return t===i}));return(0,l.createElement)("li",{key:a,className:"edit-navigation-manage-locations__checklist-item"},(0,l.createElement)(te.CheckboxControl,{className:"edit-navigation-manage-locations__menu-location-checkbox",checked:i===n,onChange:()=>o(a,n),label:r,help:s&&(0,m.sprintf)(// translators: menu name.
(0,m.__)("Currently using %s"),(0,lt.decodeEntities)(s.name))}))})),f=r.map((e=>(0,l.createElement)("div",{key:e.name,className:"edit-navigation-manage-locations__menu-entry"},(0,l.createElement)(te.SelectControl,{key:e.name,className:"edit-navigation-manage-locations__select-menu",label:e.description,labelPosition:"top",value:(0,lt.decodeEntities)(e.menu),options:[{value:0,label:(0,m.__)("Select a Menu"),key:0},...t.map((e=>{let{id:t,name:n}=e;return{key:t,value:t,label:(0,lt.decodeEntities)(n)}}))],onChange:t=>{i(e.name,Number(t))}}),(0,l.createElement)(te.Button,{variant:"secondary",style:{visibility:e.menu?"visible":"hidden"},className:"edit-navigation-manage-locations__edit-button",onClick:()=>(d(),a(e.menu))},(0,m.__)("Edit")))));return(0,l.createElement)(te.PanelBody,{title:(0,m.__)("Theme locations")},(0,l.createElement)("div",{className:"edit-navigation-manage-locations__theme-location-text-main"},g),(0,l.createElement)("ul",{className:"edit-navigation-manage-locations__checklist"},_),(0,l.createElement)(te.Button,{variant:"secondary",className:"edit-navigation-manage-locations__open-menu-locations-modal-button","aria-expanded":s,onClick:()=>c(!0)},(0,m.__)("Manage locations")),s&&(0,l.createElement)(te.Modal,{className:"edit-navigation-manage-locations__modal",title:(0,m.__)("Manage locations"),onRequestClose:d},(0,l.createElement)("div",{className:"edit-navigation-manage-locations__theme-location-text-modal"},h),f,(0,l.createElement)(te.Button,{className:"edit-navigation-manage-locations__save-button",variant:"primary",onClick:async()=>{const e="POST",n=t.map((t=>{let{id:n}=t;const a=r.filter((e=>e.menu===n)).map((e=>e.name));return{path:`/wp/v2/menus/${n}`,body:{locations:a},method:e}}));var a;if(!(a=await de()({path:"batch/v1",data:{validation:"require-all-validate",requests:n},method:e})).failed&&1>a.responses.filter((e=>200>e.status||300<=e.status)).length)return p((0,m.__)("Menu locations have been updated."),{type:"snackbar"}),void d();v((0,m.__)("An error occurred while trying to update menu locations."),{type:"snackbar"})}},(0,m.__)("Update"))))}function Bt(e){let{onDeleteMenu:t,isMenuBeingDeleted:n}=e;const[a,r]=(0,l.useState)(!1);return(0,l.createElement)(te.PanelBody,null,(0,l.createElement)(l.Fragment,null,(0,l.createElement)(te.Button,{className:"edit-navigation-inspector-additions__delete-menu-button",variant:"secondary",isDestructive:!0,isBusy:n,onClick:()=>{r(!0)}},(0,m.__)("Delete menu")),(0,l.createElement)(te.__experimentalConfirmDialog,{isOpen:a,onConfirm:()=>{r(!1),t()},onCancel:()=>r(!1)},(0,m.__)("Are you sure you want to delete this navigation? This action cannot be undone."))))}function Pt(e){let{menuId:t,menus:n,isMenuBeingDeleted:a,onDeleteMenu:r,onSelectMenu:i}=e;const o=(0,K.useViewportMatch)("medium"),{sidebar:s,hasBlockSelection:c,hasSidebarEnabled:d}=(0,u.useSelect)((e=>{const t=e(je).getActiveComplementaryArea(_),n=[f,E].includes(t);return{sidebar:t,hasBlockSelection:!!e(Q.store).getBlockSelectionStart(),hasSidebarEnabled:n}}),[]),{enableComplementaryArea:p}=(0,u.useDispatch)(je);(0,l.useEffect)((()=>{d&&p(_,c?E:f)}),[c,d]);let v=s;return d||(v=c?E:f),(0,l.createElement)(nt,{className:"edit-navigation-sidebar"
/* translators: button label text should, if possible, be under 16 characters. */,title:(0,m.__)("Settings"),closeLabel:(0,m.__)("Close settings"),scope:_,identifier:v,icon:kt,isActiveByDefault:o,header:(0,l.createElement)(St,{sidebarName:v}),headerClassName:"edit-navigation-sidebar__panel-tabs",isPinnable:!0},v===f&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(It,{menuId:t}),(0,l.createElement)(Ct,{menus:n,selectedMenuId:t,onSelectMenu:i}),(0,l.createElement)(Bt,{onDeleteMenu:r,isMenuBeingDeleted:a})),v===E&&(0,l.createElement)(Q.BlockInspector,null))}function xt(e){let{menus:t,isLoading:n}=e;const[a,r]=ce(),[i]=ie("name",a),[o,s]=(0,l.useState)(null),c=(0,l.useMemo)((()=>({className:"edit-navigation-menu-actions__switcher-dropdown",position:"bottom center",anchor:o})),[o]);return n?(0,l.createElement)("div",{className:"edit-navigation-menu-actions"},(0,m.__)("Loadingâ€¦")):(0,l.createElement)("div",{className:"edit-navigation-menu-actions"},(0,l.createElement)("div",{ref:s,className:"edit-navigation-menu-actions__subtitle-wrapper"},(0,l.createElement)(te.__experimentalText,{size:"body",className:"edit-navigation-menu-actions__subtitle",as:"h2",limit:24,ellipsizeMode:"tail",truncate:!0},(0,lt.decodeEntities)(i)),(0,l.createElement)(te.DropdownMenu,{icon:ae,toggleProps:{label:(0,m.__)("Switch menu"),className:"edit-navigation-menu-actions__switcher-toggle",showTooltip:!1,__experimentalIsFocusable:!0},popoverProps:c},(e=>{let{onClose:n}=e;return(0,l.createElement)(ht,{menus:t,selectedMenuId:a,onSelectMenu:e=>{r(e),n()}})}))))}function Rt(){const[e,t]=(0,l.useState)(!1),[,n]=ce();return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(te.Button,{variant:"tertiary",onClick:()=>t(!0)},(0,m.__)("New menu")),e&&(0,l.createElement)(te.Modal,{title:(0,m.__)("Create a new menu"),className:"edit-navigation-menu-switcher__modal",onRequestClose:()=>t(!1)},(0,l.createElement)(vt,{helpText:(0,m.__)("A short descriptive name for your menu."),onCreate:e=>{t(!1),n(e)}})))}function At(e){let{navigationPost:t}=e;const{isDirty:n}=(0,u.useSelect)((e=>{const{__experimentalGetDirtyEntityRecords:t}=e(d.store);return{isDirty:t().length>0}}),[]),{saveNavigationPost:a}=(0,u.useDispatch)(q),r=!n||!t;return(0,l.createElement)(te.Button,{className:"edit-navigation-toolbar__save-button",variant:"primary",onClick:()=>{a(t)},disabled:r},(0,m.__)("Save"))}var Dt=(0,l.createElement)(ne.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(ne.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})),Lt=(0,l.createElement)(ne.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(ne.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"}));function Tt(){const e=(0,u.useSelect)((e=>e(d.store).hasUndo()),[]),{undo:t}=(0,u.useDispatch)(d.store);return(0,l.createElement)(te.ToolbarButton,{icon:(0,m.isRTL)()?Lt:Dt,label:(0,m.__)("Undo"),shortcut:bt.displayShortcut.primary("z"),"aria-disabled":!e,onClick:e?t:void 0})}function Ft(){const e=(0,bt.isAppleOS)()?bt.displayShortcut.primaryShift("z"):bt.displayShortcut.primary("y"),t=(0,u.useSelect)((e=>e(d.store).hasRedo()),[]),{redo:n}=(0,u.useDispatch)(d.store);return(0,l.createElement)(te.ToolbarButton,{icon:(0,m.isRTL)()?Dt:Lt,label:(0,m.__)("Redo"),shortcut:e,"aria-disabled":!t,onClick:t?n:void 0})}var Ot=(0,l.createElement)(ne.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(ne.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),Vt=function(){const{navBlockClientId:e}=pe(),{isInserterOpened:t,hasInserterItems:n}=(0,u.useSelect)((t=>({hasInserterItems:t(Q.store).hasInserterItems(e),isInserterOpened:t(q).isInserterOpened()})),[e]),{setIsInserterOpened:a}=(0,u.useDispatch)(q);return(0,l.createElement)(te.ToolbarItem,{as:te.Button,className:"edit-navigation-header-inserter-toggle",variant:"primary",isPressed:t,onMouseDown:e=>{e.preventDefault()},onClick:()=>a(!t),icon:Ot
/* translators: button label text should, if possible, be under 16
    		characters. */,label:(0,m._x)("Toggle block inserter","Generic label for block inserter button"),disabled:!n})},zt=(0,l.createElement)(ne.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(ne.Path,{d:"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"}));const{Fill:Gt,Slot:jt}=(0,te.createSlotFill)("EditNavigationToolsMoreMenuGroup");Gt.Slot=e=>{let{fillProps:t}=e;return(0,l.createElement)(jt,{fillProps:t},(e=>e))};var Ht=Gt;function Ut(){return(0,l.createElement)(ot,null,(e=>(0,l.createElement)(te.MenuGroup,{label:(0,m.__)("Tools")},(0,l.createElement)(te.MenuItem,{role:"menuitem",icon:zt,href:"https://github.com/WordPress/gutenberg/tree/trunk/packages/edit-navigation/docs/user-documentation.md",target:"_blank",rel:"noopener noreferrer"},(0,m.__)("Help"),(0,l.createElement)(te.VisuallyHidden,{as:"span"},
/* translators: accessibility text */
(0,m.__)("(opens in a new tab)"))),(0,l.createElement)(Ht.Slot,{fillProps:{onClose:e}}))))}function $t(e){let{isMenuSelected:t,menus:n,isPending:a,navigationPost:r}=e;const i=(0,K.useViewportMatch)("medium");return t?(0,l.createElement)("div",{className:"edit-navigation-header"},(0,l.createElement)("div",{className:"edit-navigation-header__toolbar-wrapper"},i&&(0,l.createElement)("h1",{className:"edit-navigation-header__title"},(0,m.__)("Navigation")),(0,l.createElement)(Q.NavigableToolbar,{className:"edit-navigation-header__toolbar","aria-label":(0,m.__)("Document tools")},(0,l.createElement)(Vt,null),i&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(Tt,null),(0,l.createElement)(Ft,null)))),(0,l.createElement)(xt,{menus:n,isLoading:a}),(0,l.createElement)("div",{className:"edit-navigation-header__actions"},i&&(0,l.createElement)(Rt,null),(0,l.createElement)(At,{navigationPost:r}),(0,l.createElement)(Ze.Slot,{scope:"core/edit-navigation"}),(0,l.createElement)(Ut,null))):(0,l.createElement)("div",{className:"edit-navigation-header"},(0,l.createElement)("div",{className:"edit-navigation-header__toolbar-wrapper"},(0,l.createElement)("h1",{className:"edit-navigation-header__title"},(0,m.__)("Navigation"))))}function Yt(){const{removeNotice:e}=(0,u.useDispatch)(T.store),t=(0,u.useSelect)((e=>e(T.store).getNotices()),[]),n=t.filter((e=>{let{isDismissible:t,type:n}=e;return t&&"default"===n})),a=t.filter((e=>{let{isDismissible:t,type:n}=e;return!t&&"default"===n})),r=t.filter((e=>{let{type:t}=e;return"snackbar"===t}));return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(te.NoticeList,{notices:a,className:"edit-navigation-notices__notice-list"}),(0,l.createElement)(te.NoticeList,{notices:n,className:"edit-navigation-notices__notice-list",onRemove:e}),(0,l.createElement)(te.SnackbarList,{notices:r,className:"edit-navigation-notices__snackbar-list",onRemove:e}))}function qt(e){let{isPending:t}=e;return(0,l.createElement)("div",{className:"edit-navigation-editor"},t?(0,l.createElement)(te.Spinner,null):(0,l.createElement)("div",{className:"editor-styles-wrapper"},(0,l.createElement)(Q.WritingFlow,null,(0,l.createElement)(Q.ObserveTyping,null,(0,l.createElement)(Q.BlockList,null)))))}var Wt=(0,l.createElement)(ne.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(ne.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})),Jt=function(){const e=(0,K.useViewportMatch)("medium","<"),{navBlockClientId:t,lastNavBlockItemIndex:n}=pe(),{hasInserterItems:a,selectedBlockClientId:r}=(0,u.useSelect)((e=>{var n;return{hasInserterItems:e(Q.store).hasInserterItems(t),selectedBlockClientId:null===(n=e(Q.store).getSelectedBlock())||void 0===n?void 0:n.clientId}}),[t]),{setIsInserterOpened:i}=(0,u.useDispatch)(q),[o,s]=(0,K.__experimentalUseDialog)({onClose:()=>i(!1)});if(!a)return null;const c=!r||t===r;return(0,l.createElement)("div",W({ref:o},s,{className:"edit-navigation-layout__inserter-panel"}),(0,l.createElement)("div",{className:"edit-navigation-layout__inserter-panel-header"},(0,l.createElement)(te.Button,{icon:Wt,onClick:()=>i(!1)})),(0,l.createElement)("div",{className:"edit-navigation-layout__inserter-panel-content"},(0,l.createElement)(Q.__experimentalLibrary,{rootClientId:c?t:void 0,__experimentalInsertionIndex:c?n:void 0,shouldFocusBlock:e,showInserterHelpPanel:!1})))};function Kt(){const e=(0,u.useSelect)((e=>{const{__experimentalGetDirtyEntityRecords:t}=e(d.store);return t().length>0}),[]);return(0,l.useEffect)((()=>{const t=t=>{if(e)return t.returnValue=(0,m.__)("You have unsaved changes. If you proceed, they will be lost."),t.returnValue};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}}),[e]),null}const Qt={
/* translators: accessibility text for the navigation screen top bar landmark region. */
header:(0,m.__)("Navigation top bar"),
/* translators: accessibility text for the navigation screen content landmark region. */
body:(0,m.__)("Navigation menu blocks"),
/* translators: accessibility text for the navigation screen settings landmark region. */
sidebar:(0,m.__)("Navigation settings"),secondarySidebar:(0,m.__)("Block library")};function Xt(e){let{blockEditorSettings:t}=e;const n=(0,Q.__unstableUseBlockSelectionClearer)(),[a,r]=(0,l.useState)(!1),{saveNavigationPost:i}=(0,u.useDispatch)(q),{menus:o,hasLoadedMenus:s,hasFinishedInitialLoad:c,selectedMenuId:_,navigationPost:f,isMenuBeingDeleted:E,selectMenu:b,deleteMenu:y,isMenuSelected:w}=function(){var e;const{deleteMenu:t}=(0,u.useDispatch)(d.store),[n,a]=ce(),[r,i]=(0,l.useState)(!1),{editedMenu:o,hasLoadedEditedMenu:s}=re(n),{menus:c,hasLoadedMenus:p}=(0,u.useSelect)(oe,[]);(0,l.useEffect)((()=>{var e;!s||null!==(e=Object.keys(o))&&void 0!==e&&e.length||a(null)}),[s,o]);const{createErrorNotice:v,createInfoNotice:g}=(0,u.useDispatch)(T.store),h=(0,u.useSelect)((e=>e(d.store).isDeletingEntityRecord("root","menu",n)),[n]),_=(null==c||null===(e=c.find((e=>{let{id:t}=e;return t===n})))||void 0===e?void 0:e.name)||"";(0,l.useEffect)((()=>{p&&i(!0)}),[p]);const f=(0,u.useSelect)((e=>{if(n)return e(q).getNavigationPostForMenu(n)}),[n]);return{menus:c,hasLoadedMenus:p,hasFinishedInitialLoad:r,selectedMenuId:n,navigationPost:f,isMenuBeingDeleted:h,selectMenu:a,deleteMenu:async()=>{await t(n,{force:!0})?(a(null),g((0,m.sprintf)(// translators: %s: the name of a menu.
(0,m.__)('"%s" menu has been deleted'),_),{type:"snackbar",isDismissible:!0})):v((0,m.__)("Menu deletion unsuccessful"))},isMenuSelected:!!n}}(),[k,S,M]=(0,d.useEntityBlockEditor)(g,h,{id:null==f?void 0:f.id}),{hasSidebarEnabled:N,isInserterOpened:I}=(0,u.useSelect)((e=>({hasSidebarEnabled:!!e(je).getActiveComplementaryArea("core/edit-navigation"),isInserterOpened:e(q).isInserterOpened()})),[]);(0,l.useEffect)((()=>{!_&&null!=o&&o.length&&b(o[0].id)}),[_,o]),function(e){const{createErrorNotice:t}=(0,u.useDispatch)(T.store),n=(0,u.useSelect)((t=>t(d.store).getLastEntityDeleteError(p,v,e)),[e]);(0,l.useEffect)((()=>{n&&t((0,le.__unstableStripHTML)(null==n?void 0:n.message),{id:"edit-navigation-error"})}),[n])}(_);const C=!!(null!=o&&o.length&&f&&w);return(0,l.createElement)(Et,null,(0,l.createElement)(pt.ShortcutProvider,null,(0,l.createElement)("div",{hidden:!E,className:"edit-navigation-layout__overlay"}),(0,l.createElement)(te.SlotFillProvider,null,(0,l.createElement)(Q.BlockEditorKeyboardShortcuts.Register,null),(0,l.createElement)(wt.Register,null),(0,l.createElement)(wt,{saveBlocks:()=>i(f)}),(0,l.createElement)(Q.BlockEditorProvider,{value:k,onInput:S,onChange:M,settings:{...t,templateLock:"all"},useSubRegistry:!1},(0,l.createElement)(ge.Provider,{value:(0,l.useMemo)((()=>[a,r]),[a])},(0,l.createElement)(rt,{className:"edit-navigation-layout",labels:Qt,header:(0,l.createElement)($t,{isMenuSelected:w,isPending:!s,menus:o,navigationPost:f}),content:(0,l.createElement)(l.Fragment,null,(0,l.createElement)(Yt,null),!c&&(0,l.createElement)(te.Spinner,null),!w&&c&&(0,l.createElement)(_t,{onSelectMenu:b,onCreate:b,menus:o}),C&&(0,l.createElement)("div",{className:"edit-navigation-layout__content-area",ref:n},(0,l.createElement)(Q.BlockTools,null,(0,l.createElement)(qt,{isPending:!s})))),sidebar:N&&(0,l.createElement)(nt.Slot,{scope:"core/edit-navigation"}),secondarySidebar:I&&(0,l.createElement)(Jt,null)}),w&&(0,l.createElement)(Pt,{menus:o,menuId:_,onSelectMenu:b,onDeleteMenu:y,isMenuBeingDeleted:E})),(0,l.createElement)(Kt,null)),(0,l.createElement)(te.Popover.Slot,null),(0,l.createElement)(He.PluginArea,null))))}var Zt=window.wp.url;function en(e){const t=Object.keys(e).reduce(((t,n)=>(t[(0,Zt.normalizePath)(n)]=e[n],t)),{});let n=!1,a=!1;return(e,r)=>{var i,o;const{parse:l=!0}=e;if("string"!=typeof e.path)return r(e);if("GET"!==(e.method||"GET"))return r(e);const s=(0,Zt.normalizePath)(e.path);if(!n&&t[s])return n=!0,tn(t[s],l);if(a)return r(e);const c=s.match(/^\/wp\/v2\/menus\/(\d+)\?context=edit$/);if(!c)return r(e);const u=null===(i=Object.keys(t))||void 0===i?void 0:i[0],d=null===(o=t[u])||void 0===o?void 0:o.body;if(!d)return r(e);const m=parseInt(c[1]),p=d.filter((e=>{let{id:t}=e;return t===m}));return p.length>0?(a=!0,tn({body:p[0],headers:{}},l)):r(e)}}function tn(e,t){return Promise.resolve(t?e.body:new window.Response(JSON.stringify(e.body),{status:200,statusText:"OK",headers:e.headers}))}function nn(e){let{settings:t}=e;const{setIsInserterOpened:n}=(0,u.useDispatch)(q),a=n,r=(e,n)=>(n.perPage=10,(0,d.__experimentalFetchLinkSuggestions)(e,n,t)),i=(0,l.useMemo)((()=>({...t,__experimentalFetchLinkSuggestions:r,__experimentalSetIsInserterOpened:a,__experimentalFetchRichUrlData:d.__experimentalFetchUrlData})),[t,r,a]);return(0,l.createElement)(Xt,{blockEditorSettings:i})}function an(e,t){!function(e){var t;t=!e.blockNavMenus,(0,J.addFilter)("editor.BlockEdit","core/edit-navigation/with-navigation-editor-custom-appender",ee),(0,J.addFilter)("editor.BlockEdit","core/edit-navigation/with-navigation-editor-placeholder",be),(0,J.addFilter)("editor.BlockEdit","core/edit-navigation/with-menu-name",ct),t&&(0,J.addFilter)("blocks.registerBlockType","core/edit-navigation/disable-inserting-non-navigation-blocks",ut),(0,J.addFilter)("editor.BlockEdit","core/edit-navigation/remove-navigation-block-edit-unsupported-features",dt),(0,J.addFilter)("blocks.registerBlockType","core/edit-navigation/remove-navigation-block-settings-unsupported-features",mt),(0,u.dispatch)(d.store).addEntities([{kind:g,name:h,transientEdits:{blocks:!0,selection:!0},label:(0,m.__)("Navigation Post"),__experimentalNoFetch:!0}]),(0,u.dispatch)(s.store).__experimentalReapplyBlockTypeFilters(),(0,c.registerCoreBlocks)(),(0,c.__experimentalRegisterExperimentalCoreBlocks)()}(t),(0,l.render)((0,l.createElement)(nn,{settings:t}),document.getElementById(e))}}(),(window.wp=window.wp||{}).editNavigation=a}();
//# sourceMappingURL=index.min.js.map