window.wp=window.wp||{},window.wp.editNavigation=function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=503)}({0:function(e,t){e.exports=window.wp.element},1:function(e,t){e.exports=window.wp.i18n},10:function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var c=typeof a;if("string"===c||"number"===c)e.push(a);else if(Array.isArray(a)){if(a.length){var o=r.apply(null,a);o&&e.push(o)}}else if("object"===c)if(a.toString===Object.prototype.toString)for(var i in a)n.call(a,i)&&a[i]&&e.push(i);else e.push(a.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},12:function(e,t){e.exports=window.wp.coreData},123:function(e,t,n){"use strict";var a=n(0),r=n(6);const c=Object(a.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(r.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"}));t.a=c},140:function(e,t,n){"use strict";var a=n(0),r=n(6);const c=Object(a.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(r.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));t.a=c},197:function(e,t,n){"use strict";var a=n(0),r=n(6);const c=Object(a.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(r.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}));t.a=c},198:function(e,t,n){"use strict";var a=n(0),r=n(6);const c=Object(a.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(r.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"}));t.a=c},2:function(e,t){e.exports=window.lodash},207:function(e,t,n){"use strict";var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16);function c(){if(!a)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(r)}for(var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,i=function(e){return"string"==typeof e&&o.test(e)},s=[],l=0;l<256;++l)s.push((l+256).toString(16).substr(1));t.a=function(e,t,n){var a=(e=e||{}).random||(e.rng||c)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=a[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!i(n))throw TypeError("Stringified UUID is invalid");return n}(a)}},21:function(e,t){e.exports=window.wp.hooks},27:function(e,t){e.exports=window.wp.keyboardShortcuts},270:function(e,t,n){"use strict";var a=n(0),r=n(6);const c=Object(a.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(r.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));t.a=c},3:function(e,t){e.exports=window.wp.components},30:function(e,t,n){"use strict";n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return z})),n.d(t,"e",(function(){return H})),n.d(t,"f",(function(){return D})),n.d(t,"a",(function(){return L}));var a={};n.r(a),n.d(a,"enableComplementaryArea",(function(){return u})),n.d(a,"disableComplementaryArea",(function(){return d})),n.d(a,"pinItem",(function(){return b})),n.d(a,"unpinItem",(function(){return p}));var r={};n.r(r),n.d(r,"getActiveComplementaryArea",(function(){return O})),n.d(r,"isItemPinned",(function(){return j}));var c=n(4),o=n(2);const i=Object(c.combineReducers)({singleEnableItems:function(e={},{type:t,itemType:n,scope:a,item:r}){return"SET_SINGLE_ENABLE_ITEM"===t&&n&&a?{...e,[n]:{...e[n],[a]:r||null}}:e},multipleEnableItems:function(e={},{type:t,itemType:n,scope:a,item:r,isEnable:c}){if("SET_MULTIPLE_ENABLE_ITEM"!==t||!n||!a||!r||Object(o.get)(e,[n,a,r])===c)return e;const i=e[n]||{},s=i[a]||{};return{...e,[n]:{...i,[a]:{...s,[r]:c||!1}}}}});var s=Object(c.combineReducers)({enableItems:i});function l(e,t,n){return{type:"SET_SINGLE_ENABLE_ITEM",itemType:e,scope:t,item:n}}function u(e,t){return l("complementaryArea",e,t)}function d(e){return l("complementaryArea",e,void 0)}function m(e,t,n,a){return{type:"SET_MULTIPLE_ENABLE_ITEM",itemType:e,scope:t,item:n,isEnable:a}}function b(e,t){return m("pinnedItems",e,t,!0)}function p(e,t){return m("pinnedItems",e,t,!1)}function O(e,t){return function(e,t,n){return Object(o.get)(e.enableItems.singleEnableItems,["complementaryArea",n])}(e,0,t)}function j(e,t,n){return!1!==function(e,t,n,a){return Object(o.get)(e.enableItems.multipleEnableItems,["pinnedItems",n,a])}(e,0,t,n)}const g=Object(c.createReduxStore)("core/interface",{reducer:s,actions:a,selectors:r,persist:["enableItems"]});Object(c.registerStore)("core/interface",{reducer:s,actions:a,selectors:r,persist:["enableItems"]});var _=n(7),f=n(0),v=n(10),E=n.n(v),y=n(3),h=n(1),S=n(123),I=n(197),N=n(198),w=n(65),M=n(140),C=n(49),k=Object(C.withPluginContext)((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`})),T=k((function({as:e=y.Button,scope:t,identifier:n,icon:a,selectedIcon:r,...i}){const s=e,l=Object(c.useSelect)(e=>e(g).getActiveComplementaryArea(t)===n,[n]),{enableComplementaryArea:u,disableComplementaryArea:d}=Object(c.useDispatch)(g);return Object(f.createElement)(s,Object(_.a)({icon:r&&l?r:a,onClick:()=>{l?d(t):u(t,n)}},Object(o.omit)(i,["name"])))})),P=({smallScreenTitle:e,children:t,className:n,toggleButtonProps:a})=>{const r=Object(f.createElement)(T,Object(_.a)({icon:M.a},a));return Object(f.createElement)(f.Fragment,null,Object(f.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},e&&Object(f.createElement)("span",{className:"interface-complementary-area-header__small-title"},e),r),Object(f.createElement)("div",{className:E()("components-panel__header","interface-complementary-area-header",n),tabIndex:-1},t,r))};function x({name:e,as:t=y.Button,onClick:n,...a}){return Object(f.createElement)(y.Fill,{name:e},({onClick:e})=>Object(f.createElement)(t,Object(_.a)({onClick:n||e?(...t)=>{(n||o.noop)(...t),(e||o.noop)(...t)}:void 0},a)))}x.Slot=function({name:e,as:t=y.ButtonGroup,fillProps:n={},bubblesVirtually:a,...r}){return Object(f.createElement)(y.Slot,{name:e,bubblesVirtually:a,fillProps:n},e=>{if(Object(o.isEmpty)(f.Children.toArray(e)))return null;const n=[];f.Children.forEach(e,({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&n.push(t)});const a=f.Children.map(e,e=>!e.props.__unstableExplicitMenuItem&&n.includes(e.props.__unstableTarget)?null:e);return Object(f.createElement)(t,r,a)})};var L=x;const B=e=>Object(f.createElement)(y.MenuItem,Object(o.omit)(e,["__unstableExplicitMenuItem","__unstableTarget"]));function R({scope:e,target:t,__unstableExplicitMenuItem:n,...a}){return Object(f.createElement)(T,Object(_.a)({as:a=>Object(f.createElement)(L,Object(_.a)({__unstableExplicitMenuItem:n,__unstableTarget:`${e}/${t}`,as:B,name:e+"/plugin-more-menu"},a)),role:"menuitemcheckbox",selectedIcon:S.a,name:t,scope:e},a))}function A({scope:e,...t}){return Object(f.createElement)(y.Fill,Object(_.a)({name:"PinnedItems/"+e},t))}A.Slot=function({scope:e,className:t,...n}){return Object(f.createElement)(y.Slot,Object(_.a)({name:"PinnedItems/"+e},n),e=>!Object(o.isEmpty)(e)&&Object(f.createElement)("div",{className:E()(t,"interface-pinned-items")},e))};var D=A;function F({scope:e,children:t,className:n}){return Object(f.createElement)(y.Fill,{name:"ComplementaryArea/"+e},Object(f.createElement)("div",{className:n},t))}const G=k((function({children:e,className:t,closeLabel:n=Object(h.__)("Close plugin"),identifier:a,header:r,headerClassName:o,icon:i,isPinnable:s=!0,panelClassName:l,scope:u,name:d,smallScreenTitle:m,title:b,toggleShortcut:p,isActiveByDefault:O,showIconLabels:j=!1}){const{isActive:_,isPinned:v,activeArea:M,isSmall:C,isLarge:k}=Object(c.useSelect)(e=>{const{getActiveComplementaryArea:t,isItemPinned:n}=e(g),r=t(u);return{isActive:r===a,isPinned:n(u,a),activeArea:r,isSmall:e(w.store).isViewportMatch("< medium"),isLarge:e(w.store).isViewportMatch("large")}},[a,u]);!function(e,t,n,a,r){const o=Object(f.useRef)(!1),i=Object(f.useRef)(!1),{enableComplementaryArea:s,disableComplementaryArea:l}=Object(c.useDispatch)(g);Object(f.useEffect)(()=>{a&&r&&!o.current?(l(e),i.current=!0):i.current&&!r&&o.current?(i.current=!1,s(e,t)):i.current&&n&&n!==t&&(i.current=!1),r!==o.current&&(o.current=r)},[a,r,e,t,n])}(u,a,M,_,C);const{enableComplementaryArea:x,disableComplementaryArea:L,pinItem:B,unpinItem:A}=Object(c.useDispatch)(g);return Object(f.useEffect)(()=>{O&&void 0===M&&!C&&x(u,a)},[M,O,u,a,C]),Object(f.createElement)(f.Fragment,null,s&&Object(f.createElement)(D,{scope:u},v&&Object(f.createElement)(T,{scope:u,identifier:a,isPressed:_&&(!j||k),"aria-expanded":_,label:b,icon:j?S.a:i,showTooltip:!j,variant:j?"tertiary":void 0})),d&&s&&Object(f.createElement)(R,{target:d,scope:u,icon:i},b),_&&Object(f.createElement)(F,{className:E()("interface-complementary-area",t),scope:u},Object(f.createElement)(P,{className:o,closeLabel:n,onClose:()=>L(u),smallScreenTitle:m,toggleButtonProps:{label:n,shortcut:p,scope:u,identifier:a}},r||Object(f.createElement)(f.Fragment,null,Object(f.createElement)("strong",null,b),s&&Object(f.createElement)(y.Button,{className:"interface-complementary-area__pin-unpin-item",icon:v?I.a:N.a,label:v?Object(h.__)("Unpin from toolbar"):Object(h.__)("Pin to toolbar"),onClick:()=>(v?A:B)(u,a),isPressed:v,"aria-expanded":v}))),Object(f.createElement)(y.Panel,{className:l},e)))}));G.Slot=function({scope:e,...t}){return Object(f.createElement)(y.Slot,Object(_.a)({name:"ComplementaryArea/"+e},t))};var U=G,z=({isActive:e})=>(Object(f.useEffect)(()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}},[]),Object(f.useEffect)(()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")}),[e]),null),V=n(9),H=Object(f.forwardRef)((function({footer:e,header:t,sidebar:n,secondarySidebar:a,notices:r,content:c,drawer:o,actions:i,labels:s,className:l,shortcuts:u},d){const m=Object(f.useRef)(),b=Object(y.__unstableUseNavigateRegions)(m,u);!function(e){Object(f.useEffect)(()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}},[e])}("interface-interface-skeleton__html-container");const p={
/* translators: accessibility text for the nav bar landmark region. */
drawer:Object(h.__)("Drawer"),
/* translators: accessibility text for the top bar landmark region. */
header:Object(h.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:Object(h.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:Object(h.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:Object(h.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:Object(h.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:Object(h.__)("Footer"),...s};return Object(f.createElement)("div",{ref:Object(V.useMergeRefs)([d,m]),className:E()(l,"interface-interface-skeleton",b,!!e&&"has-footer")},!!o&&Object(f.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":p.drawer},o),Object(f.createElement)("div",{className:"interface-interface-skeleton__editor"},!!t&&Object(f.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":p.header,tabIndex:"-1"},t),Object(f.createElement)("div",{className:"interface-interface-skeleton__body"},!!a&&Object(f.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":p.secondarySidebar,tabIndex:"-1"},a),!!r&&Object(f.createElement)("div",{className:"interface-interface-skeleton__notices"},r),Object(f.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":p.body,tabIndex:"-1"},c),!!n&&Object(f.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":p.sidebar,tabIndex:"-1"},n),!!i&&Object(f.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":p.actions,tabIndex:"-1"},i))),!!e&&Object(f.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":p.footer,tabIndex:"-1"},e))}))},31:function(e,t){e.exports=window.wp.notices},34:function(e,t){e.exports=window.wp.apiFetch},4:function(e,t){e.exports=window.wp.data},49:function(e,t){e.exports=window.wp.plugins},5:function(e,t){e.exports=window.wp.blockEditor},503:function(e,t,n){"use strict";n.r(t),n.d(t,"initialize",(function(){return Be}));var a={};n.r(a),n.d(a,"getNavigationPostForMenu",(function(){return F}));var r={};n.r(r),n.d(r,"getSelectedMenuId",(function(){return z})),n.d(r,"getNavigationPostForMenu",(function(){return V})),n.d(r,"hasResolvedNavigationPost",(function(){return H})),n.d(r,"getMenuItemForClientId",(function(){return q}));var c={};n.r(c),n.d(c,"setSelectedMenuId",(function(){return Y})),n.d(c,"createMissingMenuItems",(function(){return J})),n.d(c,"saveNavigationPost",(function(){return W}));var o=n(0),i=n(62),s=n(12),l=n(21),u=n(9),d=n(3),m=n(5),b=n(4),p=n(30),O=n(1);const j="core/edit-navigation",g="edit-navigation/menu",_="edit-navigation/block-inspector";function f(e){const{editEntityRecord:t}=Object(b.useDispatch)(s.store),n=["root","menu",e],{editedMenu:a,hasLoadedEditedMenu:r}=Object(b.useSelect)(t=>({editedMenu:e&&t(s.store).getEditedEntityRecord(...n),hasLoadedEditedMenu:t(s.store).hasFinishedResolution("getEditedEntityRecord",[...n])}),[e]);return{editedMenu:a,menuEntityData:n,editMenuEntityRecord:t,hasLoadedEditedMenu:r}}function v(e,t){return Object(s.useEntityProp)("root","menu",e,t)}var E=n(31),y=Object(b.combineReducers)({mapping:function(e,t){const{type:n,postId:a,...r}=t;return"SET_MENU_ITEM_TO_CLIENT_ID_MAPPING"===n?{...e,[a]:r.mapping}:e||{}},processingQueue:function(e,t){var n;const{type:a,postId:r,...c}=t;switch(a){case"START_PROCESSING_POST":return{...e,[r]:{...e[r],inProgress:!0}};case"FINISH_PROCESSING_POST":return{...e,[r]:{...e[r],inProgress:!1}};case"POP_PENDING_ACTION":const t={...e[r]};var o;return"pendingActions"in t&&(t.pendingActions=null===(o=t.pendingActions)||void 0===o?void 0:o.filter(e=>e!==c.action)),{...e,[r]:t};case"ENQUEUE_AFTER_PROCESSING":const a=(null===(n=e[r])||void 0===n?void 0:n.pendingActions)||[];if(!a.includes(c.action))return{...e,[r]:{...e[r],pendingActions:[...a,c.action]}}}return e||{}},selectedMenuId:function(e=null,t){switch(t.type){case"SET_SELECTED_MENU_ID":return t.menuId}return e}}),h=n(8),S=n(34),I=n.n(S),N=n(2);const w=e=>"navigation-post-"+e;function M(e){return{menus:e,per_page:-1}}function C(e){return function*(t){const n=t.id;if(yield function(e){return{type:"IS_PROCESSING_POST",postId:e}}(n))return yield{type:"ENQUEUE_AFTER_PROCESSING",postId:n,action:e},{status:"pending"};yield{type:"POP_PENDING_ACTION",postId:n,action:e},yield{type:"START_PROCESSING_POST",postId:n};try{yield*e(yield(a=t.meta.menuId,{type:"SELECT",registryName:T,selectorName:"getNavigationPostForMenu",args:[a]}))}finally{yield{type:"FINISH_PROCESSING_POST",postId:n,action:e};const a=yield function(e){return{type:"GET_PENDING_ACTIONS",postId:e}}(n);if(a.length){const e=C(a[0]);yield*e(t)}}var a}}const k=({label:e="",url:t="",description:n,rel:a,className:r,title:c,type:o,id:i,kind:s,opensInNewTab:l})=>{var u;return o&&"tag"===o&&(o="post_tag"),{title:e,url:t,...(null==n?void 0:n.length)&&{description:n},...(null==a?void 0:a.length)&&{xfn:null==a?void 0:a.trim().split(" ")},...(null==r?void 0:r.length)&&{classes:null==r?void 0:r.trim().split(" ")},...(null==c?void 0:c.length)&&{attr_title:c},...(null===(u=o)||void 0===u?void 0:u.length)&&{object:o},...(null==s?void 0:s.length)&&{type:null==s?void 0:s.replace("-","_")},...i&&"custom"!==o&&{object_id:i},target:l?"_blank":""}},T="core/edit-navigation";function P(e){return{type:"API_FETCH",request:e}}function x(e){return{type:"GET_MENU_ITEM_TO_CLIENT_ID_MAPPING",postId:e}}function L(e){return{type:"RESOLVE_MENU_ITEMS",query:M(e)}}function B(e,t,...n){return{type:"DISPATCH",registryName:e,actionName:t,args:n}}const R={API_FETCH:({request:e})=>I()(e),SELECT:Object(b.createRegistryControl)(e=>({registryName:t,selectorName:n,args:a})=>e.select(t)[n](...a)),GET_PENDING_ACTIONS:Object(b.createRegistryControl)(e=>({postId:t})=>{var n;return(null===(n=A(e).processingQueue[t])||void 0===n?void 0:n.pendingActions)||[]}),IS_PROCESSING_POST:Object(b.createRegistryControl)(e=>({postId:t})=>{var n;return!(null===(n=A(e).processingQueue[t])||void 0===n||!n.inProgress)}),GET_MENU_ITEM_TO_CLIENT_ID_MAPPING:Object(b.createRegistryControl)(e=>({postId:t})=>A(e).mapping[t]||{}),DISPATCH:Object(b.createRegistryControl)(e=>({registryName:t,actionName:n,args:a})=>e.dispatch(t)[n](...a)),RESOLVE_MENU_ITEMS:Object(b.createRegistryControl)(e=>({query:t})=>e.resolveSelect("core").getMenuItems(t))},A=e=>e.stores[T].store.getState();var D=R;function*F(e){if(!e)return;const t=G(e);yield U(t);const n=["root","postType",t.id];yield B("core","startResolution","getEntityRecord",n);const a=yield L(e),[r,c]=function(e){const{innerBlocks:t,mapping:n}=function(e){return e?function e(t){let n={};return{innerBlocks:Object(N.sortBy)(t,"menu_order").map(t=>{var a;if("block"===t.type){const[e]=Object(h.parse)(t.content.raw);return e||Object(h.createBlock)("core/freeform",{content:t.content})}const r=function({title:e,xfn:t,classes:n,attr_title:a,object:r,object_id:c,description:o,url:i,type:s,target:l}){var u;return r&&"post_tag"===r&&(r="tag"),{label:(null==e?void 0:e.rendered)||"",...(null===(u=r)||void 0===u?void 0:u.length)&&{type:r},kind:(null==s?void 0:s.replace("_","-"))||"custom",url:i||"",...(null==t?void 0:t.length)&&t.join(" ").trim()&&{rel:t.join(" ").trim()},...(null==n?void 0:n.length)&&n.join(" ").trim()&&{className:n.join(" ").trim()},...(null==a?void 0:a.length)&&{title:a},...c&&"custom"!==r&&{id:c},...(null==o?void 0:o.length)&&{description:o},..."_blank"===l&&{opensInNewTab:!0}}}(t),{innerBlocks:c=[],mapping:o={}}=null!==(a=t.children)&&void 0!==a&&a.length?e(t.children):{};n={...n,...o};const i=Object(h.createBlock)("core/navigation-link",r,c);return n[t.id]=i.clientId,i}),mapping:n}}(function(e,t="id",n="parent"){const a=Object.create(null),r=[];for(const n of e)a[n[t]]={...n,children:[]};for(const c of e)c[n]?a[c[n]].children.push(a[c[t]]):r.push(a[c[t]]);return r}(e)):null}(e);return[Object(h.createBlock)("core/navigation",{orientation:"vertical"},t),n]}(a);yield{type:"SET_MENU_ITEM_TO_CLIENT_ID_MAPPING",postId:t.id,mapping:c},yield U(G(e,r)),yield B("core","finishResolution","getEntityRecord",n)}const G=(e,t=null)=>{const n=w(e);return{id:n,slug:n,status:"draft",type:"page",blocks:t?[t]:[],meta:{menuId:e}}},U=e=>B("core","receiveEntityRecords","root","postType",e,{id:e.id},!1);function z(e){var t;return null!==(t=e.selectedMenuId)&&void 0!==t?t:null}const V=Object(b.createRegistrySelector)(e=>(t,n)=>H(t,n)?e(s.store.name).getEditedEntityRecord("root","postType",w(n)):null),H=Object(b.createRegistrySelector)(e=>(t,n)=>e(s.store.name).hasFinishedResolution("getEntityRecord",["root","postType",w(n)])),q=Object(b.createRegistrySelector)(e=>(t,n,a)=>{const r=Object(N.invert)(t.mapping[n]);return e(s.store.name).getMenuItem(r[a])});var $=n(207);const{ajaxurl:Q}=window;function Y(e){return{type:"SET_SELECTED_MENU_ID",menuId:e}}const J=C((function*(e){const t=e.meta.menuId,n=yield x(e.id),a=Object(N.invert)(n),r=[e.blocks[0]];for(;r.length;){const e=r.pop();if(!(e.clientId in a)){const a=yield P({path:"/__experimental/menu-items",method:"POST",data:{title:"Placeholder",url:"Placeholder",menu_order:0}});n[a.id]=e.clientId;const r=yield L(t);yield B("core","receiveEntityRecords","root","menuItem",[...r,a],M(t),!1)}r.push(...e.innerBlocks)}yield{type:"SET_MENU_ITEM_TO_CLIENT_ID_MAPPING",postId:e.id,mapping:n}})),W=C((function*(e){const t=e.meta.menuId,n=function(e,t){const n={};if(!e||!t)return n;for(const a of e){const e=t[a.id];e&&(n[e]=a)}return n}(yield L(t),yield x(e.id));try{yield B("core","saveEditedEntityRecord","root","menu",t);const a=yield function(e,t,...n){return{type:"SELECT",registryName:"core",selectorName:"getLastEntitySaveError",args:n}}(0,0,"root","menu",t);if(a)throw new Error(a.message);const r=yield*function*(e,t,n){const{nonce:a,stylesheet:r}=yield P({path:"/__experimental/customizer-nonces/get-save-nonce"});if(!a)throw new Error;const c=new FormData;return c.append("wp_customize","on"),c.append("customize_theme",r),c.append("nonce",a),c.append("customize_changeset_uuid",Object($.a)()),c.append("customize_autosaved","on"),c.append("customize_changeset_status","publish"),c.append("action","customize_save"),c.append("customized",function(e,t,n){const a=function e(t,n=0){return t.flatMap((t,a)=>{var r;return[{block:t,parentId:n,position:a+1}].concat(e(t.innerBlocks,null===(r=o(t))||void 0===r?void 0:r.id))})}(e).map(({block:e,parentId:n,position:a})=>function(e,n,a){const r=Object(N.omit)(o(e),"menus","meta");let c;return c="core/navigation-link"===e.name?k(e.attributes):{type:"block",content:Object(h.serialize)(e)},{...r,...c,position:a,nav_menu_term_id:t,menu_item_parent:n,status:"publish",_invalid:!1}}(e,n,a)),r=e=>`nav_menu_item[${e.id}]`,c=Object(N.keyBy)(a,r);for(const e in n){const t=r(n[e]);t in c||(c[t]=!1)}return JSON.stringify(c);function o(e){return Object(N.omit)(n[e.clientId]||{},"_links")}}(n.innerBlocks,e,t)),yield P({url:Q||"/wp-admin/admin-ajax.php",method:"POST",body:c})}(t,n,e.blocks[0]);if(!r.success)throw new Error(r.data.message);yield B("core","receiveEntityRecords","root","postType",[e],void 0),yield B(E.store,"createSuccessNotice",Object(O.__)("Navigation saved."),{type:"snackbar"})}catch(e){const t=e?Object(O.sprintf)(
/* translators: %s: The text of an error message (potentially untranslated). */
Object(O.__)("Unable to save: '%s'"),e.message):Object(O.__)("Unable to save: An error ocurred.");yield B(E.store,"createErrorNotice",t,{type:"snackbar"})}})),K={reducer:y,controls:D,selectors:r,resolvers:a,actions:c,persist:["selectedMenuId"]},X=Object(b.createReduxStore)(T,K);Object(b.registerStore)(T,K);const Z=e=>{const t=e("core"),n={per_page:-1};return{menus:t.getMenus(n),hasLoadedMenus:t.hasFinishedResolution("getMenus",[n])}};function ee(){const e=Object(b.useSelect)(e=>e(X).getSelectedMenuId(),[]),{setSelectedMenuId:t}=Object(b.useDispatch)(X);return[e,t]}const te=(e,t)=>Object.values(e).filter(({menu:e})=>e===t).map(({name:e})=>e),ne=Object(O.__)("(untitled menu)"),ae=Object(o.createContext)();function re(){const{enableComplementaryArea:e}=Object(b.useDispatch)(p.g),[t]=ee(),[n]=v("name",t),[,a]=Object(o.useContext)(ae),r=null!=n?n:ne;return Object(o.createElement)(m.BlockControls,null,Object(o.createElement)(d.ToolbarGroup,null,Object(o.createElement)(d.ToolbarButton,{"aria-label":Object(O.sprintf)(// translators: %s: the name of a menu.
Object(O.__)("Edit menu name: %s"),r),onClick:()=>{e(j,g),a(!0)}},r)))}const ce=Object(u.createHigherOrderComponent)(e=>t=>"core/navigation"!==t.name?Object(o.createElement)(e,t):Object(o.createElement)(o.Fragment,null,Object(o.createElement)(re,null),Object(o.createElement)(e,t)),"withMenuName");function oe(e,t){return["core/navigation","core/navigation-link"].includes(t)||Object(N.set)(e,["supports","inserter"],!1),e}var ie=n(7);const se=Object(u.createHigherOrderComponent)(e=>t=>"core/navigation"!==t.name?Object(o.createElement)(e,t):Object(o.createElement)(e,Object(ie.a)({},t,{hasSubmenuIndicatorSetting:!1,hasItemJustificationControls:!1,hasColorSettings:!1})),"removeNavigationBlockEditUnsupportedFeatures");function le(e,t){return"core/navigation"!==t?e:{...e,supports:{customClassName:!1,html:!1,inserter:!0},variations:void 0}}var ue=n(10),de=n.n(ue);function me({className:e,menus:t,onCreate:n,titleText:a,helpText:r,focusInputOnMount:c=!1}){const[i,l]=Object(o.useState)(""),{createErrorNotice:m,createInfoNotice:p,removeNotice:j}=Object(b.useDispatch)(E.store),[g,_]=Object(o.useState)(!1),{saveMenu:f}=Object(b.useDispatch)(s.store),v=Object(u.useFocusOnMount)(c);return Object(o.createElement)("form",{className:de()("edit-navigation-add-menu",e),onSubmit:async e=>{if(e.preventDefault(),!i.length)return;if(j("edit-navigation-error"),Object(N.some)(t,(e=>t=>t.name.toLowerCase()===e.toLowerCase())(i))){const e=Object(O.sprintf)(// translators: %s: the name of a menu.
Object(O.__)("The menu name %s conflicts with another menu name. Please try another."),i);return void m(e,{id:"edit-navigation-error"})}_(!0);const a=await f({name:i});a&&(p(Object(O.__)("Menu created"),{type:"snackbar",isDismissible:!0}),n&&n(a.id)),_(!1)}},a&&Object(o.createElement)("h3",{className:"edit-navigation-add-menu__title"},a),Object(o.createElement)(d.TextControl,{ref:v,label:Object(O.__)("Menu name"),value:i,onChange:l,help:r}),Object(o.createElement)(d.Button,{className:"edit-navigation-add-menu__create-menu-button",type:"submit",variant:"primary",disabled:!i.length,isBusy:g},Object(O.__)("Create menu")))}function be({menus:e,selectedMenuId:t,onSelectMenu:n=N.noop}){const[a,r]=Object(o.useState)(!1),c=()=>r(!1);return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(d.MenuGroup,null,Object(o.createElement)(d.MenuItemsChoice,{value:t,onSelect:n,choices:e.map(({id:e,name:t})=>({value:e,label:t,"aria-label":Object(O.sprintf)(
/* translators: %s: The name of a menu. */
Object(O.__)("Switch to '%s'"),t)}))})),Object(o.createElement)(d.MenuGroup,{hideSeparator:!0},Object(o.createElement)(d.MenuItem,{variant:"primary",onClick:()=>r(!0)},Object(O.__)("Create a new menu")),a&&Object(o.createElement)(d.Modal,{title:Object(O.__)("Create a new menu"),onRequestClose:c},Object(o.createElement)(me,{className:"edit-navigation-menu-switcher__add-menu",menus:e,onCreate:e=>{c(),n(e)},helpText:Object(O.__)("A short descriptive name for your menu.")}))))}function pe({onCreate:e,onSelectMenu:t,menus:n}){const a=(null==n?void 0:n.length)>0;return Object(o.createElement)("div",{className:"edit-navigation-empty-state"},a&&Object(o.createElement)("h4",null,Object(O.__)("Choose a menu to edit:")),Object(o.createElement)(d.Card,null,Object(o.createElement)(d.CardBody,null,a?Object(o.createElement)(d.NavigableMenu,null,Object(o.createElement)(be,{onSelectMenu:t,menus:n})):Object(o.createElement)(me,{onCreate:e,titleText:Object(O.__)("Create your first menu"),helpText:Object(O.__)("A short descriptive name for your menu."),focusInputOnMount:!0}))))}class Oe extends o.Component{constructor(){super(...arguments),this.reboot=this.reboot.bind(this),this.state={error:null}}componentDidCatch(e){this.setState({error:e})}reboot(){this.props.onError&&this.props.onError()}render(){const{error:e}=this.state;return e?Object(o.createElement)(m.Warning,{className:"navigation-editor-error-boundary",actions:[Object(o.createElement)(d.Button,{key:"recovery",onClick:this.reboot,variant:"secondary"},Object(O.__)("Attempt Recovery"))]},Object(O.__)("The navigation editor has encountered an unexpected error.")):this.props.children}}var je=Oe,ge=n(27);function _e({saveBlocks:e}){Object(ge.useShortcut)("core/edit-navigation/save-menu",Object(o.useCallback)(t=>{t.preventDefault(),e()}),{bindGlobal:!0});const{redo:t,undo:n}=Object(b.useDispatch)(s.store);return Object(ge.useShortcut)("core/edit-navigation/undo",e=>{n(),e.preventDefault()},{bindGlobal:!0}),Object(ge.useShortcut)("core/edit-navigation/redo",e=>{t(),e.preventDefault()},{bindGlobal:!0}),null}_e.Register=function(){const{registerShortcut:e}=Object(b.useDispatch)(ge.store);return Object(o.useEffect)(()=>{e({name:"core/edit-navigation/save-menu",category:"global",description:Object(O.__)("Save the navigation currently being edited."),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/edit-navigation/undo",category:"global",description:Object(O.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-navigation/redo",category:"global",description:Object(O.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"}})},[e]),null};var fe=_e,ve=n(270);function Ee({sidebarName:e}){const{enableComplementaryArea:t}=Object(b.useDispatch)(p.g),[n,a]=e===g?// translators: ARIA label for the Menu sidebar tab, selected.
[Object(O.__)("Menu (selected)"),"is-active"]:// translators: ARIA label for the Menu Settings Sidebar tab, not selected.
[Object(O.__)("Menu"),""],[r,c]=e===_?// translators: ARIA label for the Block Settings Sidebar tab, selected.
[Object(O.__)("Block (selected)"),"is-active"]:// translators: ARIA label for the Block Settings Sidebar tab, not selected.
[Object(O.__)("Block"),""];return Object(o.createElement)("ul",null,Object(o.createElement)("li",null,Object(o.createElement)(d.Button,{onClick:()=>t(j,g),className:"edit-navigation-sidebar__panel-tab "+a,"aria-label":n,"data-label":Object(O.__)("Menu")},// translators: Text label for the Menu Settings Sidebar tab.
Object(O.__)("Menu"))),Object(o.createElement)("li",null,Object(o.createElement)(d.Button,{onClick:()=>t(j,_),className:"edit-navigation-sidebar__panel-tab "+c,"aria-label":r,"data-label":Object(O.__)("Block")},// translators: Text label for the Block Settings Sidebar tab.
Object(O.__)("Block"))))}function ye(){const[e,t]=Object(o.useContext)(ae),[n]=ee(),[a,r]=v("name",n),c=Object(o.useRef)();return Object(o.useEffect)(()=>{e&&c.current.focus()},[e]),Object(o.createElement)(d.TextControl,{ref:c,help:Object(O.__)("A short, descriptive name used to refer to this menu elsewhere."),label:Object(O.__)("Name"),onBlur:()=>t(!1),className:"edit-navigation-name-editor__text-control",value:a||"",onChange:r})}function he({menuId:e}){const[t,n]=v("auto_add",e);return Object(o.createElement)(d.ToggleControl,{label:Object(O.__)("Add new pages"),help:Object(O.__)("Automatically add published top-level pages to this menu."),checked:null!=t&&t,onChange:n})}function Se({menuId:e}){return Object(o.createElement)(d.PanelBody,{title:Object(O.__)("Menu settings")},Object(o.createElement)(ye,null),Object(o.createElement)(he,{menuId:e}))}function Ie({menus:e,selectedMenuId:t,onSelectMenu:n}){const{menuLocations:a,assignMenuToLocation:r,toggleMenuLocationAssignment:c}=function(){const[e,t]=Object(o.useState)(null),[n]=ee(),{editMenuEntityRecord:a,menuEntityData:r}=f(n);Object(o.useEffect)(()=>{let e=!0;return(async()=>{const n=await I()({method:"GET",path:"/__experimental/menu-locations/"});e&&t(n)})(),()=>e=!1},[]);const c=Object(o.useCallback)(async(n,c)=>{const o=e[n].menu,i=Object(N.merge)(e,{[n]:{menu:c}});t(i),a(...r,{locations:te(i,c||o)})},[e]);return{menuLocations:Object(o.useMemo)(()=>Object.values(e||{}),[e]),assignMenuToLocation:c,toggleMenuLocationAssignment:(t,n)=>{const a=e[t].menu===n?0:n;c(t,a)}}}(),[i,s]=Object(o.useState)(!1),l=()=>s(!1);if(!a||null==e||!e.length)return Object(o.createElement)(d.Spinner,null);if(!a.length)return Object(o.createElement)(d.PanelBody,{title:Object(O.__)("Theme locations")},Object(o.createElement)("p",null,Object(O.__)("There are no available menu locations.")));const u=Object(O.sprintf)(// translators: Number of available theme locations.
Object(O.__)("Your current theme provides %d different locations to place menu."),a.length),m=Object(O.sprintf)(// translators: Number of available theme locations.
Object(O.__)("Your current theme supports %d different locations. Select which menu appears in each location."),a.length),b=a.map(({name:n,description:a,menu:r})=>{const i=e.filter(({id:e})=>![0,t].includes(e)).find(({id:e})=>e===r);return Object(o.createElement)("li",{key:n,className:"edit-navigation-manage-locations__checklist-item"},Object(o.createElement)(d.CheckboxControl,{className:"edit-navigation-manage-locations__menu-location-checkbox",checked:r===t,onChange:()=>c(n,t),label:a,help:i&&Object(O.sprintf)(// translators: menu name.
Object(O.__)("Currently using %s"),i.name)}))}),p=a.map(t=>Object(o.createElement)("div",{key:t.name,className:"edit-navigation-manage-locations__menu-entry"},Object(o.createElement)(d.SelectControl,{key:t.name,className:"edit-navigation-manage-locations__select-menu",label:t.description,labelPosition:"top",value:t.menu,options:[{value:0,label:Object(O.__)("-"),key:0},...e.map(({id:e,name:t})=>({key:e,value:e,label:t}))],onChange:e=>{r(t.name,Number(e))}}),Object(o.createElement)(d.Button,{variant:"secondary",style:{visibility:t.menu?"visible":"hidden"},className:"edit-navigation-manage-locations__edit-button",onClick:()=>(l(),n(t.menu))},Object(O.__)("Edit"))));return Object(o.createElement)(d.PanelBody,{title:Object(O.__)("Theme locations")},Object(o.createElement)("div",{className:"edit-navigation-manage-locations__theme-location-text-main"},u),Object(o.createElement)("ul",{className:"edit-navigation-manage-locations__checklist"},b),Object(o.createElement)(d.Button,{variant:"secondary",className:"edit-navigation-manage-locations__open-menu-locations-modal-button","aria-expanded":i,onClick:()=>s(!0)},Object(O.__)("Manage locations")),i&&Object(o.createElement)(d.Modal,{className:"edit-navigation-manage-locations__modal",title:Object(O.__)("Manage locations"),onRequestClose:l},Object(o.createElement)("div",{className:"edit-navigation-manage-locations__theme-location-text-modal"},m),p))}function Ne({onDeleteMenu:e,isMenuBeingDeleted:t}){return Object(o.createElement)(d.PanelBody,null,Object(o.createElement)(d.Button,{className:"edit-navigation-inspector-additions__delete-menu-button",variant:"secondary",isDestructive:!0,isBusy:t,onClick:()=>{window.confirm(Object(O.__)("Are you sure you want to delete this navigation? This action cannot be undone."))&&e()}},Object(O.__)("Delete menu")))}function we({menuId:e,menus:t,isMenuBeingDeleted:n,onDeleteMenu:a,onSelectMenu:r,hasPermanentSidebar:c}){const{sidebar:i,hasBlockSelection:s,hasSidebarEnabled:l}=Object(b.useSelect)(e=>{const t=e(p.g).getActiveComplementaryArea(j),n=[g,_].includes(t);return{sidebar:t,hasBlockSelection:!!e(m.store).getBlockSelectionStart(),hasSidebarEnabled:n}},[]),{enableComplementaryArea:u}=Object(b.useDispatch)(p.g);Object(o.useEffect)(()=>{l&&u(j,s?_:g)},[s,l]);let d=i;return l||(d=s?_:g),Object(o.createElement)(p.b,{className:"edit-navigation-sidebar"
/* translators: button label text should, if possible, be under 16 characters. */,title:Object(O.__)("Settings"),closeLabel:Object(O.__)("Close settings"),scope:j,identifier:d,icon:ve.a,isActiveByDefault:c,header:Object(o.createElement)(Ee,{sidebarName:d}),headerClassName:"edit-navigation-sidebar__panel-tabs",isPinnable:!c},d===g&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)(Se,{menuId:e}),Object(o.createElement)(Ie,{menus:t,selectedMenuId:e,onSelectMenu:r}),Object(o.createElement)(Ne,{onDeleteMenu:a,isMenuBeingDeleted:n})),d===_&&Object(o.createElement)(m.BlockInspector,null))}function Me({navigationPost:e}){const{isDirty:t}=Object(b.useSelect)(e=>{const{__experimentalGetDirtyEntityRecords:t}=e(s.store);return{isDirty:t().length>0}},[]),{saveNavigationPost:n}=Object(b.useDispatch)(X),a=!t||!e;return Object(o.createElement)(d.Button,{className:"edit-navigation-toolbar__save-button",variant:"primary",onClick:()=>{n(e)},disabled:a},Object(O.__)("Save"))}function Ce({isMenuSelected:e,menus:t,selectedMenuId:n,onSelectMenu:a,isPending:r,navigationPost:c}){const[i]=v("name",n);let s;return s=i?Object(O.sprintf)(// translators: Name of the menu being edited, e.g. 'Main Menu'.
Object(O.__)("Editing: %s"),i):r?Object(O.__)("Loading â€¦"):Object(O.__)("No menus available"),Object(o.createElement)("div",{className:"edit-navigation-header"},Object(o.createElement)("div",{className:"edit-navigation-header__title-subtitle"},Object(o.createElement)("h1",{className:"edit-navigation-header__title"},Object(O.__)("Navigation")),Object(o.createElement)("h2",{className:"edit-navigation-header__subtitle"},e&&s)),e&&Object(o.createElement)("div",{className:"edit-navigation-header__actions"},Object(o.createElement)(d.DropdownMenu,{icon:null,toggleProps:{children:Object(O.__)("Switch menu"),"aria-label":Object(O.__)("Switch menu, or create a new menu"),showTooltip:!1,variant:"tertiary",disabled:!(null!=t&&t.length),__experimentalIsFocusable:!0},popoverProps:{className:"edit-navigation-header__menu-switcher-dropdown",position:"bottom center"}},({onClose:e})=>Object(o.createElement)(be,{menus:t,selectedMenuId:n,onSelectMenu:t=>{a(t),e()}})),Object(o.createElement)(Me,{navigationPost:c}),Object(o.createElement)(p.f.Slot,{scope:"core/edit-navigation"})))}function ke(){const{removeNotice:e}=Object(b.useDispatch)(E.store),t=Object(b.useSelect)(e=>e(E.store).getNotices(),[]),n=Object(N.filter)(t,{isDismissible:!0,type:"default"}),a=Object(N.filter)(t,{isDismissible:!1,type:"default"}),r=Object(N.filter)(t,{type:"snackbar"});return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(d.NoticeList,{notices:a,className:"edit-navigation-notices__notice-list"}),Object(o.createElement)(d.NoticeList,{notices:n,className:"edit-navigation-notices__notice-list",onRemove:e}),Object(o.createElement)(d.SnackbarList,{notices:r,className:"edit-navigation-notices__snackbar-list",onRemove:e}))}function Te({isPending:e}){return Object(o.createElement)("div",{className:"edit-navigation-editor"},e?Object(o.createElement)(d.Spinner,null):Object(o.createElement)("div",{className:"editor-styles-wrapper"},Object(o.createElement)(m.WritingFlow,null,Object(o.createElement)(m.ObserveTyping,null,Object(o.createElement)(m.BlockList,null)))))}function Pe(){const e=Object(b.useSelect)(e=>{const{__experimentalGetDirtyEntityRecords:t}=e(s.store);return t().length>0},[]);return Object(o.useEffect)(()=>{const t=t=>{if(e)return t.returnValue=Object(O.__)("You have unsaved changes. If you proceed, they will be lost."),t.returnValue};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[e]),null}const xe={
/* translators: accessibility text for the navigation screen top bar landmark region. */
header:Object(O.__)("Navigation top bar"),
/* translators: accessibility text for the navigation screen content landmark region. */
body:Object(O.__)("Navigation menu blocks"),
/* translators: accessibility text for the navigation screen settings landmark region. */
sidebar:Object(O.__)("Navigation settings")};function Le({blockEditorSettings:e}){const t=Object(m.__unstableUseBlockSelectionClearer)(),n=Object(u.useViewportMatch)("medium"),[a,r]=Object(o.useState)(!1),{saveNavigationPost:c}=Object(b.useDispatch)(X),{menus:i,hasLoadedMenus:l,hasFinishedInitialLoad:j,selectedMenuId:g,navigationPost:_,isMenuBeingDeleted:v,selectMenu:y,deleteMenu:h,isMenuSelected:S}=function(){var e;const{deleteMenu:t}=Object(b.useDispatch)(s.store),[n,a]=ee(),[r,c]=Object(o.useState)(!1),{editedMenu:i,hasLoadedEditedMenu:l}=f(n),{menus:u,hasLoadedMenus:d}=Object(b.useSelect)(Z,[]);Object(o.useEffect)(()=>{var e;!l||null!==(e=Object.keys(i))&&void 0!==e&&e.length||a(null)},[l,i]);const{createErrorNotice:m,createInfoNotice:p}=Object(b.useDispatch)(E.store),j=Object(b.useSelect)(e=>e(s.store).isDeletingEntityRecord("root","menu",n),[n]),g=(null==u||null===(e=u.find(({id:e})=>e===n))||void 0===e?void 0:e.name)||"";Object(o.useEffect)(()=>{d&&c(!0)},[d]);const _=Object(b.useSelect)(e=>{if(n)return e(X).getNavigationPostForMenu(n)},[n]);return{menus:u,hasLoadedMenus:d,hasFinishedInitialLoad:r,selectedMenuId:n,navigationPost:_,isMenuBeingDeleted:j,selectMenu:a,deleteMenu:async()=>{await t(n,{force:!0})?(a(null),p(Object(O.sprintf)(// translators: %s: the name of a menu.
Object(O.__)('"%s" menu has been deleted'),g),{type:"snackbar",isDismissible:!0})):m(Object(O.__)("Menu deletion unsuccessful"))},isMenuSelected:!!n}}(),[I,N,w]=function(e){const{createMissingMenuItems:t}=Object(b.useDispatch)(X),[n,a,r]=Object(s.useEntityBlockEditor)("root","postType",{id:null==e?void 0:e.id});return[n,a,Object(o.useCallback)(async(...n)=>{await r(...n),t(e)},[r,e])]}(_),{hasSidebarEnabled:M}=Object(b.useSelect)(e=>({hasSidebarEnabled:!!e(p.g).getActiveComplementaryArea("core/edit-navigation")}),[]);Object(o.useEffect)(()=>{!g&&null!=i&&i.length&&y(i[0].id)},[g,i]),function(e){const{lastSaveError:t,lastDeleteError:n}=Object(b.useSelect)(t=>({lastSaveError:t(s.store).getLastEntitySaveError("root","menu"),lastDeleteError:t(s.store).getLastEntityDeleteError("root","menu",e)}),[e]),{createErrorNotice:a}=Object(b.useDispatch)(E.store),r=e=>{const t=(new window.DOMParser).parseFromString(e.message,"text/html").body.textContent||"";a(t,{id:"edit-navigation-error"})};Object(o.useEffect)(()=>{t&&r(t)},[t]),Object(o.useEffect)(()=>{n&&r(n)},[n])}(g);const C=n&&S,k=!!(null!=i&&i.length&&_&&S);return Object(o.createElement)(je,null,Object(o.createElement)("div",{hidden:!v,className:"edit-navigation-layout__overlay"}),Object(o.createElement)(d.SlotFillProvider,null,Object(o.createElement)(m.BlockEditorKeyboardShortcuts.Register,null),Object(o.createElement)(fe.Register,null),Object(o.createElement)(fe,{saveBlocks:()=>c(_)}),Object(o.createElement)(ke,null),Object(o.createElement)(m.BlockEditorProvider,{value:I,onInput:N,onChange:w,settings:{...e,templateLock:"all"},useSubRegistry:!1},Object(o.createElement)(ae.Provider,{value:Object(o.useMemo)(()=>[a,r],[a])},Object(o.createElement)(p.e,{className:de()("edit-navigation-layout",{"has-permanent-sidebar":C}),labels:xe,header:Object(o.createElement)(Ce,{isMenuSelected:S,isPending:!l,menus:i,selectedMenuId:g,onSelectMenu:y,navigationPost:_}),content:Object(o.createElement)(o.Fragment,null,!j&&Object(o.createElement)(d.Spinner,null),!S&&j&&Object(o.createElement)(pe,{onSelectMenu:y,onCreate:y,menus:i}),k&&Object(o.createElement)("div",{className:"edit-navigation-layout__content-area",ref:t},Object(o.createElement)(m.BlockTools,null,Object(o.createElement)(Te,{isPending:!l,blocks:I})))),sidebar:(C||M)&&Object(o.createElement)(p.b.Slot,{scope:"core/edit-navigation"})}),S&&Object(o.createElement)(we,{menus:i,menuId:g,onSelectMenu:y,onDeleteMenu:h,isMenuBeingDeleted:v,hasPermanentSidebar:C})),Object(o.createElement)(Pe,null)),Object(o.createElement)(d.Popover.Slot,null)))}function Be(e,t){var n;n=!t.blockNavMenus,Object(l.addFilter)("editor.BlockEdit","core/edit-navigation/with-menu-name",ce),n&&Object(l.addFilter)("blocks.registerBlockType","core/edit-navigation/disable-inserting-non-navigation-blocks",oe),Object(l.addFilter)("editor.BlockEdit","core/edit-navigation/remove-navigation-block-edit-unsupported-features",se),Object(l.addFilter)("blocks.registerBlockType","core/edit-navigation/remove-navigation-block-settings-unsupported-features",le),Object(i.registerCoreBlocks)(),Object(i.__experimentalRegisterExperimentalCoreBlocks)(),t.__experimentalFetchLinkSuggestions=(e,n)=>Object(s.__experimentalFetchLinkSuggestions)(e,n,t),Object(o.render)(Object(o.createElement)(Le,{blockEditorSettings:t}),document.getElementById(e))}},6:function(e,t){e.exports=window.wp.primitives},62:function(e,t){e.exports=window.wp.blockLibrary},65:function(e,t){e.exports=window.wp.viewport},7:function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return a}))},8:function(e,t){e.exports=window.wp.blocks},9:function(e,t){e.exports=window.wp.compose}});