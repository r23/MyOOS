(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{DotTip:()=>P,store:()=>m});var t={};e.r(t),e.d(t,{disableTips:()=>d,dismissTip:()=>c,enableTips:()=>p,triggerGuide:()=>u});var r={};e.r(r),e.d(r,{areTipsEnabled:()=>T,getAssociatedGuide:()=>v,isTipVisible:()=>g});const i=window.wp.deprecated;var s=e.n(i);const o=window.wp.data,a=(0,o.combineReducers)({areTipsEnabled:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"DISABLE_TIPS":return!1;case"ENABLE_TIPS":return!0}return e},dismissedTips:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"DISMISS_TIP":return{...e,[n.id]:!0};case"ENABLE_TIPS":return{}}return e}}),l=(0,o.combineReducers)({guides:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"TRIGGER_GUIDE":return[...e,n.tipIds]}return e},preferences:a});function u(e){return{type:"TRIGGER_GUIDE",tipIds:e}}function c(e){return{type:"DISMISS_TIP",id:e}}function d(){return{type:"DISABLE_TIPS"}}function p(){return{type:"ENABLE_TIPS"}}var f={};function w(e){return[e]}function h(e,n,t){var r;if(e.length!==n.length)return!1;for(r=t;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}const v=function(e,n){var t,r=(e=>[e.guides,e.preferences.dismissedTips])||w;function i(e){var n,r,i,s,o,a=t,l=!0;for(n=0;n<e.length;n++){if(!(o=r=e[n])||"object"!=typeof o){l=!1;break}a.has(r)?a=a.get(r):(i=new WeakMap,a.set(r,i),a=i)}return a.has(f)||((s=function(){var e={clear:function(){e.head=null}};return e}()).isUniqueByDependants=l,a.set(f,s)),a.get(f)}function s(){t=new WeakMap}function o(){var n,t,s,o,a,l=arguments.length;for(o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];for((n=i(a=r.apply(null,o))).isUniqueByDependants||(n.lastDependants&&!h(a,n.lastDependants,0)&&n.clear(),n.lastDependants=a),t=n.head;t;){if(h(t.args,o,1))return t!==n.head&&(t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.next=n.head,t.prev=null,n.head.prev=t,n.head=t),t.val;t=t.next}return t={val:e.apply(null,o)},o[0]=null,t.args=o,n.head&&(n.head.prev=t,t.next=n.head),n.head=t,t.val}return o.getDependants=r,o.clear=s,s(),o}(((e,n)=>{for(const t of e.guides)if(t.includes(n)){const n=t.filter((n=>!Object.keys(e.preferences.dismissedTips).includes(n))),[r=null,i=null]=n;return{tipIds:t,currentTipId:r,nextTipId:i}}return null}));function g(e,n){var t;if(!e.preferences.areTipsEnabled)return!1;if(null!==(t=e.preferences.dismissedTips)&&void 0!==t&&t.hasOwnProperty(n))return!1;const r=v(e,n);return!r||r.currentTipId===n}function T(e){return e.preferences.areTipsEnabled}const b="core/nux",m=(0,o.createReduxStore)(b,{reducer:l,actions:t,selectors:r,persist:["preferences"]});(0,o.registerStore)(b,{reducer:l,actions:t,selectors:r,persist:["preferences"]});const I=window.wp.element,y=window.wp.compose,E=window.wp.components,S=window.wp.i18n,_=window.wp.primitives,x=(0,I.createElement)(_.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,I.createElement)(_.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function D(e){e.stopPropagation()}const P=(0,y.compose)((0,o.withSelect)(((e,n)=>{let{tipId:t}=n;const{isTipVisible:r,getAssociatedGuide:i}=e(m),s=i(t);return{isVisible:r(t),hasNextTip:!(!s||!s.nextTipId)}})),(0,o.withDispatch)(((e,n)=>{let{tipId:t}=n;const{dismissTip:r,disableTips:i}=e(m);return{onDismiss(){r(t)},onDisable(){i()}}})))((function(e){let{position:n="middle right",children:t,isVisible:r,hasNextTip:i,onDismiss:s,onDisable:o}=e;const a=(0,I.useRef)(null),l=(0,I.useCallback)((e=>{a.current&&(a.current.contains(e.relatedTarget)||o())}),[o,a]);return r?(0,I.createElement)(E.Popover,{className:"nux-dot-tip",position:n,focusOnMount:!0,role:"dialog","aria-label":(0,S.__)("Editor tips"),onClick:D,onFocusOutside:l},(0,I.createElement)("p",null,t),(0,I.createElement)("p",null,(0,I.createElement)(E.Button,{variant:"link",onClick:s},i?(0,S.__)("See next tip"):(0,S.__)("Got it"))),(0,I.createElement)(E.Button,{className:"nux-dot-tip__disable",icon:x,label:(0,S.__)("Disable tips"),onClick:o})):null}));s()("wp.nux",{since:"5.4",hint:"wp.components.Guide can be used to show a user guide.",version:"6.2"}),(window.wp=window.wp||{}).nux=n})();
//# sourceMappingURL=index.min.js.map